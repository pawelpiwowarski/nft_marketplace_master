(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2pFloodsub = factory()}(typeof self !== 'undefined' ? self : this, function () {
var Libp2pFloodsub=(()=>{var mu=Object.defineProperty;var iy=t=>mu(t,"__esModule",{value:!0});var me=(t,e)=>()=>(t&&(e=t(t=0)),e);var M=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Pe=(t,e)=>{iy(t);for(var r in e)mu(t,r,{get:e[r],enumerable:!0})};var Au=M((a9,_u)=>{var wu="Expected a function",Su=0/0,ny="[object Symbol]",ay=/^\s+|\s+$/g,sy=/^[-+]0x[0-9a-f]+$/i,oy=/^0b[01]+$/i,fy=/^0o[0-7]+$/i,uy=parseInt,cy=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,hy=typeof self=="object"&&self&&self.Object===Object&&self,dy=cy||hy||Function("return this")(),ly=Object.prototype,py=ly.toString,by=Math.max,yy=Math.min,B0=function(){return dy.Date.now()};function vy(t,e,r){var i,n,a,s,o,f,u=0,c=!1,d=!1,b=!0;if(typeof t!="function")throw new TypeError(wu);e=Eu(e)||0,Na(r)&&(c=!!r.leading,d="maxWait"in r,a=d?by(Eu(r.maxWait)||0,e):a,b="trailing"in r?!!r.trailing:b);function S(q){var H=i,U=n;return i=n=void 0,u=q,s=t.apply(U,H),s}function v(q){return u=q,o=setTimeout(C,e),c?S(q):s}function _(q){var H=q-f,U=q-u,J=e-H;return d?yy(J,a-U):J}function T(q){var H=q-f,U=q-u;return f===void 0||H>=e||H<0||d&&U>=a}function C(){var q=B0();if(T(q))return P(q);o=setTimeout(C,_(q))}function P(q){return o=void 0,b&&i?S(q):(i=n=void 0,s)}function L(){o!==void 0&&clearTimeout(o),u=0,i=f=n=o=void 0}function F(){return o===void 0?s:P(B0())}function k(){var q=B0(),H=T(q);if(i=arguments,n=this,f=q,H){if(o===void 0)return v(f);if(d)return o=setTimeout(C,e),S(f)}return o===void 0&&(o=setTimeout(C,e)),s}return k.cancel=L,k.flush=F,k}function gy(t,e,r){var i=!0,n=!0;if(typeof t!="function")throw new TypeError(wu);return Na(r)&&(i="leading"in r?!!r.leading:i,n="trailing"in r?!!r.trailing:n),vy(t,e,{leading:i,maxWait:e,trailing:n})}function Na(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function xy(t){return!!t&&typeof t=="object"}function my(t){return typeof t=="symbol"||xy(t)&&py.call(t)==ny}function Eu(t){if(typeof t=="number")return t;if(my(t))return Su;if(Na(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Na(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(ay,"");var r=oy.test(t);return r||fy.test(t)?uy(t.slice(2),r?2:8):sy.test(t)?Su:+t}_u.exports=gy});var Cu=M((Bu,Iu)=>{"use strict";var wy=Au();Bu=Iu.exports=I0;function I0(t){if(!(this instanceof I0))return new I0(t);t=t||{};let e=t.validity||30,r=new Map,i=wy(()=>{r.forEach((n,a)=>{let s=n.validity||e;Sy(n.timestamp)>s&&r.delete(a)})},200);this.put=(n,a,s)=>{this.has(n)||r.set(n,{value:a,timestamp:new Date,validity:s}),i()},this.get=n=>{if(r.has(n))return r.get(n).value;throw new Error("key does not exist")},this.has=n=>r.has(n)}function Sy(t){let r=new Date().getTime()-t.getTime();return Math.floor(r/1e3)}});function Ey(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var a=t.charAt(n),s=a.charCodeAt(0);if(r[s]!==255)throw new TypeError(a+" is ambiguous");r[s]=n}var o=t.length,f=t.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function d(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var _=0,T=0,C=0,P=v.length;C!==P&&v[C]===0;)C++,_++;for(var L=(P-C)*c+1>>>0,F=new Uint8Array(L);C!==P;){for(var k=v[C],q=0,H=L-1;(k!==0||q<T)&&H!==-1;H--,q++)k+=256*F[H]>>>0,F[H]=k%o>>>0,k=k/o>>>0;if(k!==0)throw new Error("Non-zero carry");T=q,C++}for(var U=L-T;U!==L&&F[U]===0;)U++;for(var J=f.repeat(_);U<L;++U)J+=t.charAt(F[U]);return J}function b(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var _=0;if(v[_]!==" "){for(var T=0,C=0;v[_]===f;)T++,_++;for(var P=(v.length-_)*u+1>>>0,L=new Uint8Array(P);v[_];){var F=r[v.charCodeAt(_)];if(F===255)return;for(var k=0,q=P-1;(F!==0||k<C)&&q!==-1;q--,k++)F+=o*L[q]>>>0,L[q]=F%256>>>0,F=F/256>>>0;if(F!==0)throw new Error("Non-zero carry");C=k,_++}if(v[_]!==" "){for(var H=P-C;H!==P&&L[H]===0;)H++;for(var U=new Uint8Array(T+(P-H)),J=T;H!==P;)U[J++]=L[H++];return U}}}function S(v){var _=b(v);if(_)return _;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:b,decode:S}}var _y,Ay,Tu,Mu=me(()=>{_y=Ey,Ay=_y,Tu=Ay});var Da={};Pe(Da,{coerce:()=>rr,empty:()=>Ru,equals:()=>C0,fromHex:()=>Iy,fromString:()=>T0,isBinary:()=>Cy,toHex:()=>By,toString:()=>M0});var Ru,By,Iy,C0,rr,Cy,T0,M0,ri=me(()=>{Ru=new Uint8Array(0),By=t=>t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),""),Iy=t=>{let e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):Ru},C0=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},rr=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Cy=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),T0=t=>new TextEncoder().encode(t),M0=t=>new TextDecoder().decode(t)});var Pu,Lu,qa,Nu,ka,ii,Ty,My,Le,br=me(()=>{Mu();ri();Pu=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Lu=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseDecode=i}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){let r={[this.prefix]:this,...e.decoders||{[e.prefix]:e}};return new qa(r)}},qa=class{constructor(e){this.decoders=e}or(e){let r=e.decoders||{[e.prefix]:e};return new qa({...this.decoders,...r})}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Nu=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new Pu(e,r,i),this.decoder=new Lu(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},ka=({name:t,prefix:e,encode:r,decode:i})=>new Nu(t,e,r,i),ii=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=Tu(r,e);return ka({prefix:t,name:e,encode:i,decode:a=>rr(n(a))})},Ty=(t,e,r,i)=>{let n={};for(let c=0;c<e.length;++c)n[e[c]]=c;let a=t.length;for(;t[a-1]==="=";)--a;let s=new Uint8Array(a*r/8|0),o=0,f=0,u=0;for(let c=0;c<a;++c){let d=n[t[c]];if(d===void 0)throw new SyntaxError(`Non-${i} character`);f=f<<r|d,o+=r,o>=8&&(o-=8,s[u++]=255&f>>o)}if(o>=r||255&f<<8-o)throw new SyntaxError("Unexpected end of data");return s},My=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,a="",s=0,o=0;for(let f=0;f<t.length;++f)for(o=o<<8|t[f],s+=8;s>r;)s-=r,a+=e[n&o>>s];if(s&&(a+=e[n&o<<r-s]),i)for(;a.length*r&7;)a+="=";return a},Le=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>ka({prefix:e,name:t,encode(n){return My(n,i,r)},decode(n){return Ty(n,i,r,t)}})});var R0={};Pe(R0,{identity:()=>Ry});var Ry,Du=me(()=>{br();ri();Ry=ka({prefix:"\0",name:"identity",encode:t=>M0(t),decode:t=>T0(t)})});var P0={};Pe(P0,{base2:()=>Py});var Py,qu=me(()=>{br();Py=Le({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var L0={};Pe(L0,{base8:()=>Ly});var Ly,ku=me(()=>{br();Ly=Le({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var N0={};Pe(N0,{base10:()=>Ny});var Ny,Ku=me(()=>{br();Ny=ii({prefix:"9",name:"base10",alphabet:"0123456789"})});var Ka={};Pe(Ka,{base16:()=>Dy,base16upper:()=>qy});var Dy,qy,D0=me(()=>{br();Dy=Le({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),qy=Le({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var $n={};Pe($n,{base32:()=>nn,base32hex:()=>Fy,base32hexpad:()=>zy,base32hexpadupper:()=>Vy,base32hexupper:()=>Uy,base32pad:()=>Ky,base32padupper:()=>Oy,base32upper:()=>ky,base32z:()=>Hy});var nn,ky,Ky,Oy,Fy,Uy,zy,Vy,Hy,Jn=me(()=>{br();nn=Le({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ky=Le({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ky=Le({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Oy=Le({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Fy=Le({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Uy=Le({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zy=Le({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Vy=Le({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Hy=Le({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var Oa={};Pe(Oa,{base36:()=>Gy,base36upper:()=>jy});var Gy,jy,q0=me(()=>{br();Gy=ii({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),jy=ii({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var an={};Pe(an,{base58btc:()=>yr,base58flickr:()=>Yy});var yr,Yy,sn=me(()=>{br();yr=ii({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Yy=ii({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var on={};Pe(on,{base64:()=>Wy,base64pad:()=>$y,base64url:()=>Jy,base64urlpad:()=>Zy});var Wy,$y,Jy,Zy,Zn=me(()=>{br();Wy=Le({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),$y=Le({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Jy=Le({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Zy=Le({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});function Fu(t,e,r){e=e||[],r=r||0;for(var i=r;t>=tv;)e[r++]=t&255|Ou,t/=128;for(;t&ev;)e[r++]=t&255|Ou,t>>>=7;return e[r]=t|0,Fu.bytes=r-i+1,e}function k0(t,e){var r=0,e=e||0,i=0,n=e,a,s=t.length;do{if(n>=s)throw k0.bytes=0,new RangeError("Could not decode varint");a=t[n++],r+=i<28?(a&Uu)<<i:(a&Uu)*Math.pow(2,i),i+=7}while(a>=iv);return k0.bytes=n-e,r}var Xy,Ou,Qy,ev,tv,rv,iv,Uu,nv,av,sv,ov,fv,uv,cv,hv,dv,lv,pv,bv,Xn,zu=me(()=>{Xy=Fu,Ou=128,Qy=127,ev=~Qy,tv=Math.pow(2,31);rv=k0,iv=128,Uu=127;nv=Math.pow(2,7),av=Math.pow(2,14),sv=Math.pow(2,21),ov=Math.pow(2,28),fv=Math.pow(2,35),uv=Math.pow(2,42),cv=Math.pow(2,49),hv=Math.pow(2,56),dv=Math.pow(2,63),lv=function(t){return t<nv?1:t<av?2:t<sv?3:t<ov?4:t<fv?5:t<uv?6:t<cv?7:t<hv?8:t<dv?9:10},pv={encode:Xy,decode:rv,encodingLength:lv},bv=pv,Xn=bv});var Fa={};Pe(Fa,{decode:()=>fn,encodeTo:()=>Ci,encodingLength:()=>Ti});var fn,Ci,Ti,Ua=me(()=>{zu();fn=t=>[Xn.decode(t),Xn.decode.bytes],Ci=(t,e,r=0)=>(Xn.encode(t,e,r),e),Ti=t=>Xn.encodingLength(t)});var ea={};Pe(ea,{Digest:()=>un,create:()=>Qn,decode:()=>K0,equals:()=>O0});var Qn,K0,O0,un,ta=me(()=>{ri();Ua();Qn=(t,e)=>{let r=e.byteLength,i=Ti(t),n=i+Ti(r),a=new Uint8Array(n+r);return Ci(t,a,0),Ci(r,a,i),a.set(e,n),new un(t,r,e,a)},K0=t=>{let e=rr(t),[r,i]=fn(e),[n,a]=fn(e.subarray(i)),s=e.subarray(i+a);if(s.byteLength!==n)throw new Error("Incorrect length");return new un(r,n,s,e)},O0=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&C0(t.bytes,e.bytes),un=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}}});var za={};Pe(za,{Hasher:()=>F0,from:()=>cn});var cn,F0,Va=me(()=>{ta();cn=({name:t,code:e,encode:r})=>new F0(t,e,r),F0=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}async digest(e){if(e instanceof Uint8Array){let r=await this.encode(e);return Qn(this.code,r)}else throw Error("Unknown type, must be binary type")}}});var ni={};Pe(ni,{sha256:()=>yv,sha512:()=>vv});var Vu,yv,vv,Mi=me(()=>{Va();Vu=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),yv=cn({name:"sha2-256",code:18,encode:Vu("SHA-256")}),vv=cn({name:"sha2-512",code:19,encode:Vu("SHA-512")})});var ra={};Pe(ra,{identity:()=>gv});var gv,Ha=me(()=>{Va();ri();gv=cn({name:"identity",code:0,encode:t=>rr(t)})});var U0={};Pe(U0,{code:()=>mv,decode:()=>Sv,encode:()=>wv,name:()=>xv});var Hu,xv,mv,wv,Sv,Gu=me(()=>{ri();Hu=t=>rr(t),{name:xv,code:mv,encode:wv,decode:Sv}={name:"raw",code:85,decode:Hu,encode:Hu}});var z0={};Pe(z0,{code:()=>_v,decode:()=>Bv,encode:()=>Av,name:()=>Ev});var Ev,_v,Av,Bv,ju=me(()=>{({name:Ev,code:_v,encode:Av,decode:Bv}={name:"json",code:512,encode:t=>new TextEncoder().encode(JSON.stringify(t)),decode:t=>JSON.parse(new TextDecoder().decode(t))})});var $u={};Pe($u,{CID:()=>lt});var lt,Iv,Cv,Tv,ia,Mv,Yu,Wu,Ga,ja,Rv,Pv,Lv,V0=me(()=>{Ua();ta();sn();Jn();ri();lt=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:ja,byteLength:ja,code:Ga,version:Ga,multihash:Ga,bytes:Ga,_baseCache:ja,asCID:ja})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==ia)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Mv)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return lt.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=Qn(e,r);return lt.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&O0(this.multihash,e.multihash)}toString(e){let{bytes:r,version:i,_baseCache:n}=this;switch(i){case 0:return Cv(r,n,e||yr.encoder);default:return Tv(r,n,e||nn.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Pv(/^0\.0/,Lv),!!(e&&(e[Wu]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof lt)return e;if(e!=null&&e.asCID===e){let{version:r,code:i,multihash:n,bytes:a}=e;return new lt(r,i,n,a||Yu(r,i,n.bytes))}else if(e!=null&&e[Wu]===!0){let{version:r,multihash:i,code:n}=e,a=K0(i);return lt.create(r,n,a)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==ia)throw new Error(`Version 0 CID must use dag-pb (code: ${ia}) block encoding`);return new lt(e,r,i,i.bytes)}case 1:{let n=Yu(e,r,i.bytes);return new lt(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return lt.create(0,ia,e)}static createV1(e,r){return lt.create(1,e,r)}static decode(e){let[r,i]=lt.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=lt.inspectBytes(e),i=r.size-r.multihashSize,n=rr(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let a=n.subarray(r.multihashSize-r.digestSize),s=new un(r.multihashCode,r.digestSize,a,n);return[r.version===0?lt.createV0(s):lt.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[d,b]=fn(e.subarray(r));return r+=b,d},n=i(),a=ia;if(n===18?(n=0,r=0):n===1&&(a=i()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=r,o=i(),f=i(),u=r+f,c=u-s;return{version:n,codec:a,multihashCode:o,digestSize:f,multihashSize:c,size:u}}static parse(e,r){let[i,n]=Iv(e,r),a=lt.decode(n);return a._baseCache.set(i,e),a}},Iv=(t,e)=>{switch(t[0]){case"Q":{let r=e||yr;return[yr.prefix,r.decode(`${yr.prefix}${t}`)]}case yr.prefix:{let r=e||yr;return[yr.prefix,r.decode(t)]}case nn.prefix:{let r=e||nn;return[nn.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},Cv=(t,e,r)=>{let{prefix:i}=r;if(i!==yr.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let a=r.encode(t).slice(1);return e.set(i,a),a}else return n},Tv=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let a=r.encode(t);return e.set(i,a),a}else return n},ia=112,Mv=18,Yu=(t,e,r)=>{let i=Ti(t),n=i+Ti(e),a=new Uint8Array(n+r.byteLength);return Ci(t,a,0),Ci(e,a,i),a.set(r,n),a},Wu=Symbol.for("@ipld/js-cid/CID"),Ga={writable:!1,configurable:!1,enumerable:!0},ja={writable:!1,enumerable:!1,configurable:!1},Rv="0.0.0-dev",Pv=(t,e)=>{if(t.test(Rv))console.warn(e);else throw new Error(e)},Lv=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var Ju=me(()=>{V0();Ua();ri();Va();ta()});var Zu={};Pe(Zu,{CID:()=>lt,bases:()=>Ya,bytes:()=>Da,codecs:()=>Dv,digest:()=>ea,hasher:()=>za,hashes:()=>Nv,varint:()=>Fa});var Ya,Nv,Dv,H0=me(()=>{Du();qu();ku();Ku();D0();Jn();q0();sn();Zn();Mi();Ha();Gu();ju();Ju();Ya={...R0,...P0,...L0,...N0,...Ka,...$n,...Oa,...an,...on},Nv={...ni,...ra},Dv={raw:U0,json:z0}});function Xu(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}var Qu,G0,qv,Wa,j0=me(()=>{H0();Qu=Xu("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),G0=Xu("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),qv={utf8:Qu,"utf-8":Qu,hex:Ya.base16,latin1:G0,ascii:G0,binary:G0,...Ya},Wa=qv});var zr={};Pe(zr,{toString:()=>kv});function kv(t,e="utf8"){let r=Wa[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}var Vr=me(()=>{j0()});var tc=M((F9,ec)=>{var hn=1e3,dn=hn*60,ln=dn*60,Ri=ln*24,Kv=Ri*7,Ov=Ri*365.25;ec.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Fv(t);if(r==="number"&&isFinite(t))return e.long?zv(t):Uv(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Fv(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*Ov;case"weeks":case"week":case"w":return r*Kv;case"days":case"day":case"d":return r*Ri;case"hours":case"hour":case"hrs":case"hr":case"h":return r*ln;case"minutes":case"minute":case"mins":case"min":case"m":return r*dn;case"seconds":case"second":case"secs":case"sec":case"s":return r*hn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Uv(t){var e=Math.abs(t);return e>=Ri?Math.round(t/Ri)+"d":e>=ln?Math.round(t/ln)+"h":e>=dn?Math.round(t/dn)+"m":e>=hn?Math.round(t/hn)+"s":t+"ms"}function zv(t){var e=Math.abs(t);return e>=Ri?$a(t,e,Ri,"day"):e>=ln?$a(t,e,ln,"hour"):e>=dn?$a(t,e,dn,"minute"):e>=hn?$a(t,e,hn,"second"):t+" ms"}function $a(t,e,r,i){var n=e>=r*1.5;return Math.round(t/r)+" "+i+(n?"s":"")}});var ic=M((U9,rc)=>{function Vv(t){r.debug=r,r.default=r,r.coerce=f,r.disable=a,r.enable=n,r.enabled=s,r.humanize=tc(),r.destroy=u,Object.keys(t).forEach(c=>{r[c]=t[c]}),r.names=[],r.skips=[],r.formatters={};function e(c){let d=0;for(let b=0;b<c.length;b++)d=(d<<5)-d+c.charCodeAt(b),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(c){let d,b=null,S,v;function _(...T){if(!_.enabled)return;let C=_,P=Number(new Date),L=P-(d||P);C.diff=L,C.prev=d,C.curr=P,d=P,T[0]=r.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let F=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(q,H)=>{if(q==="%%")return"%";F++;let U=r.formatters[H];if(typeof U=="function"){let J=T[F];q=U.call(C,J),T.splice(F,1),F--}return q}),r.formatArgs.call(C,T),(C.log||r.log).apply(C,T)}return _.namespace=c,_.useColors=r.useColors(),_.color=r.selectColor(c),_.extend=i,_.destroy=r.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>b!==null?b:(S!==r.namespaces&&(S=r.namespaces,v=r.enabled(c)),v),set:T=>{b=T}}),typeof r.init=="function"&&r.init(_),_}function i(c,d){let b=r(this.namespace+(typeof d=="undefined"?":":d)+c);return b.log=this.log,b}function n(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];let d,b=(typeof c=="string"?c:"").split(/[\s,]+/),S=b.length;for(d=0;d<S;d++)!b[d]||(c=b[d].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.substr(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function a(){let c=[...r.names.map(o),...r.skips.map(o).map(d=>"-"+d)].join(",");return r.enable(""),c}function s(c){if(c[c.length-1]==="*")return!0;let d,b;for(d=0,b=r.skips.length;d<b;d++)if(r.skips[d].test(c))return!1;for(d=0,b=r.names.length;d<b;d++)if(r.names[d].test(c))return!0;return!1}function o(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function f(c){return c instanceof Error?c.stack||c.message:c}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}rc.exports=Vv});var Za=M((Vt,Ja)=>{Vt.formatArgs=Gv;Vt.save=jv;Vt.load=Yv;Vt.useColors=Hv;Vt.storage=Wv();Vt.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Vt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Hv(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Gv(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Ja.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(r++,n==="%c"&&(i=r))}),t.splice(i,0,e)}Vt.log=console.debug||console.log||(()=>{});function jv(t){try{t?Vt.storage.setItem("debug",t):Vt.storage.removeItem("debug")}catch(e){}}function Yv(){let t;try{t=Vt.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function Wv(){try{return localStorage}catch(t){}}Ja.exports=ic()(Vt);var{formatters:$v}=Ja.exports;$v.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var W0=M((z9,Y0)=>{"use strict";var pn=typeof Reflect=="object"?Reflect:null,nc=pn&&typeof pn.apply=="function"?pn.apply:function(e,r,i){return Function.prototype.apply.call(e,r,i)},Xa;pn&&typeof pn.ownKeys=="function"?Xa=pn.ownKeys:Object.getOwnPropertySymbols?Xa=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Xa=function(e){return Object.getOwnPropertyNames(e)};function Jv(t){console&&console.warn&&console.warn(t)}var ac=Number.isNaN||function(e){return e!==e};function we(){we.init.call(this)}Y0.exports=we;Y0.exports.once=e3;we.EventEmitter=we;we.prototype._events=void 0;we.prototype._eventsCount=0;we.prototype._maxListeners=void 0;var sc=10;function Qa(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(we,"defaultMaxListeners",{enumerable:!0,get:function(){return sc},set:function(t){if(typeof t!="number"||t<0||ac(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");sc=t}});we.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};we.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||ac(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function oc(t){return t._maxListeners===void 0?we.defaultMaxListeners:t._maxListeners}we.prototype.getMaxListeners=function(){return oc(this)};we.prototype.emit=function(e){for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);var n=e==="error",a=this._events;if(a!==void 0)n=n&&a.error===void 0;else if(!n)return!1;if(n){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var f=a[e];if(f===void 0)return!1;if(typeof f=="function")nc(f,this,r);else for(var u=f.length,c=dc(f,u),i=0;i<u;++i)nc(c[i],this,r);return!0};function fc(t,e,r,i){var n,a,s;if(Qa(r),a=t._events,a===void 0?(a=t._events=Object.create(null),t._eventsCount=0):(a.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),a=t._events),s=a[e]),s===void 0)s=a[e]=r,++t._eventsCount;else if(typeof s=="function"?s=a[e]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),n=oc(t),n>0&&s.length>n&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=s.length,Jv(o)}return t}we.prototype.addListener=function(e,r){return fc(this,e,r,!1)};we.prototype.on=we.prototype.addListener;we.prototype.prependListener=function(e,r){return fc(this,e,r,!0)};function Zv(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function uc(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=Zv.bind(i);return n.listener=r,i.wrapFn=n,n}we.prototype.once=function(e,r){return Qa(r),this.on(e,uc(this,e,r)),this};we.prototype.prependOnceListener=function(e,r){return Qa(r),this.prependListener(e,uc(this,e,r)),this};we.prototype.removeListener=function(e,r){var i,n,a,s,o;if(Qa(r),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===r||i.listener===r)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||r));else if(typeof i!="function"){for(a=-1,s=i.length-1;s>=0;s--)if(i[s]===r||i[s].listener===r){o=i[s].listener,a=s;break}if(a<0)return this;a===0?i.shift():Xv(i,a),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,o||r)}return this};we.prototype.off=we.prototype.removeListener;we.prototype.removeAllListeners=function(e){var r,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var a=Object.keys(i),s;for(n=0;n<a.length;++n)s=a[n],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=i[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(n=r.length-1;n>=0;n--)this.removeListener(e,r[n]);return this};function cc(t,e,r){var i=t._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?r?[n.listener||n]:[n]:r?Qv(n):dc(n,n.length)}we.prototype.listeners=function(e){return cc(this,e,!0)};we.prototype.rawListeners=function(e){return cc(this,e,!1)};we.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):hc.call(t,e)};we.prototype.listenerCount=hc;function hc(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}we.prototype.eventNames=function(){return this._eventsCount>0?Xa(this._events):[]};function dc(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function Xv(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Qv(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function e3(t,e){return new Promise(function(r,i){function n(s){t.removeListener(e,a),i(s)}function a(){typeof t.removeListener=="function"&&t.removeListener("error",n),r([].slice.call(arguments))}lc(t,e,a,{once:!0}),e!=="error"&&t3(t,n,{once:!0})})}function t3(t,e,r){typeof t.on=="function"&&lc(t,"error",e,r)}function lc(t,e,r,i){if(typeof t.on=="function")i.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function n(a){i.once&&t.removeEventListener(e,n),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var vr=M((V9,bc)=>{"use strict";function pc(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function r3(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return pc(t,r)}catch(i){r.message=t.message,r.stack=t.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(t)),pc(new n,r)}}bc.exports=r3});var J0=M((H9,bn)=>{var yc=(...t)=>{let e;for(;t.length;)e=t.shift()(e);return e},$0=t=>t&&(typeof t[Symbol.asyncIterator]=="function"||typeof t[Symbol.iterator]=="function"||typeof t.next=="function"),es=t=>t&&typeof t.sink=="function"&&$0(t.source),i3=t=>e=>(t.sink(e),t.source),vc=(...t)=>{if(es(t[0])){let e=t[0];t[0]=()=>e.source}else if($0(t[0])){let e=t[0];t[0]=()=>e}if(t.length>1&&es(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),t.length>2)for(let e=1;e<t.length-1;e++)es(t[e])&&(t[e]=i3(t[e]));return yc(...t)};bn.exports=vc;bn.exports.pipe=vc;bn.exports.rawPipe=yc;bn.exports.isIterable=$0;bn.exports.isDuplex=es});var Sc=M((G9,wc)=>{"use strict";var gc=()=>{},xc=Symbol.for("@libp2p/js-interfaces/topology"),mc=class{constructor({min:e=0,max:r=1/0,handlers:i={}}){this.min=e,this.max=r,this._onConnect=i.onConnect||gc,this._onDisconnect=i.onDisconnect||gc,this.peers=new Set}get[Symbol.toStringTag](){return"Topology"}get[xc](){return!0}static isTopology(e){return Boolean(e&&e[xc])}set registrar(e){this._registrar=e}disconnect(e){this._onDisconnect(e)}};wc.exports=mc});var Bc=M((j9,Ac)=>{"use strict";var n3=Sc(),Ec=Symbol.for("@libp2p/js-interfaces/topology/multicodec-topology"),_c=class extends n3{constructor({min:e,max:r,multicodecs:i,handlers:n}){super({min:e,max:r,handlers:n});if(!i)throw new Error("one or more multicodec should be provided");if(!n)throw new Error("the handlers should be provided");if(typeof n.onConnect!="function")throw new Error("the 'onConnect' handler must be provided");if(typeof n.onDisconnect!="function")throw new Error("the 'onDisconnect' handler must be provided");this.multicodecs=Array.isArray(i)?i:[i],this._registrar=void 0,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this)}get[Symbol.toStringTag](){return"Topology"}get[Ec](){return!0}static isMulticodecTopology(e){return Boolean(e&&e[Ec])}set registrar(e){this._registrar=e,this._registrar.peerStore.on("change:protocols",this._onProtocolChange),this._registrar.connectionManager.on("peer:connect",this._onPeerConnect),this._updatePeers(this._registrar.peerStore.peers.values())}_updatePeers(e){for(let{id:r,protocols:i}of e)if(this.multicodecs.filter(n=>i.includes(n)).length){this.peers.add(r.toB58String());let n=this._registrar.getConnection(r);n&&this._onConnect(r,n)}else this.peers.delete(r.toB58String())}_onProtocolChange({peerId:e,protocols:r}){let i=this.peers.has(e.toB58String()),n=r.filter(a=>this.multicodecs.includes(a));i&&n.length===0&&this._onDisconnect(e);for(let a of r)if(this.multicodecs.includes(a)){let s=this._registrar.peerStore.get(e);this._updatePeers([s]);return}}_onPeerConnect(e){let r=e.remotePeer,i=this._registrar.peerStore.protoBook.get(r);!i||this.multicodecs.find(n=>i.includes(n))&&(this.peers.add(r.toB58String()),this._onConnect(r,e))}};Ac.exports=_c});var Cc=M(Ic=>{"use strict";Ic.codes={ERR_INVALID_SIGNATURE_POLICY:"ERR_INVALID_SIGNATURE_POLICY",ERR_UNHANDLED_SIGNATURE_POLICY:"ERR_UNHANDLED_SIGNATURE_POLICY",ERR_MISSING_SIGNATURE:"ERR_MISSING_SIGNATURE",ERR_MISSING_SEQNO:"ERR_MISSING_SEQNO",ERR_INVALID_SIGNATURE:"ERR_INVALID_SIGNATURE",ERR_UNEXPECTED_FROM:"ERR_UNEXPECTED_FROM",ERR_UNEXPECTED_SIGNATURE:"ERR_UNEXPECTED_SIGNATURE",ERR_UNEXPECTED_KEY:"ERR_UNEXPECTED_KEY",ERR_UNEXPECTED_SEQNO:"ERR_UNEXPECTED_SEQNO"}});var Mc=M((W9,Tc)=>{"use strict";Tc.exports=a3;function a3(t,e){for(var r=new Array(arguments.length-1),i=0,n=2,a=!0;n<arguments.length;)r[i++]=arguments[n++];return new Promise(function(o,f){r[i]=function(c){if(a)if(a=!1,c)f(c);else{for(var d=new Array(arguments.length-1),b=0;b<d.length;)d[b++]=arguments[b];o.apply(null,d)}};try{t.apply(e||null,r)}catch(u){a&&(a=!1,f(u))}})}});var Nc=M(Lc=>{"use strict";var ts=Lc;ts.length=function(e){var r=e.length;if(!r)return 0;for(var i=0;--r%4>1&&e.charAt(r)==="=";)++i;return Math.ceil(e.length*3)/4-i};var yn=new Array(64),Rc=new Array(123);for(ir=0;ir<64;)Rc[yn[ir]=ir<26?ir+65:ir<52?ir+71:ir<62?ir-4:ir-59|43]=ir++;var ir;ts.encode=function(e,r,i){for(var n=null,a=[],s=0,o=0,f;r<i;){var u=e[r++];switch(o){case 0:a[s++]=yn[u>>2],f=(u&3)<<4,o=1;break;case 1:a[s++]=yn[f|u>>4],f=(u&15)<<2,o=2;break;case 2:a[s++]=yn[f|u>>6],a[s++]=yn[u&63],o=0;break}s>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,a)),s=0)}return o&&(a[s++]=yn[f],a[s++]=61,o===1&&(a[s++]=61)),n?(s&&n.push(String.fromCharCode.apply(String,a.slice(0,s))),n.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var Pc="invalid encoding";ts.decode=function(e,r,i){for(var n=i,a=0,s,o=0;o<e.length;){var f=e.charCodeAt(o++);if(f===61&&a>1)break;if((f=Rc[f])===void 0)throw Error(Pc);switch(a){case 0:s=f,a=1;break;case 1:r[i++]=s<<2|(f&48)>>4,s=f,a=2;break;case 2:r[i++]=(s&15)<<4|(f&60)>>2,s=f,a=3;break;case 3:r[i++]=(s&3)<<6|f,a=0;break}}if(a===1)throw Error(Pc);return i-n};ts.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var qc=M((J9,Dc)=>{"use strict";Dc.exports=rs;function rs(){this._listeners={}}rs.prototype.on=function(e,r,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:i||this}),this};rs.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===r?i.splice(n,1):++n;return this};rs.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<r.length;)r[n].fn.apply(r[n++].ctx,i)}return this}});var Vc=M((Z9,zc)=>{"use strict";zc.exports=kc(kc);function kc(t){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),i=r[3]===128;function n(f,u,c){e[0]=f,u[c]=r[0],u[c+1]=r[1],u[c+2]=r[2],u[c+3]=r[3]}function a(f,u,c){e[0]=f,u[c]=r[3],u[c+1]=r[2],u[c+2]=r[1],u[c+3]=r[0]}t.writeFloatLE=i?n:a,t.writeFloatBE=i?a:n;function s(f,u){return r[0]=f[u],r[1]=f[u+1],r[2]=f[u+2],r[3]=f[u+3],e[0]}function o(f,u){return r[3]=f[u],r[2]=f[u+1],r[1]=f[u+2],r[0]=f[u+3],e[0]}t.readFloatLE=i?s:o,t.readFloatBE=i?o:s}():function(){function e(i,n,a,s){var o=n<0?1:0;if(o&&(n=-n),n===0)i(1/n>0?0:2147483648,a,s);else if(isNaN(n))i(2143289344,a,s);else if(n>34028234663852886e22)i((o<<31|2139095040)>>>0,a,s);else if(n<11754943508222875e-54)i((o<<31|Math.round(n/1401298464324817e-60))>>>0,a,s);else{var f=Math.floor(Math.log(n)/Math.LN2),u=Math.round(n*Math.pow(2,-f)*8388608)&8388607;i((o<<31|f+127<<23|u)>>>0,a,s)}}t.writeFloatLE=e.bind(null,Kc),t.writeFloatBE=e.bind(null,Oc);function r(i,n,a){var s=i(n,a),o=(s>>31)*2+1,f=s>>>23&255,u=s&8388607;return f===255?u?NaN:o*(1/0):f===0?o*1401298464324817e-60*u:o*Math.pow(2,f-150)*(u+8388608)}t.readFloatLE=r.bind(null,Fc),t.readFloatBE=r.bind(null,Uc)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),i=r[7]===128;function n(f,u,c){e[0]=f,u[c]=r[0],u[c+1]=r[1],u[c+2]=r[2],u[c+3]=r[3],u[c+4]=r[4],u[c+5]=r[5],u[c+6]=r[6],u[c+7]=r[7]}function a(f,u,c){e[0]=f,u[c]=r[7],u[c+1]=r[6],u[c+2]=r[5],u[c+3]=r[4],u[c+4]=r[3],u[c+5]=r[2],u[c+6]=r[1],u[c+7]=r[0]}t.writeDoubleLE=i?n:a,t.writeDoubleBE=i?a:n;function s(f,u){return r[0]=f[u],r[1]=f[u+1],r[2]=f[u+2],r[3]=f[u+3],r[4]=f[u+4],r[5]=f[u+5],r[6]=f[u+6],r[7]=f[u+7],e[0]}function o(f,u){return r[7]=f[u],r[6]=f[u+1],r[5]=f[u+2],r[4]=f[u+3],r[3]=f[u+4],r[2]=f[u+5],r[1]=f[u+6],r[0]=f[u+7],e[0]}t.readDoubleLE=i?s:o,t.readDoubleBE=i?o:s}():function(){function e(i,n,a,s,o,f){var u=s<0?1:0;if(u&&(s=-s),s===0)i(0,o,f+n),i(1/s>0?0:2147483648,o,f+a);else if(isNaN(s))i(0,o,f+n),i(2146959360,o,f+a);else if(s>17976931348623157e292)i(0,o,f+n),i((u<<31|2146435072)>>>0,o,f+a);else{var c;if(s<22250738585072014e-324)c=s/5e-324,i(c>>>0,o,f+n),i((u<<31|c/4294967296)>>>0,o,f+a);else{var d=Math.floor(Math.log(s)/Math.LN2);d===1024&&(d=1023),c=s*Math.pow(2,-d),i(c*4503599627370496>>>0,o,f+n),i((u<<31|d+1023<<20|c*1048576&1048575)>>>0,o,f+a)}}}t.writeDoubleLE=e.bind(null,Kc,0,4),t.writeDoubleBE=e.bind(null,Oc,4,0);function r(i,n,a,s,o){var f=i(s,o+n),u=i(s,o+a),c=(u>>31)*2+1,d=u>>>20&2047,b=4294967296*(u&1048575)+f;return d===2047?b?NaN:c*(1/0):d===0?c*5e-324*b:c*Math.pow(2,d-1075)*(b+4503599627370496)}t.readDoubleLE=r.bind(null,Fc,0,4),t.readDoubleBE=r.bind(null,Uc,4,0)}(),t}function Kc(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function Oc(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function Fc(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function Uc(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var Hc=M((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var jc=M(Gc=>{"use strict";var Z0=Gc;Z0.length=function(e){for(var r=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?r+=1:i<2048?r+=2:(i&64512)==55296&&(e.charCodeAt(n+1)&64512)==56320?(++n,r+=4):r+=3;return r};Z0.read=function(e,r,i){var n=i-r;if(n<1)return"";for(var a=null,s=[],o=0,f;r<i;)f=e[r++],f<128?s[o++]=f:f>191&&f<224?s[o++]=(f&31)<<6|e[r++]&63:f>239&&f<365?(f=((f&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,s[o++]=55296+(f>>10),s[o++]=56320+(f&1023)):s[o++]=(f&15)<<12|(e[r++]&63)<<6|e[r++]&63,o>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,s)),o=0);return a?(o&&a.push(String.fromCharCode.apply(String,s.slice(0,o))),a.join("")):String.fromCharCode.apply(String,s.slice(0,o))};Z0.write=function(e,r,i){for(var n=i,a,s,o=0;o<e.length;++o)a=e.charCodeAt(o),a<128?r[i++]=a:a<2048?(r[i++]=a>>6|192,r[i++]=a&63|128):(a&64512)==55296&&((s=e.charCodeAt(o+1))&64512)==56320?(a=65536+((a&1023)<<10)+(s&1023),++o,r[i++]=a>>18|240,r[i++]=a>>12&63|128,r[i++]=a>>6&63|128,r[i++]=a&63|128):(r[i++]=a>>12|224,r[i++]=a>>6&63|128,r[i++]=a&63|128);return i-n}});var Wc=M((Q9,Yc)=>{"use strict";Yc.exports=s3;function s3(t,e,r){var i=r||8192,n=i>>>1,a=null,s=i;return function(f){if(f<1||f>n)return t(f);s+f>i&&(a=t(i),s=0);var u=e.call(a,s,s+=f);return s&7&&(s=(s|7)+1),u}}});var Jc=M((e7,$c)=>{"use strict";$c.exports=gt;var na=si();function gt(t,e){this.lo=t>>>0,this.hi=e>>>0}var Pi=gt.zero=new gt(0,0);Pi.toNumber=function(){return 0};Pi.zzEncode=Pi.zzDecode=function(){return this};Pi.length=function(){return 1};var o3=gt.zeroHash="\0\0\0\0\0\0\0\0";gt.fromNumber=function(e){if(e===0)return Pi;var r=e<0;r&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return r&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new gt(i,n)};gt.from=function(e){if(typeof e=="number")return gt.fromNumber(e);if(na.isString(e))if(na.Long)e=na.Long.fromString(e);else return gt.fromNumber(parseInt(e,10));return e.low||e.high?new gt(e.low>>>0,e.high>>>0):Pi};gt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,i=~this.hi>>>0;return r||(i=i+1>>>0),-(r+i*4294967296)}return this.lo+this.hi*4294967296};gt.prototype.toLong=function(e){return na.Long?new na.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var ai=String.prototype.charCodeAt;gt.fromHash=function(e){return e===o3?Pi:new gt((ai.call(e,0)|ai.call(e,1)<<8|ai.call(e,2)<<16|ai.call(e,3)<<24)>>>0,(ai.call(e,4)|ai.call(e,5)<<8|ai.call(e,6)<<16|ai.call(e,7)<<24)>>>0)};gt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};gt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};gt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};gt.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:i<128?9:10}});var si=M(X0=>{"use strict";var $=X0;$.asPromise=Mc();$.base64=Nc();$.EventEmitter=qc();$.float=Vc();$.inquire=Hc();$.utf8=jc();$.pool=Wc();$.LongBits=Jc();$.isNode=Boolean(typeof globalThis!="undefined"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);$.global=$.isNode&&globalThis||typeof window!="undefined"&&window||typeof self!="undefined"&&self||X0;$.emptyArray=Object.freeze?Object.freeze([]):[];$.emptyObject=Object.freeze?Object.freeze({}):{};$.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};$.isString=function(e){return typeof e=="string"||e instanceof String};$.isObject=function(e){return e&&typeof e=="object"};$.isset=$.isSet=function(e,r){var i=e[r];return i!=null&&e.hasOwnProperty(r)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};$.Buffer=function(){try{var t=$.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(e){return null}}();$._Buffer_from=null;$._Buffer_allocUnsafe=null;$.newBuffer=function(e){return typeof e=="number"?$.Buffer?$._Buffer_allocUnsafe(e):new $.Array(e):$.Buffer?$._Buffer_from(e):typeof Uint8Array=="undefined"?e:new Uint8Array(e)};$.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;$.Long=$.global.dcodeIO&&$.global.dcodeIO.Long||$.global.Long||$.inquire("long");$.key2Re=/^true|false|0|1$/;$.key32Re=/^-?(?:0|[1-9][0-9]*)$/;$.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;$.longToHash=function(e){return e?$.LongBits.from(e).toHash():$.LongBits.zeroHash};$.longFromHash=function(e,r){var i=$.LongBits.fromHash(e);return $.Long?$.Long.fromBits(i.lo,i.hi,r):i.toNumber(Boolean(r))};function Zc(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;++n)(t[i[n]]===void 0||!r)&&(t[i[n]]=e[i[n]]);return t}$.merge=Zc;$.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function Xc(t){function e(r,i){if(!(this instanceof e))return new e(r,i);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&Zc(this,i)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}$.newError=Xc;$.ProtocolError=Xc("ProtocolError");$.oneOfGetter=function(e){for(var r={},i=0;i<e.length;++i)r[e[i]]=1;return function(){for(var n=Object.keys(this),a=n.length-1;a>-1;--a)if(r[n[a]]===1&&this[n[a]]!==void 0&&this[n[a]]!==null)return n[a]}};$.oneOfSetter=function(e){return function(r){for(var i=0;i<e.length;++i)e[i]!==r&&delete this[e[i]]}};$.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};$._configure=function(){var t=$.Buffer;if(!t){$._Buffer_from=$._Buffer_allocUnsafe=null;return}$._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,i){return new t(r,i)},$._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var ao=M((r7,rh)=>{"use strict";rh.exports=be;var Gt=si(),Q0,is=Gt.LongBits,Qc=Gt.base64,eh=Gt.utf8;function aa(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function eo(){}function f3(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function be(){this.len=0,this.head=new aa(eo,0,0),this.tail=this.head,this.states=null}var th=function(){return Gt.Buffer?function(){return(be.create=function(){return new Q0})()}:function(){return new be}};be.create=th();be.alloc=function(e){return new Gt.Array(e)};Gt.Array!==Array&&(be.alloc=Gt.pool(be.alloc,Gt.Array.prototype.subarray));be.prototype._push=function(e,r,i){return this.tail=this.tail.next=new aa(e,r,i),this.len+=r,this};function to(t,e,r){e[r]=t&255}function u3(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function ro(t,e){this.len=t,this.next=void 0,this.val=e}ro.prototype=Object.create(aa.prototype);ro.prototype.fn=u3;be.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new ro((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};be.prototype.int32=function(e){return e<0?this._push(io,10,is.fromNumber(e)):this.uint32(e)};be.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function io(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}be.prototype.uint64=function(e){var r=is.from(e);return this._push(io,r.length(),r)};be.prototype.int64=be.prototype.uint64;be.prototype.sint64=function(e){var r=is.from(e).zzEncode();return this._push(io,r.length(),r)};be.prototype.bool=function(e){return this._push(to,1,e?1:0)};function no(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}be.prototype.fixed32=function(e){return this._push(no,4,e>>>0)};be.prototype.sfixed32=be.prototype.fixed32;be.prototype.fixed64=function(e){var r=is.from(e);return this._push(no,4,r.lo)._push(no,4,r.hi)};be.prototype.sfixed64=be.prototype.fixed64;be.prototype.float=function(e){return this._push(Gt.float.writeFloatLE,4,e)};be.prototype.double=function(e){return this._push(Gt.float.writeDoubleLE,8,e)};var c3=Gt.Array.prototype.set?function(e,r,i){r.set(e,i)}:function(e,r,i){for(var n=0;n<e.length;++n)r[i+n]=e[n]};be.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(to,1,0);if(Gt.isString(e)){var i=be.alloc(r=Qc.length(e));Qc.decode(e,i,0),e=i}return this.uint32(r)._push(c3,r,e)};be.prototype.string=function(e){var r=eh.length(e);return r?this.uint32(r)._push(eh.write,r,e):this._push(to,1,0)};be.prototype.fork=function(){return this.states=new f3(this),this.head=this.tail=new aa(eo,0,0),this.len=0,this};be.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new aa(eo,0,0),this.len=0),this};be.prototype.ldelim=function(){var e=this.head,r=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=r,this.len+=i),this};be.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,r,i),i+=e.len,e=e.next;return r};be._configure=function(t){Q0=t,be.create=th(),Q0._configure()}});var ah=M((i7,nh)=>{"use strict";nh.exports=gr;var ih=ao();(gr.prototype=Object.create(ih.prototype)).constructor=gr;var oi=si();function gr(){ih.call(this)}gr._configure=function(){gr.alloc=oi._Buffer_allocUnsafe,gr.writeBytesBuffer=oi.Buffer&&oi.Buffer.prototype instanceof Uint8Array&&oi.Buffer.prototype.set.name==="set"?function(e,r,i){r.set(e,i)}:function(e,r,i){if(e.copy)e.copy(r,i,0,e.length);else for(var n=0;n<e.length;)r[i++]=e[n++]}};gr.prototype.bytes=function(e){oi.isString(e)&&(e=oi._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(gr.writeBytesBuffer,r,e),this};function h3(t,e,r){t.length<40?oi.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}gr.prototype.string=function(e){var r=oi.Buffer.byteLength(e);return this.uint32(r),r&&this._push(h3,r,e),this};gr._configure()});var fo=M((n7,ch)=>{"use strict";ch.exports=De;var xr=si(),so,sh=xr.LongBits,d3=xr.utf8;function nr(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function De(t){this.buf=t,this.pos=0,this.len=t.length}var oh=typeof Uint8Array!="undefined"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new De(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new De(e);throw Error("illegal buffer")},fh=function(){return xr.Buffer?function(r){return(De.create=function(n){return xr.Buffer.isBuffer(n)?new so(n):oh(n)})(r)}:oh};De.create=fh();De.prototype._slice=xr.Array.prototype.subarray||xr.Array.prototype.slice;De.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,nr(this,10);return e}}();De.prototype.int32=function(){return this.uint32()|0};De.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function oo(){var t=new sh(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw nr(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw nr(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}De.prototype.bool=function(){return this.uint32()!==0};function ns(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}De.prototype.fixed32=function(){if(this.pos+4>this.len)throw nr(this,4);return ns(this.buf,this.pos+=4)};De.prototype.sfixed32=function(){if(this.pos+4>this.len)throw nr(this,4);return ns(this.buf,this.pos+=4)|0};function uh(){if(this.pos+8>this.len)throw nr(this,8);return new sh(ns(this.buf,this.pos+=4),ns(this.buf,this.pos+=4))}De.prototype.float=function(){if(this.pos+4>this.len)throw nr(this,4);var e=xr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};De.prototype.double=function(){if(this.pos+8>this.len)throw nr(this,4);var e=xr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};De.prototype.bytes=function(){var e=this.uint32(),r=this.pos,i=this.pos+e;if(i>this.len)throw nr(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,i):r===i?new this.buf.constructor(0):this._slice.call(this.buf,r,i)};De.prototype.string=function(){var e=this.bytes();return d3.read(e,0,e.length)};De.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw nr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw nr(this);while(this.buf[this.pos++]&128);return this};De.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!=4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};De._configure=function(t){so=t,De.create=fh(),so._configure();var e=xr.Long?"toLong":"toNumber";xr.merge(De.prototype,{int64:function(){return oo.call(this)[e](!1)},uint64:function(){return oo.call(this)[e](!0)},sint64:function(){return oo.call(this).zzDecode()[e](!1)},fixed64:function(){return uh.call(this)[e](!0)},sfixed64:function(){return uh.call(this)[e](!1)}})}});var ph=M((a7,lh)=>{"use strict";lh.exports=Li;var hh=fo();(Li.prototype=Object.create(hh.prototype)).constructor=Li;var dh=si();function Li(t){hh.call(this,t)}Li._configure=function(){dh.Buffer&&(Li.prototype._slice=dh.Buffer.prototype.slice)};Li.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Li._configure()});var yh=M((s7,bh)=>{"use strict";bh.exports=sa;var uo=si();(sa.prototype=Object.create(uo.EventEmitter.prototype)).constructor=sa;function sa(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");uo.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(r)}sa.prototype.rpcCall=function t(e,r,i,n,a){if(!n)throw TypeError("request must be specified");var s=this;if(!a)return uo.asPromise(t,s,e,r,i,n);if(!s.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return s.rpcImpl(e,r[s.requestDelimited?"encodeDelimited":"encode"](n).finish(),function(f,u){if(f)return s.emit("error",f,e),a(f);if(u===null){s.end(!0);return}if(!(u instanceof i))try{u=i[s.responseDelimited?"decodeDelimited":"decode"](u)}catch(c){return s.emit("error",c,e),a(c)}return s.emit("data",u,e),a(null,u)})}catch(o){s.emit("error",o,e),setTimeout(function(){a(o)},0);return}};sa.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var gh=M(vh=>{"use strict";var l3=vh;l3.Service=yh()});var mh=M((f7,xh)=>{"use strict";xh.exports={}});var Eh=M(Sh=>{"use strict";var qt=Sh;qt.build="minimal";qt.Writer=ao();qt.BufferWriter=ah();qt.Reader=fo();qt.BufferReader=ph();qt.util=si();qt.rpc=gh();qt.roots=mh();qt.configure=wh;function wh(){qt.util._configure(),qt.Writer._configure(qt.BufferWriter),qt.Reader._configure(qt.BufferReader)}wh()});var as=M((c7,_h)=>{"use strict";_h.exports=Eh()});var ho=M((h7,Ah)=>{"use strict";var fi=as(),vn=fi.Reader,co=fi.Writer,ue=fi.util,yt=fi.roots["libp2p-pubsub-rpc"]||(fi.roots["libp2p-pubsub-rpc"]={});yt.RPC=function(){function t(e){if(this.subscriptions=[],this.msgs=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.subscriptions=ue.emptyArray,t.prototype.msgs=ue.emptyArray,t.encode=function(r,i){if(i||(i=co.create()),r.subscriptions!=null&&r.subscriptions.length)for(var n=0;n<r.subscriptions.length;++n)yt.RPC.SubOpts.encode(r.subscriptions[n],i.uint32(10).fork()).ldelim();if(r.msgs!=null&&r.msgs.length)for(var n=0;n<r.msgs.length;++n)yt.RPC.Message.encode(r.msgs[n],i.uint32(18).fork()).ldelim();return i},t.decode=function(r,i){r instanceof vn||(r=vn.create(r));for(var n=i===void 0?r.len:r.pos+i,a=new yt.RPC;r.pos<n;){var s=r.uint32();switch(s>>>3){case 1:a.subscriptions&&a.subscriptions.length||(a.subscriptions=[]),a.subscriptions.push(yt.RPC.SubOpts.decode(r,r.uint32()));break;case 2:a.msgs&&a.msgs.length||(a.msgs=[]),a.msgs.push(yt.RPC.Message.decode(r,r.uint32()));break;default:r.skipType(s&7);break}}return a},t.fromObject=function(r){if(r instanceof yt.RPC)return r;var i=new yt.RPC;if(r.subscriptions){if(!Array.isArray(r.subscriptions))throw TypeError(".RPC.subscriptions: array expected");i.subscriptions=[];for(var n=0;n<r.subscriptions.length;++n){if(typeof r.subscriptions[n]!="object")throw TypeError(".RPC.subscriptions: object expected");i.subscriptions[n]=yt.RPC.SubOpts.fromObject(r.subscriptions[n])}}if(r.msgs){if(!Array.isArray(r.msgs))throw TypeError(".RPC.msgs: array expected");i.msgs=[];for(var n=0;n<r.msgs.length;++n){if(typeof r.msgs[n]!="object")throw TypeError(".RPC.msgs: object expected");i.msgs[n]=yt.RPC.Message.fromObject(r.msgs[n])}}return i},t.toObject=function(r,i){i||(i={});var n={};if((i.arrays||i.defaults)&&(n.subscriptions=[],n.msgs=[]),r.subscriptions&&r.subscriptions.length){n.subscriptions=[];for(var a=0;a<r.subscriptions.length;++a)n.subscriptions[a]=yt.RPC.SubOpts.toObject(r.subscriptions[a],i)}if(r.msgs&&r.msgs.length){n.msgs=[];for(var a=0;a<r.msgs.length;++a)n.msgs[a]=yt.RPC.Message.toObject(r.msgs[a],i)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,fi.util.toJSONOptions)},t.SubOpts=function(){function e(i){if(i)for(var n=Object.keys(i),a=0;a<n.length;++a)i[n[a]]!=null&&(this[n[a]]=i[n[a]])}e.prototype.subscribe=null,e.prototype.topicID=null;var r;return Object.defineProperty(e.prototype,"_subscribe",{get:ue.oneOfGetter(r=["subscribe"]),set:ue.oneOfSetter(r)}),Object.defineProperty(e.prototype,"_topicID",{get:ue.oneOfGetter(r=["topicID"]),set:ue.oneOfSetter(r)}),e.encode=function(n,a){return a||(a=co.create()),n.subscribe!=null&&Object.hasOwnProperty.call(n,"subscribe")&&a.uint32(8).bool(n.subscribe),n.topicID!=null&&Object.hasOwnProperty.call(n,"topicID")&&a.uint32(18).string(n.topicID),a},e.decode=function(n,a){n instanceof vn||(n=vn.create(n));for(var s=a===void 0?n.len:n.pos+a,o=new yt.RPC.SubOpts;n.pos<s;){var f=n.uint32();switch(f>>>3){case 1:o.subscribe=n.bool();break;case 2:o.topicID=n.string();break;default:n.skipType(f&7);break}}return o},e.fromObject=function(n){if(n instanceof yt.RPC.SubOpts)return n;var a=new yt.RPC.SubOpts;return n.subscribe!=null&&(a.subscribe=Boolean(n.subscribe)),n.topicID!=null&&(a.topicID=String(n.topicID)),a},e.toObject=function(n,a){a||(a={});var s={};return n.subscribe!=null&&n.hasOwnProperty("subscribe")&&(s.subscribe=n.subscribe,a.oneofs&&(s._subscribe="subscribe")),n.topicID!=null&&n.hasOwnProperty("topicID")&&(s.topicID=n.topicID,a.oneofs&&(s._topicID="topicID")),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,fi.util.toJSONOptions)},e}(),t.Message=function(){function e(i){if(this.topicIDs=[],i)for(var n=Object.keys(i),a=0;a<n.length;++a)i[n[a]]!=null&&(this[n[a]]=i[n[a]])}e.prototype.from=null,e.prototype.data=null,e.prototype.seqno=null,e.prototype.topicIDs=ue.emptyArray,e.prototype.signature=null,e.prototype.key=null;var r;return Object.defineProperty(e.prototype,"_from",{get:ue.oneOfGetter(r=["from"]),set:ue.oneOfSetter(r)}),Object.defineProperty(e.prototype,"_data",{get:ue.oneOfGetter(r=["data"]),set:ue.oneOfSetter(r)}),Object.defineProperty(e.prototype,"_seqno",{get:ue.oneOfGetter(r=["seqno"]),set:ue.oneOfSetter(r)}),Object.defineProperty(e.prototype,"_signature",{get:ue.oneOfGetter(r=["signature"]),set:ue.oneOfSetter(r)}),Object.defineProperty(e.prototype,"_key",{get:ue.oneOfGetter(r=["key"]),set:ue.oneOfSetter(r)}),e.encode=function(n,a){if(a||(a=co.create()),n.from!=null&&Object.hasOwnProperty.call(n,"from")&&a.uint32(10).bytes(n.from),n.data!=null&&Object.hasOwnProperty.call(n,"data")&&a.uint32(18).bytes(n.data),n.seqno!=null&&Object.hasOwnProperty.call(n,"seqno")&&a.uint32(26).bytes(n.seqno),n.topicIDs!=null&&n.topicIDs.length)for(var s=0;s<n.topicIDs.length;++s)a.uint32(34).string(n.topicIDs[s]);return n.signature!=null&&Object.hasOwnProperty.call(n,"signature")&&a.uint32(42).bytes(n.signature),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&a.uint32(50).bytes(n.key),a},e.decode=function(n,a){n instanceof vn||(n=vn.create(n));for(var s=a===void 0?n.len:n.pos+a,o=new yt.RPC.Message;n.pos<s;){var f=n.uint32();switch(f>>>3){case 1:o.from=n.bytes();break;case 2:o.data=n.bytes();break;case 3:o.seqno=n.bytes();break;case 4:o.topicIDs&&o.topicIDs.length||(o.topicIDs=[]),o.topicIDs.push(n.string());break;case 5:o.signature=n.bytes();break;case 6:o.key=n.bytes();break;default:n.skipType(f&7);break}}return o},e.fromObject=function(n){if(n instanceof yt.RPC.Message)return n;var a=new yt.RPC.Message;if(n.from!=null&&(typeof n.from=="string"?ue.base64.decode(n.from,a.from=ue.newBuffer(ue.base64.length(n.from)),0):n.from.length&&(a.from=n.from)),n.data!=null&&(typeof n.data=="string"?ue.base64.decode(n.data,a.data=ue.newBuffer(ue.base64.length(n.data)),0):n.data.length&&(a.data=n.data)),n.seqno!=null&&(typeof n.seqno=="string"?ue.base64.decode(n.seqno,a.seqno=ue.newBuffer(ue.base64.length(n.seqno)),0):n.seqno.length&&(a.seqno=n.seqno)),n.topicIDs){if(!Array.isArray(n.topicIDs))throw TypeError(".RPC.Message.topicIDs: array expected");a.topicIDs=[];for(var s=0;s<n.topicIDs.length;++s)a.topicIDs[s]=String(n.topicIDs[s])}return n.signature!=null&&(typeof n.signature=="string"?ue.base64.decode(n.signature,a.signature=ue.newBuffer(ue.base64.length(n.signature)),0):n.signature.length&&(a.signature=n.signature)),n.key!=null&&(typeof n.key=="string"?ue.base64.decode(n.key,a.key=ue.newBuffer(ue.base64.length(n.key)),0):n.key.length&&(a.key=n.key)),a},e.toObject=function(n,a){a||(a={});var s={};if((a.arrays||a.defaults)&&(s.topicIDs=[]),n.from!=null&&n.hasOwnProperty("from")&&(s.from=a.bytes===String?ue.base64.encode(n.from,0,n.from.length):a.bytes===Array?Array.prototype.slice.call(n.from):n.from,a.oneofs&&(s._from="from")),n.data!=null&&n.hasOwnProperty("data")&&(s.data=a.bytes===String?ue.base64.encode(n.data,0,n.data.length):a.bytes===Array?Array.prototype.slice.call(n.data):n.data,a.oneofs&&(s._data="data")),n.seqno!=null&&n.hasOwnProperty("seqno")&&(s.seqno=a.bytes===String?ue.base64.encode(n.seqno,0,n.seqno.length):a.bytes===Array?Array.prototype.slice.call(n.seqno):n.seqno,a.oneofs&&(s._seqno="seqno")),n.topicIDs&&n.topicIDs.length){s.topicIDs=[];for(var o=0;o<n.topicIDs.length;++o)s.topicIDs[o]=n.topicIDs[o]}return n.signature!=null&&n.hasOwnProperty("signature")&&(s.signature=a.bytes===String?ue.base64.encode(n.signature,0,n.signature.length):a.bytes===Array?Array.prototype.slice.call(n.signature):n.signature,a.oneofs&&(s._signature="signature")),n.key!=null&&n.hasOwnProperty("key")&&(s.key=a.bytes===String?ue.base64.encode(n.key,0,n.key.length):a.bytes===Array?Array.prototype.slice.call(n.key):n.key,a.oneofs&&(s._key="key")),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,fi.util.toJSONOptions)},e}(),t}();Ah.exports=yt});var Ch=M(ss=>{"use strict";ss.byteLength=b3;ss.toByteArray=v3;ss.fromByteArray=m3;var mr=[],jt=[],p3=typeof Uint8Array!="undefined"?Uint8Array:Array,lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Ni=0,Bh=lo.length;Ni<Bh;++Ni)mr[Ni]=lo[Ni],jt[lo.charCodeAt(Ni)]=Ni;var Ni,Bh;jt["-".charCodeAt(0)]=62;jt["_".charCodeAt(0)]=63;function Ih(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var i=r===e?0:4-r%4;return[r,i]}function b3(t){var e=Ih(t),r=e[0],i=e[1];return(r+i)*3/4-i}function y3(t,e,r){return(e+r)*3/4-r}function v3(t){var e,r=Ih(t),i=r[0],n=r[1],a=new p3(y3(t,i,n)),s=0,o=n>0?i-4:i,f;for(f=0;f<o;f+=4)e=jt[t.charCodeAt(f)]<<18|jt[t.charCodeAt(f+1)]<<12|jt[t.charCodeAt(f+2)]<<6|jt[t.charCodeAt(f+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return n===2&&(e=jt[t.charCodeAt(f)]<<2|jt[t.charCodeAt(f+1)]>>4,a[s++]=e&255),n===1&&(e=jt[t.charCodeAt(f)]<<10|jt[t.charCodeAt(f+1)]<<4|jt[t.charCodeAt(f+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function g3(t){return mr[t>>18&63]+mr[t>>12&63]+mr[t>>6&63]+mr[t&63]}function x3(t,e,r){for(var i,n=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),n.push(g3(i));return n.join("")}function m3(t){for(var e,r=t.length,i=r%3,n=[],a=16383,s=0,o=r-i;s<o;s+=a)n.push(x3(t,s,s+a>o?o:s+a));return i===1?(e=t[r-1],n.push(mr[e>>2]+mr[e<<4&63]+"==")):i===2&&(e=(t[r-2]<<8)+t[r-1],n.push(mr[e>>10]+mr[e>>4&63]+mr[e<<2&63]+"=")),n.join("")}});var Th=M(po=>{po.read=function(t,e,r,i,n){var a,s,o=n*8-i-1,f=(1<<o)-1,u=f>>1,c=-7,d=r?n-1:0,b=r?-1:1,S=t[e+d];for(d+=b,a=S&(1<<-c)-1,S>>=-c,c+=o;c>0;a=a*256+t[e+d],d+=b,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=i;c>0;s=s*256+t[e+d],d+=b,c-=8);if(a===0)a=1-u;else{if(a===f)return s?NaN:(S?-1:1)*(1/0);s=s+Math.pow(2,i),a=a-u}return(S?-1:1)*s*Math.pow(2,a-i)};po.write=function(t,e,r,i,n,a){var s,o,f,u=a*8-n-1,c=(1<<u)-1,d=c>>1,b=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=i?0:a-1,v=i?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+d>=1?e+=b/f:e+=b*Math.pow(2,1-d),e*f>=2&&(s++,f/=2),s+d>=c?(o=0,s=c):s+d>=1?(o=(e*f-1)*Math.pow(2,n),s=s+d):(o=e*Math.pow(2,d-1)*Math.pow(2,n),s=0));n>=8;t[r+S]=o&255,S+=v,o/=256,n-=8);for(s=s<<n|o,u+=n;u>0;t[r+S]=s&255,S+=v,s/=256,u-=8);t[r+S-v]|=_*128}});var qi=M(wn=>{"use strict";var bo=Ch(),gn=Th(),Mh=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;wn.Buffer=N;wn.SlowBuffer=B3;wn.INSPECT_MAX_BYTES=50;var os=2147483647;wn.kMaxLength=os;N.TYPED_ARRAY_SUPPORT=w3();!N.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function w3(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(t){return!1}}Object.defineProperty(N.prototype,"parent",{enumerable:!0,get:function(){if(!!N.isBuffer(this))return this.buffer}});Object.defineProperty(N.prototype,"offset",{enumerable:!0,get:function(){if(!!N.isBuffer(this))return this.byteOffset}});function Hr(t){if(t>os)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,N.prototype),e}function N(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return yo(t)}return Rh(t,e,r)}N.poolSize=8192;function Rh(t,e,r){if(typeof t=="string")return E3(t,e);if(ArrayBuffer.isView(t))return _3(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(wr(t,ArrayBuffer)||t&&wr(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(wr(t,SharedArrayBuffer)||t&&wr(t.buffer,SharedArrayBuffer)))return go(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return N.from(i,e,r);let n=A3(t);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return N.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}N.from=function(t,e,r){return Rh(t,e,r)};Object.setPrototypeOf(N.prototype,Uint8Array.prototype);Object.setPrototypeOf(N,Uint8Array);function Ph(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function S3(t,e,r){return Ph(t),t<=0?Hr(t):e!==void 0?typeof r=="string"?Hr(t).fill(e,r):Hr(t).fill(e):Hr(t)}N.alloc=function(t,e,r){return S3(t,e,r)};function yo(t){return Ph(t),Hr(t<0?0:xo(t)|0)}N.allocUnsafe=function(t){return yo(t)};N.allocUnsafeSlow=function(t){return yo(t)};function E3(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!N.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=Lh(t,e)|0,i=Hr(r),n=i.write(t,e);return n!==r&&(i=i.slice(0,n)),i}function vo(t){let e=t.length<0?0:xo(t.length)|0,r=Hr(e);for(let i=0;i<e;i+=1)r[i]=t[i]&255;return r}function _3(t){if(wr(t,Uint8Array)){let e=new Uint8Array(t);return go(e.buffer,e.byteOffset,e.byteLength)}return vo(t)}function go(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&r===void 0?i=new Uint8Array(t):r===void 0?i=new Uint8Array(t,e):i=new Uint8Array(t,e,r),Object.setPrototypeOf(i,N.prototype),i}function A3(t){if(N.isBuffer(t)){let e=xo(t.length)|0,r=Hr(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||So(t.length)?Hr(0):vo(t);if(t.type==="Buffer"&&Array.isArray(t.data))return vo(t.data)}function xo(t){if(t>=os)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+os.toString(16)+" bytes");return t|0}function B3(t){return+t!=t&&(t=0),N.alloc(+t)}N.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==N.prototype};N.compare=function(e,r){if(wr(e,Uint8Array)&&(e=N.from(e,e.offset,e.byteLength)),wr(r,Uint8Array)&&(r=N.from(r,r.offset,r.byteLength)),!N.isBuffer(e)||!N.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let i=e.length,n=r.length;for(let a=0,s=Math.min(i,n);a<s;++a)if(e[a]!==r[a]){i=e[a],n=r[a];break}return i<n?-1:n<i?1:0};N.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};N.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return N.alloc(0);let i;if(r===void 0)for(r=0,i=0;i<e.length;++i)r+=e[i].length;let n=N.allocUnsafe(r),a=0;for(i=0;i<e.length;++i){let s=e[i];if(wr(s,Uint8Array))a+s.length>n.length?(N.isBuffer(s)||(s=N.from(s)),s.copy(n,a)):Uint8Array.prototype.set.call(n,s,a);else if(N.isBuffer(s))s.copy(n,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=s.length}return n};function Lh(t,e){if(N.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||wr(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return wo(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Gh(t).length;default:if(n)return i?-1:wo(t).length;e=(""+e).toLowerCase(),n=!0}}N.byteLength=Lh;function I3(t,e,r){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return k3(this,e,r);case"utf8":case"utf-8":return qh(this,e,r);case"ascii":return D3(this,e,r);case"latin1":case"binary":return q3(this,e,r);case"base64":return L3(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K3(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}N.prototype._isBuffer=!0;function Di(t,e,r){let i=t[e];t[e]=t[r],t[r]=i}N.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)Di(this,r,r+1);return this};N.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)Di(this,r,r+3),Di(this,r+1,r+2);return this};N.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)Di(this,r,r+7),Di(this,r+1,r+6),Di(this,r+2,r+5),Di(this,r+3,r+4);return this};N.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?qh(this,0,e):I3.apply(this,arguments)};N.prototype.toLocaleString=N.prototype.toString;N.prototype.equals=function(e){if(!N.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:N.compare(this,e)===0};N.prototype.inspect=function(){let e="",r=wn.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};Mh&&(N.prototype[Mh]=N.prototype.inspect);N.prototype.compare=function(e,r,i,n,a){if(wr(e,Uint8Array)&&(e=N.from(e,e.offset,e.byteLength)),!N.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),a===void 0&&(a=this.length),r<0||i>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&r>=i)return 0;if(n>=a)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,n>>>=0,a>>>=0,this===e)return 0;let s=a-n,o=i-r,f=Math.min(s,o),u=this.slice(n,a),c=e.slice(r,i);for(let d=0;d<f;++d)if(u[d]!==c[d]){s=u[d],o=c[d];break}return s<o?-1:o<s?1:0};function Nh(t,e,r,i,n){if(t.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,So(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0)if(n)r=0;else return-1;if(typeof e=="string"&&(e=N.from(e,i)),N.isBuffer(e))return e.length===0?-1:Dh(t,e,r,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Dh(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function Dh(t,e,r,i,n){let a=1,s=t.length,o=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return-1;a=2,s/=2,o/=2,r/=2}function f(c,d){return a===1?c[d]:c.readUInt16BE(d*a)}let u;if(n){let c=-1;for(u=r;u<s;u++)if(f(t,u)===f(e,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===o)return c*a}else c!==-1&&(u-=u-c),c=-1}else for(r+o>s&&(r=s-o),u=r;u>=0;u--){let c=!0;for(let d=0;d<o;d++)if(f(t,u+d)!==f(e,d)){c=!1;break}if(c)return u}return-1}N.prototype.includes=function(e,r,i){return this.indexOf(e,r,i)!==-1};N.prototype.indexOf=function(e,r,i){return Nh(this,e,r,i,!0)};N.prototype.lastIndexOf=function(e,r,i){return Nh(this,e,r,i,!1)};function C3(t,e,r,i){r=Number(r)||0;let n=t.length-r;i?(i=Number(i),i>n&&(i=n)):i=n;let a=e.length;i>a/2&&(i=a/2);let s;for(s=0;s<i;++s){let o=parseInt(e.substr(s*2,2),16);if(So(o))return s;t[r+s]=o}return s}function T3(t,e,r,i){return fs(wo(e,t.length-r),t,r,i)}function M3(t,e,r,i){return fs(z3(e),t,r,i)}function R3(t,e,r,i){return fs(Gh(e),t,r,i)}function P3(t,e,r,i){return fs(V3(e,t.length-r),t,r,i)}N.prototype.write=function(e,r,i,n){if(r===void 0)n="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")n=r,i=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let a=this.length-r;if((i===void 0||i>a)&&(i=a),e.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return C3(this,e,r,i);case"utf8":case"utf-8":return T3(this,e,r,i);case"ascii":case"latin1":case"binary":return M3(this,e,r,i);case"base64":return R3(this,e,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P3(this,e,r,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}};N.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L3(t,e,r){return e===0&&r===t.length?bo.fromByteArray(t):bo.fromByteArray(t.slice(e,r))}function qh(t,e,r){r=Math.min(t.length,r);let i=[],n=e;for(;n<r;){let a=t[n],s=null,o=a>239?4:a>223?3:a>191?2:1;if(n+o<=r){let f,u,c,d;switch(o){case 1:a<128&&(s=a);break;case 2:f=t[n+1],(f&192)==128&&(d=(a&31)<<6|f&63,d>127&&(s=d));break;case 3:f=t[n+1],u=t[n+2],(f&192)==128&&(u&192)==128&&(d=(a&15)<<12|(f&63)<<6|u&63,d>2047&&(d<55296||d>57343)&&(s=d));break;case 4:f=t[n+1],u=t[n+2],c=t[n+3],(f&192)==128&&(u&192)==128&&(c&192)==128&&(d=(a&15)<<18|(f&63)<<12|(u&63)<<6|c&63,d>65535&&d<1114112&&(s=d))}}s===null?(s=65533,o=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|s&1023),i.push(s),n+=o}return N3(i)}var kh=4096;function N3(t){let e=t.length;if(e<=kh)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=kh));return r}function D3(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(t[n]&127);return i}function q3(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function k3(t,e,r){let i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);let n="";for(let a=e;a<r;++a)n+=H3[t[a]];return n}function K3(t,e,r){let i=t.slice(e,r),n="";for(let a=0;a<i.length-1;a+=2)n+=String.fromCharCode(i[a]+i[a+1]*256);return n}N.prototype.slice=function(e,r){let i=this.length;e=~~e,r=r===void 0?i:~~r,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<e&&(r=e);let n=this.subarray(e,r);return Object.setPrototypeOf(n,N.prototype),n};function xt(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}N.prototype.readUintLE=N.prototype.readUIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||xt(e,r,this.length);let n=this[e],a=1,s=0;for(;++s<r&&(a*=256);)n+=this[e+s]*a;return n};N.prototype.readUintBE=N.prototype.readUIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||xt(e,r,this.length);let n=this[e+--r],a=1;for(;r>0&&(a*=256);)n+=this[e+--r]*a;return n};N.prototype.readUint8=N.prototype.readUInt8=function(e,r){return e=e>>>0,r||xt(e,1,this.length),this[e]};N.prototype.readUint16LE=N.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||xt(e,2,this.length),this[e]|this[e+1]<<8};N.prototype.readUint16BE=N.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||xt(e,2,this.length),this[e]<<8|this[e+1]};N.prototype.readUint32LE=N.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||xt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};N.prototype.readUint32BE=N.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||xt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};N.prototype.readBigUInt64LE=ui(function(e){e=e>>>0,mn(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&oa(e,this.length-8);let n=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,a=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(n)+(BigInt(a)<<BigInt(32))});N.prototype.readBigUInt64BE=ui(function(e){e=e>>>0,mn(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&oa(e,this.length-8);let n=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],a=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(a)});N.prototype.readIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||xt(e,r,this.length);let n=this[e],a=1,s=0;for(;++s<r&&(a*=256);)n+=this[e+s]*a;return a*=128,n>=a&&(n-=Math.pow(2,8*r)),n};N.prototype.readIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||xt(e,r,this.length);let n=r,a=1,s=this[e+--n];for(;n>0&&(a*=256);)s+=this[e+--n]*a;return a*=128,s>=a&&(s-=Math.pow(2,8*r)),s};N.prototype.readInt8=function(e,r){return e=e>>>0,r||xt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};N.prototype.readInt16LE=function(e,r){e=e>>>0,r||xt(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};N.prototype.readInt16BE=function(e,r){e=e>>>0,r||xt(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};N.prototype.readInt32LE=function(e,r){return e=e>>>0,r||xt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};N.prototype.readInt32BE=function(e,r){return e=e>>>0,r||xt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};N.prototype.readBigInt64LE=ui(function(e){e=e>>>0,mn(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&oa(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});N.prototype.readBigInt64BE=ui(function(e){e=e>>>0,mn(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&oa(e,this.length-8);let n=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});N.prototype.readFloatLE=function(e,r){return e=e>>>0,r||xt(e,4,this.length),gn.read(this,e,!0,23,4)};N.prototype.readFloatBE=function(e,r){return e=e>>>0,r||xt(e,4,this.length),gn.read(this,e,!1,23,4)};N.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||xt(e,8,this.length),gn.read(this,e,!0,52,8)};N.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||xt(e,8,this.length),gn.read(this,e,!1,52,8)};function kt(t,e,r,i,n,a){if(!N.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<a)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}N.prototype.writeUintLE=N.prototype.writeUIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){let o=Math.pow(2,8*i)-1;kt(this,e,r,i,o,0)}let a=1,s=0;for(this[r]=e&255;++s<i&&(a*=256);)this[r+s]=e/a&255;return r+i};N.prototype.writeUintBE=N.prototype.writeUIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){let o=Math.pow(2,8*i)-1;kt(this,e,r,i,o,0)}let a=i-1,s=1;for(this[r+a]=e&255;--a>=0&&(s*=256);)this[r+a]=e/s&255;return r+i};N.prototype.writeUint8=N.prototype.writeUInt8=function(e,r,i){return e=+e,r=r>>>0,i||kt(this,e,r,1,255,0),this[r]=e&255,r+1};N.prototype.writeUint16LE=N.prototype.writeUInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||kt(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};N.prototype.writeUint16BE=N.prototype.writeUInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||kt(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};N.prototype.writeUint32LE=N.prototype.writeUInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||kt(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};N.prototype.writeUint32BE=N.prototype.writeUInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||kt(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Kh(t,e,r,i,n){Hh(e,i,n,t,r,7);let a=Number(e&BigInt(4294967295));t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function Oh(t,e,r,i,n){Hh(e,i,n,t,r,7);let a=Number(e&BigInt(4294967295));t[r+7]=a,a=a>>8,t[r+6]=a,a=a>>8,t[r+5]=a,a=a>>8,t[r+4]=a;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}N.prototype.writeBigUInt64LE=ui(function(e,r=0){return Kh(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});N.prototype.writeBigUInt64BE=ui(function(e,r=0){return Oh(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});N.prototype.writeIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){let f=Math.pow(2,8*i-1);kt(this,e,r,i,f-1,-f)}let a=0,s=1,o=0;for(this[r]=e&255;++a<i&&(s*=256);)e<0&&o===0&&this[r+a-1]!==0&&(o=1),this[r+a]=(e/s>>0)-o&255;return r+i};N.prototype.writeIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){let f=Math.pow(2,8*i-1);kt(this,e,r,i,f-1,-f)}let a=i-1,s=1,o=0;for(this[r+a]=e&255;--a>=0&&(s*=256);)e<0&&o===0&&this[r+a+1]!==0&&(o=1),this[r+a]=(e/s>>0)-o&255;return r+i};N.prototype.writeInt8=function(e,r,i){return e=+e,r=r>>>0,i||kt(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};N.prototype.writeInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||kt(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};N.prototype.writeInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||kt(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};N.prototype.writeInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||kt(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};N.prototype.writeInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||kt(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};N.prototype.writeBigInt64LE=ui(function(e,r=0){return Kh(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});N.prototype.writeBigInt64BE=ui(function(e,r=0){return Oh(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Fh(t,e,r,i,n,a){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Uh(t,e,r,i,n){return e=+e,r=r>>>0,n||Fh(t,e,r,4,34028234663852886e22,-34028234663852886e22),gn.write(t,e,r,i,23,4),r+4}N.prototype.writeFloatLE=function(e,r,i){return Uh(this,e,r,!0,i)};N.prototype.writeFloatBE=function(e,r,i){return Uh(this,e,r,!1,i)};function zh(t,e,r,i,n){return e=+e,r=r>>>0,n||Fh(t,e,r,8,17976931348623157e292,-17976931348623157e292),gn.write(t,e,r,i,52,8),r+8}N.prototype.writeDoubleLE=function(e,r,i){return zh(this,e,r,!0,i)};N.prototype.writeDoubleBE=function(e,r,i){return zh(this,e,r,!1,i)};N.prototype.copy=function(e,r,i,n){if(!N.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),r>=e.length&&(r=e.length),r||(r=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-r<n-i&&(n=e.length-r+i);let a=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),r),a};N.prototype.fill=function(e,r,i,n){if(typeof e=="string"){if(typeof r=="string"?(n=r,r=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!N.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let a;if(typeof e=="number")for(a=r;a<i;++a)this[a]=e;else{let s=N.isBuffer(e)?e:N.from(e,n),o=s.length;if(o===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<i-r;++a)this[a+r]=s[a%o]}return this};var xn={};function mo(t,e,r){xn[t]=class extends r{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}mo("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);mo("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);mo("ERR_OUT_OF_RANGE",function(t,e,r){let i=`The value of "${t}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>2**32?n=Vh(String(r)):typeof r=="bigint"&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=Vh(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i},RangeError);function Vh(t){let e="",r=t.length,i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function O3(t,e,r){mn(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&oa(e,t.length-(r+1))}function Hh(t,e,r,i,n,a){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",o;throw a>3?e===0||e===BigInt(0)?o=`>= 0${s} and < 2${s} ** ${(a+1)*8}${s}`:o=`>= -(2${s} ** ${(a+1)*8-1}${s}) and < 2 ** ${(a+1)*8-1}${s}`:o=`>= ${e}${s} and <= ${r}${s}`,new xn.ERR_OUT_OF_RANGE("value",o,t)}O3(i,n,a)}function mn(t,e){if(typeof t!="number")throw new xn.ERR_INVALID_ARG_TYPE(e,"number",t)}function oa(t,e,r){throw Math.floor(t)!==t?(mn(t,r),new xn.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new xn.ERR_BUFFER_OUT_OF_BOUNDS:new xn.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var F3=/[^+/0-9A-Za-z-_]/g;function U3(t){if(t=t.split("=")[0],t=t.trim().replace(F3,""),t.length<2)return"";for(;t.length%4!=0;)t=t+"=";return t}function wo(t,e){e=e||1/0;let r,i=t.length,n=null,a=[];for(let s=0;s<i;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(s+1===i){(e-=3)>-1&&a.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&a.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function z3(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function V3(t,e){let r,i,n,a=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),i=r>>8,n=r%256,a.push(n),a.push(i);return a}function Gh(t){return bo.toByteArray(U3(t))}function fs(t,e,r,i){let n;for(n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function wr(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function So(t){return t!==t}var H3=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let i=r*16;for(let n=0;n<16;++n)e[i+n]=t[r]+t[n]}return e}();function ui(t){return typeof BigInt=="undefined"?G3:t}function G3(){throw new Error("BigInt not supported")}});var Eo=M((y7,Yh)=>{"use strict";var{Buffer:ar}=qi(),jh=Symbol.for("BufferList");function Ae(t){if(!(this instanceof Ae))return new Ae(t);Ae._init.call(this,t)}Ae._init=function(e){Object.defineProperty(this,jh,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};Ae.prototype._new=function(e){return new Ae(e)};Ae.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let i=0;i<this._bufs.length;i++){let n=r+this._bufs[i].length;if(e<n||i===this._bufs.length-1)return[i,e-r];r=n}};Ae.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let i=0;i<e;i++)r+=this._bufs[i].length;return r};Ae.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};Ae.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};Ae.prototype.copy=function(e,r,i,n){if((typeof i!="number"||i<0)&&(i=0),(typeof n!="number"||n>this.length)&&(n=this.length),i>=this.length||n<=0)return e||ar.alloc(0);let a=!!e,s=this._offset(i),o=n-i,f=o,u=a&&r||0,c=s[1];if(i===0&&n===this.length){if(!a)return this._bufs.length===1?this._bufs[0]:ar.concat(this._bufs,this.length);for(let d=0;d<this._bufs.length;d++)this._bufs[d].copy(e,u),u+=this._bufs[d].length;return e}if(f<=this._bufs[s[0]].length-c)return a?this._bufs[s[0]].copy(e,r,c,c+f):this._bufs[s[0]].slice(c,c+f);a||(e=ar.allocUnsafe(o));for(let d=s[0];d<this._bufs.length;d++){let b=this._bufs[d].length-c;if(f>b)this._bufs[d].copy(e,u,c),u+=b;else{this._bufs[d].copy(e,u,c,c+f),u+=b;break}f-=b,c&&(c=0)}return e.length>u?e.slice(0,u):e};Ae.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let i=this._offset(e),n=this._offset(r),a=this._bufs.slice(i[0],n[0]+1);return n[1]===0?a.pop():a[a.length-1]=a[a.length-1].slice(0,n[1]),i[1]!==0&&(a[0]=a[0].slice(i[1])),this._new(a)};Ae.prototype.toString=function(e,r,i){return this.slice(r,i).toString(e)};Ae.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};Ae.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};Ae.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(ar.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(ar.from(e));return this};Ae.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};Ae.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=ar.from([t]):typeof t=="string"?t=ar.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=ar.from(t.buffer,t.byteOffset,t.byteLength):ar.isBuffer(t)||(t=ar.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let i=this._offset(e),n=i[0],a=i[1];for(;n<this._bufs.length;n++){let s=this._bufs[n];for(;a<s.length;)if(s.length-a>=t.length){let f=s.indexOf(t,a);if(f!==-1)return this._reverseOffset([n,f]);a=s.length-t.length+1}else{let f=this._reverseOffset([n,a]);if(this._match(f,t))return f;a++}a=0}return-1};Ae.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?Ae.prototype[r]=function(i,n){return this.slice(i,i+n)[r](0,n)}:Ae.prototype[r]=function(i=0){return this.slice(i,i+t[r])[r](0)}})(e)})();Ae.prototype._isBufferList=function(e){return e instanceof Ae||Ae.isBufferList(e)};Ae.isBufferList=function(e){return e!=null&&e[jh]};Yh.exports=Ae});var Jh=M((v7,$h)=>{$h.exports=_o;var Wh=128,j3=127,Y3=~j3,W3=Math.pow(2,31);function _o(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw _o.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var i=r;t>=W3;)e[r++]=t&255|Wh,t/=128;for(;t&Y3;)e[r++]=t&255|Wh,t>>>=7;return e[r]=t|0,_o.bytes=r-i+1,e}});var Qh=M((g7,Xh)=>{Xh.exports=Ao;var $3=128,Zh=127;function Ao(t,e){var r=0,e=e||0,i=0,n=e,a,s=t.length;do{if(n>=s||i>49)throw Ao.bytes=0,new RangeError("Could not decode varint");a=t[n++],r+=i<28?(a&Zh)<<i:(a&Zh)*Math.pow(2,i),i+=7}while(a>=$3);return Ao.bytes=n-e,r}});var td=M((x7,ed)=>{var J3=Math.pow(2,7),Z3=Math.pow(2,14),X3=Math.pow(2,21),Q3=Math.pow(2,28),eg=Math.pow(2,35),tg=Math.pow(2,42),rg=Math.pow(2,49),ig=Math.pow(2,56),ng=Math.pow(2,63);ed.exports=function(t){return t<J3?1:t<Z3?2:t<X3?3:t<Q3?4:t<eg?5:t<tg?6:t<rg?7:t<ig?8:t<ng?9:10}});var Bo=M((m7,rd)=>{rd.exports={encode:Jh(),decode:Qh(),encodingLength:td()}});var Io=M((w7,ad)=>{"use strict";var id=Bo(),{Buffer:ag}=qi(),nd=(t,e,r)=>{let i=id.encode(t,e,r);return nd.bytes=id.encode.bytes,e||ag.from(i)};ad.exports=nd});var hd=M((S7,us)=>{"use strict";var{Buffer:sd}=qi(),od=Eo(),fd=Io(),Co=8,ud=10*1024;function cd(t){t=t||{};let e=Math.max(t.poolSize||ud,t.minPoolSize||Co),r=t.lengthEncoder||fd;return async function*(n){let a=sd.alloc(e),s=0;for await(let o of n){r(o.length,a,s);let f=a.slice(s,s+r.bytes);s+=r.bytes,a.length-s<Co&&(a=sd.alloc(e),s=0),yield new od().append(f).append(o)}}}cd.single=(t,e)=>{e=e||{};let r=e.lengthEncoder||fd;return new od([r(t.length),t.slice()])};us.exports=cd;us.exports.MIN_POOL_SIZE=Co;us.exports.DEFAULT_POOL_SIZE=ud});var To=M((E7,pd)=>{"use strict";var dd=Bo(),{Buffer:sg}=qi(),og=t=>new Proxy({},{get:(e,r)=>r[0]==="l"?t[r]:t.get(parseInt(r))}),ld=t=>{let e=dd.decode(sg.isBuffer(t)?t:og(t));return ld.bytes=dd.decode.bytes,e};pd.exports=ld});var gd=M((_7,cs)=>{"use strict";var{Buffer:fg}=qi(),Mo=Eo(),ug=To(),bd=8,yd=1024*1024*4,vd=fg.alloc(0),ci={LENGTH:"readLength",DATA:"readData"},cg={[ci.LENGTH]:(t,e,r,i)=>{e=e.append(t);let n;try{n=i.lengthDecoder(e)}catch(a){if(e.length>i.maxLengthLength)throw Object.assign(a,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(a instanceof RangeError)return{mode:ci.LENGTH,buffer:e,chunk:void 0,state:void 0,data:void 0};throw a}if(n>i.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return t=e.shallowSlice(i.lengthDecoder.bytes),e=new Mo,i.onLength&&i.onLength(n),n<=0?(i.onData&&i.onData(vd),{mode:ci.LENGTH,chunk:t,buffer:e,data:vd}):{mode:ci.DATA,chunk:t,buffer:e,state:{dataLength:n},data:void 0}},[ci.DATA]:(t,e,r,i)=>{if(e=e.append(t),!r)throw new Error("state is required");if(e.length<r.dataLength)return{mode:ci.DATA,buffer:e,state:r,chunk:void 0,data:void 0};let{dataLength:n}=r,a=e.shallowSlice(0,n),s=e.length>n?e.shallowSlice(n):void 0;return e=new Mo,i.onData&&i.onData(a),{mode:ci.LENGTH,chunk:s,buffer:e,state:void 0,data:a}}};function Ro(t){t=t||{};let e={lengthDecoder:t.lengthDecoder||ug,maxLengthLength:t.maxLengthLength||bd,maxDataLength:t.maxDataLength||yd,onLength:t.onLength,onData:t.onData};return async function*(i){let n=new Mo,a=ci.LENGTH,s;for await(let o of i){let f=o;for(;f;){let u=cg[a](f,n,s,e);a=u.mode,f=u.chunk,n=u.buffer,s=u.state,u.data&&(yield u.data)}}if(n.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}}Ro.fromReader=(t,e)=>{let r=1,i={[Symbol.asyncIterator](){return this},next:async()=>{try{return await t.next(r)}catch(a){if(a.code==="ERR_UNDER_READ")return{done:!0,value:null};throw a}finally{r=1}}};return Ro({...e||{},onLength:a=>{r=a}})(i)};cs.exports=Ro;cs.exports.MAX_LENGTH_LENGTH=bd;cs.exports.MAX_DATA_LENGTH=yd});var wd=M((A7,md)=>{"use strict";var{Buffer:hg}=qi(),xd=(t,e,r)=>(e=e||hg.allocUnsafe(4),e.writeInt32BE(t,r),e);xd.bytes=4;md.exports=xd});var _d=M((B7,Ed)=>{"use strict";var Sd=t=>{if(t.length<4)throw RangeError("Could not decode int32BE");return t.readInt32BE(0)};Sd.bytes=4;Ed.exports=Sd});var Ad=M(ki=>{"use strict";ki.encode=hd();ki.decode=gd();ki.varintEncode=Io();ki.varintDecode=To();ki.int32BEEncode=wd();ki.int32BEDecode=_d()});var Id=M((T7,Bd)=>{Bd.exports=class{constructor(e){if(!(e>0)||(e-1&e)!=0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return this.buffer[this.btm]===void 0}}});var Md=M((R7,Td)=>{var Cd=Id();Td.exports=class{constructor(e){this.hwm=e||16,this.head=new Cd(this.hwm),this.tail=this.head}push(e){if(!this.head.push(e)){let r=this.head;this.head=r.next=new Cd(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}isEmpty(){return this.head.isEmpty()}}});var Pd=M((P7,Rd)=>{var Po=Md();Rd.exports=t=>{t=t||{};let e;typeof t=="function"?(e=t,t={}):e=t.onEnd;let r=new Po,i,n,a,s=()=>{if(!r.isEmpty()){if(t.writev){let _,T=[];for(;!r.isEmpty();){if(_=r.shift(),_.error)throw _.error;T.push(_.value)}return{done:_.done,value:T}}let v=r.shift();if(v.error)throw v.error;return v}return a?{done:!0}:new Promise((v,_)=>{n=T=>(n=null,T.error?_(T.error):t.writev&&!T.done?v({done:T.done,value:[T.value]}):v(T),i)})},o=v=>n?n(v):(r.push(v),i),f=v=>(r=new Po,n?n({error:v}):(r.push({error:v}),i)),u=v=>a?i:o({done:!1,value:v}),c=v=>a?i:(a=!0,v?f(v):o({done:!0})),d=()=>(r=new Po,c(),{done:!0}),b=v=>(c(v),{done:!0});if(i={[Symbol.asyncIterator](){return this},next:s,return:d,throw:b,push:u,end:c},!e)return i;let S=i;return i={[Symbol.asyncIterator](){return this},next(){return S.next()},throw(v){return S.throw(v),e&&(e(v),e=null),{done:!0}},return(){return S.return(),e&&(e(),e=null),{done:!0}},push:u,end(v){return S.end(v),e&&(e(v),e=null),i}},i}});var Nd=M((L7,Ld)=>{Ld.exports=function(e){if(e){if(typeof e[Symbol.iterator]=="function")return e[Symbol.iterator]();if(typeof e[Symbol.asyncIterator]=="function")return e[Symbol.asyncIterator]();if(typeof e.next=="function")return e}throw new Error("argument is not an iterator or iterable")}});var qd=M((D7,Dd)=>{Dd.exports=class extends Error{constructor(e,r){super(e||"The operation was aborted");this.type="aborted",this.code=r||"ABORT_ERR"}}});var Fd=M((q7,Ki)=>{var dg=Nd(),Lo=qd(),kd=(t,e,r)=>No(t,Array.isArray(e)?e:[{signal:e,options:r}]),No=(t,e)=>{t=dg(t),e=e.map(({signal:i,options:n})=>({signal:i,options:n||{}}));async function*r(){let i,n=()=>{i&&i()};for(let{signal:a}of e)a.addEventListener("abort",n);for(;;){let a;try{for(let{signal:o,options:f}of e)if(o.aborted){let{abortMessage:u,abortCode:c}=f;throw new Lo(u,c)}let s=new Promise((o,f)=>{i=()=>{let{options:u}=e.find(({signal:b})=>b.aborted),{abortMessage:c,abortCode:d}=u;f(new Lo(c,d))}});a=await Promise.race([s,t.next()]),i=null}catch(s){for(let{signal:u}of e)u.removeEventListener("abort",n);let o=e.find(({signal:u})=>u.aborted),f=s.type==="aborted"&&o;if(f&&o.options.onAbort&&await o.options.onAbort(t),typeof t.return=="function"&&await t.return(),f&&o.options.returnOnAbort)return;throw s}if(a.done)break;yield a.value}for(let{signal:a}of e)a.removeEventListener("abort",n)}return r()},Kd=(t,e,r)=>Od(t,Array.isArray(e)?e:[{signal:e,options:r}]),Od=(t,e)=>r=>t(No(r,e)),lg=(t,e,r)=>pg(t,Array.isArray(e)?e:[{signal:e,options:r}]),pg=(t,e)=>({sink:Od(t.sink,e),source:No(t.source,e)});Ki.exports=kd;Ki.exports.AbortError=Lo;Ki.exports.source=kd;Ki.exports.sink=Kd;Ki.exports.transform=Kd;Ki.exports.duplex=lg});var zd=M((k7,hs)=>{"use strict";var{AbortController:Ud,AbortSignal:bg}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;hs.exports=Ud;hs.exports.AbortSignal=bg;hs.exports.default=Ud});var Wd=M((K7,Yd)=>{"use strict";var Vd=Za(),yg=Object.assign(Vd("libp2p-pubsub:peer-streams"),{error:Vd("libp2p-pubsub:peer-streams:err")}),{EventEmitter:vg}=W0(),Hd=Ad(),gg=Pd(),{pipe:Gd}=J0(),{source:xg}=Fd(),mg=zd().default,jd=class extends vg{constructor({id:e,protocol:r}){super();this.id=e,this.protocol=r,this._rawOutboundStream=null,this._rawInboundStream=null,this._inboundAbortController=new mg,this.outboundStream=null,this.inboundStream=null}get isReadable(){return Boolean(this.inboundStream)}get isWritable(){return Boolean(this.outboundStream)}write(e){if(!this.outboundStream){let r=this.id.toB58String();throw new Error("No writable connection to "+r)}this.outboundStream.push(e)}attachInboundStream(e){return this._rawInboundStream=e,this.inboundStream=xg(Gd(this._rawInboundStream,Hd.decode()),this._inboundAbortController.signal,{returnOnAbort:!0}),this.emit("stream:inbound"),this.inboundStream}async attachOutboundStream(e){let r=this.outboundStream;this.outboundStream&&await this.outboundStream.end(),this._rawOutboundStream=e,this.outboundStream=gg({onEnd:i=>{this._rawOutboundStream&&this._rawOutboundStream.reset&&this._rawOutboundStream.reset(),this._rawOutboundStream=null,this.outboundStream=null,i&&this.emit("close")}}),Gd(this.outboundStream,Hd.encode(),this._rawOutboundStream).catch(i=>{yg.error(i)}),r||this.emit("stream:outbound")}close(){this.outboundStream&&this.outboundStream.end(),this.inboundStream&&this._inboundAbortController.abort(),this._rawOutboundStream=null,this.outboundStream=null,this._rawInboundStream=null,this.inboundStream=null,this.emit("close")}};Yd.exports=jd});var Jd=M($d=>{"use strict";var wg={StrictSign:"StrictSign",StrictNoSign:"StrictNoSign"};$d.SignaturePolicy=wg});var Xd=M((F7,Zd)=>{"use strict";var ds=65536;function Sg(t){let e=new Uint8Array(t),r=0;if(t>0)if(t>ds)for(;r<t;)r+ds>t?(crypto.getRandomValues(e.subarray(r,r+(t-r))),r+=t-r):(crypto.getRandomValues(e.subarray(r,r+ds)),r+=ds);else crypto.getRandomValues(e);return e}Zd.exports=Sg});var ls=M((U7,Qd)=>{"use strict";var Eg=Xd(),_g=vr();Qd.exports=function(t){if(isNaN(t)||t<=0)throw _g(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return Eg(t)}});var qo=M((z7,il)=>{"use strict";var{bases:el}=(H0(),Zu);function tl(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}var rl=tl("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),Do=tl("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Ag={utf8:rl,"utf-8":rl,hex:el.base16,latin1:Do,ascii:Do,binary:Do,...el};il.exports=Ag});var al=M((V7,nl)=>{"use strict";var Bg=qo();function Ig(t,e="utf8"){let r=Bg[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}nl.exports=Ig});var ko=M((H7,sl)=>{"use strict";var Cg=qo();function Tg(t,e="utf8"){let r=Cg[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}sl.exports=Tg});var bs=M((G7,fl)=>{"use strict";var Oi=as(),ps=Oi.Reader,ol=Oi.Writer,Mt=Oi.util,Yt=Oi.roots["libp2p-crypto-keys"]||(Oi.roots["libp2p-crypto-keys"]={});Yt.KeyType=function(){var t={},e=Object.create(t);return e[t[0]="RSA"]=0,e[t[1]="Ed25519"]=1,e[t[2]="Secp256k1"]=2,e}();Yt.PublicKey=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.Type=0,t.prototype.Data=Mt.newBuffer([]),t.encode=function(r,i){return i||(i=ol.create()),i.uint32(8).int32(r.Type),i.uint32(18).bytes(r.Data),i},t.decode=function(r,i){r instanceof ps||(r=ps.create(r));for(var n=i===void 0?r.len:r.pos+i,a=new Yt.PublicKey;r.pos<n;){var s=r.uint32();switch(s>>>3){case 1:a.Type=r.int32();break;case 2:a.Data=r.bytes();break;default:r.skipType(s&7);break}}if(!a.hasOwnProperty("Type"))throw Mt.ProtocolError("missing required 'Type'",{instance:a});if(!a.hasOwnProperty("Data"))throw Mt.ProtocolError("missing required 'Data'",{instance:a});return a},t.fromObject=function(r){if(r instanceof Yt.PublicKey)return r;var i=new Yt.PublicKey;switch(r.Type){case"RSA":case 0:i.Type=0;break;case"Ed25519":case 1:i.Type=1;break;case"Secp256k1":case 2:i.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?Mt.base64.decode(r.Data,i.Data=Mt.newBuffer(Mt.base64.length(r.Data)),0):r.Data.length&&(i.Data=r.Data)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(n.Type=i.enums===String?"RSA":0,i.bytes===String?n.Data="":(n.Data=[],i.bytes!==Array&&(n.Data=Mt.newBuffer(n.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(n.Type=i.enums===String?Yt.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(n.Data=i.bytes===String?Mt.base64.encode(r.Data,0,r.Data.length):i.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,Oi.util.toJSONOptions)},t}();Yt.PrivateKey=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.Type=0,t.prototype.Data=Mt.newBuffer([]),t.encode=function(r,i){return i||(i=ol.create()),i.uint32(8).int32(r.Type),i.uint32(18).bytes(r.Data),i},t.decode=function(r,i){r instanceof ps||(r=ps.create(r));for(var n=i===void 0?r.len:r.pos+i,a=new Yt.PrivateKey;r.pos<n;){var s=r.uint32();switch(s>>>3){case 1:a.Type=r.int32();break;case 2:a.Data=r.bytes();break;default:r.skipType(s&7);break}}if(!a.hasOwnProperty("Type"))throw Mt.ProtocolError("missing required 'Type'",{instance:a});if(!a.hasOwnProperty("Data"))throw Mt.ProtocolError("missing required 'Data'",{instance:a});return a},t.fromObject=function(r){if(r instanceof Yt.PrivateKey)return r;var i=new Yt.PrivateKey;switch(r.Type){case"RSA":case 0:i.Type=0;break;case"Ed25519":case 1:i.Type=1;break;case"Secp256k1":case 2:i.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?Mt.base64.decode(r.Data,i.Data=Mt.newBuffer(Mt.base64.length(r.Data)),0):r.Data.length&&(i.Data=r.Data)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(n.Type=i.enums===String?"RSA":0,i.bytes===String?n.Data="":(n.Data=[],i.bytes!==Array&&(n.Data=Mt.newBuffer(n.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(n.Type=i.enums===String?Yt.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(n.Data=i.bytes===String?Mt.base64.encode(r.Data,0,r.Data.length):i.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,Oi.util.toJSONOptions)},t}();fl.exports=Yt});var ge=M((j7,ul)=>{ul.exports={options:{usePureJavaScript:!1}}});var dl=M((Y7,hl)=>{var Ko={};hl.exports=Ko;var cl={};Ko.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var i="";if(!(t instanceof Uint8Array))i=Mg(t,e);else{var n=0,a=e.length,s=e.charAt(0),o=[0];for(n=0;n<t.length;++n){for(var f=0,u=t[n];f<o.length;++f)u+=o[f]<<8,o[f]=u%a,u=u/a|0;for(;u>0;)o.push(u%a),u=u/a|0}for(n=0;t[n]===0&&n<t.length-1;++n)i+=s;for(n=o.length-1;n>=0;--n)i+=e[o[n]]}if(r){var c=new RegExp(".{1,"+r+"}","g");i=i.match(c).join(`\r
`)}return i};Ko.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=cl[e];if(!r){r=cl[e]=[];for(var i=0;i<e.length;++i)r[e.charCodeAt(i)]=i}t=t.replace(/\s/g,"");for(var n=e.length,a=e.charAt(0),s=[0],i=0;i<t.length;i++){var o=r[t.charCodeAt(i)];if(o===void 0)return;for(var f=0,u=o;f<s.length;++f)u+=s[f]*n,s[f]=u&255,u>>=8;for(;u>0;)s.push(u&255),u>>=8}for(var c=0;t[c]===a&&c<t.length-1;++c)s.push(0);return typeof Buffer!="undefined"?Buffer.from(s.reverse()):new Uint8Array(s.reverse())};function Mg(t,e){var r=0,i=e.length,n=e.charAt(0),a=[0];for(r=0;r<t.length();++r){for(var s=0,o=t.at(r);s<a.length;++s)o+=a[s]<<8,a[s]=o%i,o=o/i|0;for(;o>0;)a.push(o%i),o=o/i|0}var f="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)f+=n;for(r=a.length-1;r>=0;--r)f+=e[a[r]];return f}});var qe=M((W7,yl)=>{var ll=ge(),pl=dl(),I=yl.exports=ll.util=ll.util||{};(function(){if(typeof process!="undefined"&&process.nextTick&&!process.browser){I.nextTick=process.nextTick,typeof setImmediate=="function"?I.setImmediate=setImmediate:I.setImmediate=I.nextTick;return}if(typeof setImmediate=="function"){I.setImmediate=function(){return setImmediate.apply(void 0,arguments)},I.nextTick=function(o){return setImmediate(o)};return}if(I.setImmediate=function(o){setTimeout(o,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){let o=function(f){if(f.source===window&&f.data===t){f.stopPropagation();var u=e.slice();e.length=0,u.forEach(function(c){c()})}};var s=o,t="forge.setImmediate",e=[];I.setImmediate=function(f){e.push(f),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",o,!0)}if(typeof MutationObserver!="undefined"){var r=Date.now(),i=!0,n=document.createElement("div"),e=[];new MutationObserver(function(){var f=e.slice();e.length=0,f.forEach(function(u){u()})}).observe(n,{attributes:!0});var a=I.setImmediate;I.setImmediate=function(f){Date.now()-r>15?(r=Date.now(),a(f)):(e.push(f),e.length===1&&n.setAttribute("a",i=!i))}}I.nextTick=I.setImmediate})();I.isNodejs=typeof process!="undefined"&&process.versions&&process.versions.node;I.globalScope=function(){return I.isNodejs?globalThis:typeof self=="undefined"?window:self}();I.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};I.isArrayBuffer=function(t){return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer};I.isArrayBufferView=function(t){return t&&I.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function fa(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}I.ByteBuffer=Oo;function Oo(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(I.isArrayBuffer(t)||I.isArrayBufferView(t))if(typeof Buffer!="undefined"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(i){for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof Oo||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}I.ByteStringBuffer=Oo;var Rg=4096;I.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>Rg&&(this.data.substr(0,1),this._constructedStringLength=0)};I.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};I.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};I.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};I.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};I.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};I.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(I.encodeUtf8(t))};I.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};I.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};I.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};I.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};I.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};I.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};I.ByteStringBuffer.prototype.putInt=function(t,e){fa(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};I.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};I.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};I.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};I.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};I.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};I.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};I.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};I.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};I.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};I.ByteStringBuffer.prototype.getInt=function(t){fa(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};I.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};I.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};I.ByteStringBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};I.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};I.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};I.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};I.ByteStringBuffer.prototype.copy=function(){var t=I.createBuffer(this.data);return t.read=this.read,t};I.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};I.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};I.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};I.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};I.ByteStringBuffer.prototype.toString=function(){return I.decodeUtf8(this.bytes())};function Pg(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=I.isArrayBuffer(t),i=I.isArrayBufferView(t);if(r||i){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}I.DataBuffer=Pg;I.DataBuffer.prototype.length=function(){return this.write-this.read};I.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};I.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),i=new Uint8Array(this.length()+e);return i.set(r),this.data=new DataView(i.buffer),this};I.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};I.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};I.DataBuffer.prototype.putBytes=function(t,e){if(I.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),i=r.byteLength-r.byteOffset;this.accommodate(i);var n=new Uint8Array(this.data.buffer,this.write);return n.set(r),this.write+=i,this}if(I.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var n=new Uint8Array(this.data.buffer);return n.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof I.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&I.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var n=new Uint8Array(t.data.byteLength,this.write);return n.set(r),this.write+=r.byteLength,this}if(t instanceof I.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var a;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=I.binary.hex.decode(t,a,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),a=new Uint8Array(this.data.buffer,this.write),this.write+=I.binary.base64.decode(t,a,this.write),this;if(e==="utf8"&&(t=I.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=I.binary.raw.decode(a),this;if(e==="utf16")return this.accommodate(t.length*2),a=new Uint16Array(this.data.buffer,this.write),this.write+=I.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};I.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};I.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};I.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};I.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};I.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};I.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};I.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};I.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};I.DataBuffer.prototype.putInt=function(t,e){fa(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};I.DataBuffer.prototype.putSignedInt=function(t,e){return fa(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};I.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};I.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};I.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};I.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};I.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};I.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};I.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};I.DataBuffer.prototype.getInt=function(t){fa(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};I.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};I.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};I.DataBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};I.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};I.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};I.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};I.DataBuffer.prototype.copy=function(){return new I.DataBuffer(this)};I.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};I.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};I.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};I.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};I.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return I.binary.raw.encode(e);if(t==="hex")return I.binary.hex.encode(e);if(t==="base64")return I.binary.base64.encode(e);if(t==="utf8")return I.text.utf8.decode(e);if(t==="utf16")return I.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};I.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=I.encodeUtf8(t)),new I.ByteBuffer(t)};I.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};I.xorBytes=function(t,e,r){for(var i="",n="",a="",s=0,o=0;r>0;--r,++s)n=t.charCodeAt(s)^e.charCodeAt(s),o>=10&&(i+=a,a="",o=0),a+=String.fromCharCode(n),++o;return i+=a,i};I.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};I.bytesToHex=function(t){return I.createBuffer(t).toHex()};I.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var hi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",di=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],bl="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";I.encode64=function(t,e){for(var r="",i="",n,a,s,o=0;o<t.length;)n=t.charCodeAt(o++),a=t.charCodeAt(o++),s=t.charCodeAt(o++),r+=hi.charAt(n>>2),r+=hi.charAt((n&3)<<4|a>>4),isNaN(a)?r+="==":(r+=hi.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":hi.charAt(s&63)),e&&r.length>e&&(i+=r.substr(0,e)+`\r
`,r=r.substr(e));return i+=r,i};I.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,i,n,a,s=0;s<t.length;)r=di[t.charCodeAt(s++)-43],i=di[t.charCodeAt(s++)-43],n=di[t.charCodeAt(s++)-43],a=di[t.charCodeAt(s++)-43],e+=String.fromCharCode(r<<2|i>>4),n!==64&&(e+=String.fromCharCode((i&15)<<4|n>>2),a!==64&&(e+=String.fromCharCode((n&3)<<6|a)));return e};I.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};I.decodeUtf8=function(t){return decodeURIComponent(escape(t))};I.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:pl.encode,decode:pl.decode}};I.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};I.binary.raw.decode=function(t,e,r){var i=e;i||(i=new Uint8Array(t.length)),r=r||0;for(var n=r,a=0;a<t.length;++a)i[n++]=t.charCodeAt(a);return e?n-r:i};I.binary.hex.encode=I.bytesToHex;I.binary.hex.decode=function(t,e,r){var i=e;i||(i=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var n=0,a=r;for(t.length&1&&(n=1,i[a++]=parseInt(t[0],16));n<t.length;n+=2)i[a++]=parseInt(t.substr(n,2),16);return e?a-r:i};I.binary.base64.encode=function(t,e){for(var r="",i="",n,a,s,o=0;o<t.byteLength;)n=t[o++],a=t[o++],s=t[o++],r+=hi.charAt(n>>2),r+=hi.charAt((n&3)<<4|a>>4),isNaN(a)?r+="==":(r+=hi.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":hi.charAt(s&63)),e&&r.length>e&&(i+=r.substr(0,e)+`\r
`,r=r.substr(e));return i+=r,i};I.binary.base64.decode=function(t,e,r){var i=e;i||(i=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var n,a,s,o,f=0,u=r;f<t.length;)n=di[t.charCodeAt(f++)-43],a=di[t.charCodeAt(f++)-43],s=di[t.charCodeAt(f++)-43],o=di[t.charCodeAt(f++)-43],i[u++]=n<<2|a>>4,s!==64&&(i[u++]=(a&15)<<4|s>>2,o!==64&&(i[u++]=(s&3)<<6|o));return e?u-r:i.subarray(0,u)};I.binary.base58.encode=function(t,e){return I.binary.baseN.encode(t,bl,e)};I.binary.base58.decode=function(t,e){return I.binary.baseN.decode(t,bl,e)};I.text={utf8:{},utf16:{}};I.text.utf8.encode=function(t,e,r){t=I.encodeUtf8(t);var i=e;i||(i=new Uint8Array(t.length)),r=r||0;for(var n=r,a=0;a<t.length;++a)i[n++]=t.charCodeAt(a);return e?n-r:i};I.text.utf8.decode=function(t){return I.decodeUtf8(String.fromCharCode.apply(null,t))};I.text.utf16.encode=function(t,e,r){var i=e;i||(i=new Uint8Array(t.length*2));var n=new Uint16Array(i.buffer);r=r||0;for(var a=r,s=r,o=0;o<t.length;++o)n[s++]=t.charCodeAt(o),a+=2;return e?a-r:i};I.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};I.deflate=function(t,e,r){if(e=I.decode64(t.deflate(I.encode64(e)).rval),r){var i=2,n=e.charCodeAt(1);n&32&&(i=6),e=e.substring(i,e.length-4)}return e};I.inflate=function(t,e,r){var i=t.inflate(I.encode64(e)).rval;return i===null?null:I.decode64(i)};var Fo=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var i;if(r===null?i=t.removeItem(e):(r=I.encode64(JSON.stringify(r)),i=t.setItem(e,r)),typeof i!="undefined"&&i.rval!==!0){var n=new Error(i.error.message);throw n.id=i.error.id,n.name=i.error.name,n}},Uo=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var i=new Error(r.error.message);throw i.id=r.error.id,i.name=r.error.name,i}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(I.decode64(r))),r},Lg=function(t,e,r,i){var n=Uo(t,e);n===null&&(n={}),n[r]=i,Fo(t,e,n)},Ng=function(t,e,r){var i=Uo(t,e);return i!==null&&(i=r in i?i[r]:null),i},Dg=function(t,e,r){var i=Uo(t,e);if(i!==null&&r in i){delete i[r];var n=!0;for(var a in i){n=!1;break}n&&(i=null),Fo(t,e,i)}},qg=function(t,e){Fo(t,e,null)},ys=function(t,e,r){var i=null;typeof r=="undefined"&&(r=["web","flash"]);var n,a=!1,s=null;for(var o in r){n=r[o];try{if(n==="flash"||n==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");i=t.apply(this,e),a=n==="flash"}(n==="web"||n==="both")&&(e[0]=localStorage,i=t.apply(this,e),a=!0)}catch(f){s=f}if(a)break}if(!a)throw s;return i};I.setItem=function(t,e,r,i,n){ys(Lg,arguments,n)};I.getItem=function(t,e,r,i){return ys(Ng,arguments,i)};I.removeItem=function(t,e,r,i){ys(Dg,arguments,i)};I.clearItems=function(t,e,r){ys(qg,arguments,r)};I.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),i=r===null?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return i&&(i.fullHost=i.host,i.port?(i.port!==80&&i.scheme==="http"||i.port!==443&&i.scheme==="https")&&(i.fullHost+=":"+i.port):i.scheme==="http"?i.port=80:i.scheme==="https"&&(i.port=443),i.full=i.scheme+"://"+i.fullHost),i};var vs=null;I.getQueryVariables=function(t){var e=function(i){for(var n={},a=i.split("&"),s=0;s<a.length;s++){var o=a[s].indexOf("="),f,u;o>0?(f=a[s].substring(0,o),u=a[s].substring(o+1)):(f=a[s],u=null),f in n||(n[f]=[]),!(f in Object.prototype)&&u!==null&&n[f].push(unescape(u))}return n},r;return typeof t=="undefined"?(vs===null&&(typeof window!="undefined"&&window.location&&window.location.search?vs=e(window.location.search.substring(1)):vs={}),r=vs):r=e(t),r};I.parseFragment=function(t){var e=t,r="",i=t.indexOf("?");i>0&&(e=t.substring(0,i),r=t.substring(i+1));var n=e.split("/");n.length>0&&n[0]===""&&n.shift();var a=r===""?{}:I.getQueryVariables(r);return{pathString:e,queryString:r,path:n,query:a}};I.makeRequest=function(t){var e=I.parseFragment(t),r={path:e.pathString,query:e.queryString,getPath:function(i){return typeof i=="undefined"?e.path:e.path[i]},getQuery:function(i,n){var a;return typeof i=="undefined"?a=e.query:(a=e.query[i],a&&typeof n!="undefined"&&(a=a[n])),a},getQueryLast:function(i,n){var a,s=r.getQuery(i);return s?a=s[s.length-1]:a=n,a}};return r};I.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var i=jQuery.param(e||{});return r=r||"",t+(i.length>0?"?"+i:"")+(r.length>0?"#"+r:"")};I.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};I.format=function(t){for(var e=/%./g,r,i,n=0,a=[],s=0;r=e.exec(t);){i=t.substring(s,e.lastIndex-2),i.length>0&&a.push(i),s=e.lastIndex;var o=r[0][1];switch(o){case"s":case"o":n<arguments.length?a.push(arguments[n+++1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+o+"?>")}}return a.push(t.substring(s)),a.join("")};I.formatNumber=function(t,e,r,i){var n=t,a=isNaN(e=Math.abs(e))?2:e,s=r===void 0?",":r,o=i===void 0?".":i,f=n<0?"-":"",u=parseInt(n=Math.abs(+n||0).toFixed(a),10)+"",c=u.length>3?u.length%3:0;return f+(c?u.substr(0,c)+o:"")+u.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+o)+(a?s+Math.abs(n-u).toFixed(a).slice(2):"")};I.formatSize=function(t){return t>=1073741824?t=I.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=I.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=I.formatNumber(t/1024,0)+" KiB":t=I.formatNumber(t,0)+" bytes",t};I.bytesFromIP=function(t){return t.indexOf(".")!==-1?I.bytesFromIPv4(t):t.indexOf(":")!==-1?I.bytesFromIPv6(t):null};I.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=I.createBuffer(),r=0;r<t.length;++r){var i=parseInt(t[r],10);if(isNaN(i))return null;e.putByte(i)}return e.getBytes()};I.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(s){return s.length===0&&++e,!0});for(var r=(8-t.length+e)*2,i=I.createBuffer(),n=0;n<8;++n){if(!t[n]||t[n].length===0){i.fillWithByte(0,r),r=0;continue}var a=I.hexToBytes(t[n]);a.length<2&&i.putByte(0),i.putBytes(a)}return i.getBytes()};I.bytesToIP=function(t){return t.length===4?I.bytesToIPv4(t):t.length===16?I.bytesToIPv6(t):null};I.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};I.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],i=0,n=0;n<t.length;n+=2){for(var a=I.bytesToHex(t[n]+t[n+1]);a[0]==="0"&&a!=="0";)a=a.substr(1);if(a==="0"){var s=r[r.length-1],o=e.length;!s||o!==s.end+1?r.push({start:o,end:o}):(s.end=o,s.end-s.start>r[i].end-r[i].start&&(i=r.length-1))}e.push(a)}if(r.length>0){var f=r[i];f.end-f.start>0&&(e.splice(f.start,f.end-f.start+1,""),f.start===0&&e.unshift(""),f.end===7&&e.push(""))}return e.join(":")};I.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in I&&!t.update)return e(null,I.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return I.cores=navigator.hardwareConcurrency,e(null,I.cores);if(typeof Worker=="undefined")return I.cores=1,e(null,I.cores);if(typeof Blob=="undefined")return I.cores=2,e(null,I.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(s){for(var o=Date.now(),f=o+4;Date.now()<f;);self.postMessage({st:o,et:f})})}.toString(),")()"],{type:"application/javascript"}));i([],5,16);function i(s,o,f){if(o===0){var u=Math.floor(s.reduce(function(c,d){return c+d},0)/s.length);return I.cores=Math.max(1,u),URL.revokeObjectURL(r),e(null,I.cores)}n(f,function(c,d){s.push(a(f,d)),i(s,o-1,f)})}function n(s,o){for(var f=[],u=[],c=0;c<s;++c){var d=new Worker(r);d.addEventListener("message",function(b){if(u.push(b.data),u.length===s){for(var S=0;S<s;++S)f[S].terminate();o(null,u)}}),f.push(d)}for(var c=0;c<s;++c)f[c].postMessage(c)}function a(s,o){for(var f=[],u=0;u<s;++u)for(var c=o[u],d=f[u]=[],b=0;b<s;++b)if(u!==b){var S=o[b];(c.st>S.st&&c.st<S.et||S.st>c.st&&S.st<c.et)&&d.push(b)}return f.reduce(function(v,_){return Math.max(v,_.length)},0)}}});var gs=M(($7,vl)=>{var ua=ge();ua.pki=ua.pki||{};var zo=vl.exports=ua.pki.oids=ua.oids=ua.oids||{};function O(t,e){zo[t]=e,zo[e]=t}function xe(t,e){zo[t]=e}O("1.2.840.113549.1.1.1","rsaEncryption");O("1.2.840.113549.1.1.4","md5WithRSAEncryption");O("1.2.840.113549.1.1.5","sha1WithRSAEncryption");O("1.2.840.113549.1.1.7","RSAES-OAEP");O("1.2.840.113549.1.1.8","mgf1");O("1.2.840.113549.1.1.9","pSpecified");O("1.2.840.113549.1.1.10","RSASSA-PSS");O("1.2.840.113549.1.1.11","sha256WithRSAEncryption");O("1.2.840.113549.1.1.12","sha384WithRSAEncryption");O("1.2.840.113549.1.1.13","sha512WithRSAEncryption");O("1.3.101.112","EdDSA25519");O("1.2.840.10040.4.3","dsa-with-sha1");O("1.3.14.3.2.7","desCBC");O("1.3.14.3.2.26","sha1");O("2.16.840.1.101.3.4.2.1","sha256");O("2.16.840.1.101.3.4.2.2","sha384");O("2.16.840.1.101.3.4.2.3","sha512");O("1.2.840.113549.2.5","md5");O("1.2.840.113549.1.7.1","data");O("1.2.840.113549.1.7.2","signedData");O("1.2.840.113549.1.7.3","envelopedData");O("1.2.840.113549.1.7.4","signedAndEnvelopedData");O("1.2.840.113549.1.7.5","digestedData");O("1.2.840.113549.1.7.6","encryptedData");O("1.2.840.113549.1.9.1","emailAddress");O("1.2.840.113549.1.9.2","unstructuredName");O("1.2.840.113549.1.9.3","contentType");O("1.2.840.113549.1.9.4","messageDigest");O("1.2.840.113549.1.9.5","signingTime");O("1.2.840.113549.1.9.6","counterSignature");O("1.2.840.113549.1.9.7","challengePassword");O("1.2.840.113549.1.9.8","unstructuredAddress");O("1.2.840.113549.1.9.14","extensionRequest");O("1.2.840.113549.1.9.20","friendlyName");O("1.2.840.113549.1.9.21","localKeyId");O("1.2.840.113549.1.9.22.1","x509Certificate");O("1.2.840.113549.1.12.10.1.1","keyBag");O("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");O("1.2.840.113549.1.12.10.1.3","certBag");O("1.2.840.113549.1.12.10.1.4","crlBag");O("1.2.840.113549.1.12.10.1.5","secretBag");O("1.2.840.113549.1.12.10.1.6","safeContentsBag");O("1.2.840.113549.1.5.13","pkcs5PBES2");O("1.2.840.113549.1.5.12","pkcs5PBKDF2");O("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");O("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");O("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");O("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");O("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");O("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");O("1.2.840.113549.2.7","hmacWithSHA1");O("1.2.840.113549.2.8","hmacWithSHA224");O("1.2.840.113549.2.9","hmacWithSHA256");O("1.2.840.113549.2.10","hmacWithSHA384");O("1.2.840.113549.2.11","hmacWithSHA512");O("1.2.840.113549.3.7","des-EDE3-CBC");O("2.16.840.1.101.3.4.1.2","aes128-CBC");O("2.16.840.1.101.3.4.1.22","aes192-CBC");O("2.16.840.1.101.3.4.1.42","aes256-CBC");O("2.5.4.3","commonName");O("2.5.4.5","serialName");O("2.5.4.6","countryName");O("2.5.4.7","localityName");O("2.5.4.8","stateOrProvinceName");O("2.5.4.9","streetAddress");O("2.5.4.10","organizationName");O("2.5.4.11","organizationalUnitName");O("2.5.4.13","description");O("2.5.4.15","businessCategory");O("2.5.4.17","postalCode");O("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");O("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");O("2.16.840.1.113730.1.1","nsCertType");O("2.16.840.1.113730.1.13","nsComment");xe("2.5.29.1","authorityKeyIdentifier");xe("2.5.29.2","keyAttributes");xe("2.5.29.3","certificatePolicies");xe("2.5.29.4","keyUsageRestriction");xe("2.5.29.5","policyMapping");xe("2.5.29.6","subtreesConstraint");xe("2.5.29.7","subjectAltName");xe("2.5.29.8","issuerAltName");xe("2.5.29.9","subjectDirectoryAttributes");xe("2.5.29.10","basicConstraints");xe("2.5.29.11","nameConstraints");xe("2.5.29.12","policyConstraints");xe("2.5.29.13","basicConstraints");O("2.5.29.14","subjectKeyIdentifier");O("2.5.29.15","keyUsage");xe("2.5.29.16","privateKeyUsagePeriod");O("2.5.29.17","subjectAltName");O("2.5.29.18","issuerAltName");O("2.5.29.19","basicConstraints");xe("2.5.29.20","cRLNumber");xe("2.5.29.21","cRLReason");xe("2.5.29.22","expirationDate");xe("2.5.29.23","instructionCode");xe("2.5.29.24","invalidityDate");xe("2.5.29.25","cRLDistributionPoints");xe("2.5.29.26","issuingDistributionPoint");xe("2.5.29.27","deltaCRLIndicator");xe("2.5.29.28","issuingDistributionPoint");xe("2.5.29.29","certificateIssuer");xe("2.5.29.30","nameConstraints");O("2.5.29.31","cRLDistributionPoints");O("2.5.29.32","certificatePolicies");xe("2.5.29.33","policyMappings");xe("2.5.29.34","policyConstraints");O("2.5.29.35","authorityKeyIdentifier");xe("2.5.29.36","policyConstraints");O("2.5.29.37","extKeyUsage");xe("2.5.29.46","freshestCRL");xe("2.5.29.54","inhibitAnyPolicy");O("1.3.6.1.4.1.11129.2.4.2","timestampList");O("1.3.6.1.5.5.7.1.1","authorityInfoAccess");O("1.3.6.1.5.5.7.3.1","serverAuth");O("1.3.6.1.5.5.7.3.2","clientAuth");O("1.3.6.1.5.5.7.3.3","codeSigning");O("1.3.6.1.5.5.7.3.4","emailProtection");O("1.3.6.1.5.5.7.3.8","timeStamping")});var Sn=M((J7,xl)=>{var Me=ge();qe();gs();var G=xl.exports=Me.asn1=Me.asn1||{};G.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};G.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};G.create=function(t,e,r,i,n){if(Me.util.isArray(i)){for(var a=[],s=0;s<i.length;++s)i[s]!==void 0&&a.push(i[s]);i=a}var o={tagClass:t,type:e,constructed:r,composed:r||Me.util.isArray(i),value:i};return n&&"bitStringContents"in n&&(o.bitStringContents=n.bitStringContents,o.original=G.copy(o)),o};G.copy=function(t,e){var r;if(Me.util.isArray(t)){r=[];for(var i=0;i<t.length;++i)r.push(G.copy(t[i],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:G.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};G.equals=function(t,e,r){if(Me.util.isArray(t)){if(!Me.util.isArray(e)||t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(!G.equals(t[i],e[i]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var n=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&G.equals(t.value,e.value);return r&&r.includeBitStringContents&&(n=n&&t.bitStringContents===e.bitStringContents),n};G.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,i=e&128;return i?r=t.getInt((e&127)<<3):r=e,r}};function ca(t,e,r){if(r>e){var i=new Error("Too few bytes to parse DER.");throw i.available=t.length(),i.remaining=e,i.requested=r,i}}var kg=function(t,e){var r=t.getByte();if(e--,r!==128){var i,n=r&128;if(!n)i=r;else{var a=r&127;ca(t,e,a),i=t.getInt(a<<3)}if(i<0)throw new Error("Negative length: "+i);return i}};G.fromDer=function(t,e){return e===void 0&&(e={strict:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=Me.util.createBuffer(t)),xs(t,t.length(),0,e)};function xs(t,e,r,i){var n;ca(t,e,2);var a=t.getByte();e--;var s=a&192,o=a&31;n=t.length();var f=kg(t,e);if(e-=n-t.length(),f!==void 0&&f>e){if(i.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=t.length(),u.remaining=e,u.requested=f,u}f=e}var c,d,b=(a&32)==32;if(b)if(c=[],f===void 0)for(;;){if(ca(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}n=t.length(),c.push(xs(t,e,r+1,i)),e-=n-t.length()}else for(;f>0;)n=t.length(),c.push(xs(t,f,r+1,i)),e-=n-t.length(),f-=n-t.length();if(c===void 0&&s===G.Class.UNIVERSAL&&o===G.Type.BITSTRING&&(d=t.bytes(f)),c===void 0&&i.decodeBitStrings&&s===G.Class.UNIVERSAL&&o===G.Type.BITSTRING&&f>1){var S=t.read,v=e,_=0;if(o===G.Type.BITSTRING&&(ca(t,e,1),_=t.getByte(),e--),_===0)try{n=t.length();var T={verbose:i.verbose,strict:!0,decodeBitStrings:!0},C=xs(t,e,r+1,T),P=n-t.length();e-=P,o==G.Type.BITSTRING&&P++;var L=C.tagClass;P===f&&(L===G.Class.UNIVERSAL||L===G.Class.CONTEXT_SPECIFIC)&&(c=[C])}catch(k){}c===void 0&&(t.read=S,e=v)}if(c===void 0){if(f===void 0){if(i.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=e}if(o===G.Type.BMPSTRING)for(c="";f>0;f-=2)ca(t,e,2),c+=String.fromCharCode(t.getInt16()),e-=2;else c=t.getBytes(f)}var F=d===void 0?null:{bitStringContents:d};return G.create(s,o,b,c,F)}G.toDer=function(t){var e=Me.util.createBuffer(),r=t.tagClass|t.type,i=Me.util.createBuffer(),n=!1;if("bitStringContents"in t&&(n=!0,t.original&&(n=G.equals(t,t.original))),n)i.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:i.putByte(0);for(var a=0;a<t.value.length;++a)t.value[a]!==void 0&&i.putBuffer(G.toDer(t.value[a]))}else if(t.type===G.Type.BMPSTRING)for(var a=0;a<t.value.length;++a)i.putInt16(t.value.charCodeAt(a));else t.type===G.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&(t.value.charCodeAt(1)&128)==0||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)==128)?i.putBytes(t.value.substr(1)):i.putBytes(t.value);if(e.putByte(r),i.length()<=127)e.putByte(i.length()&127);else{var s=i.length(),o="";do o+=String.fromCharCode(s&255),s=s>>>8;while(s>0);e.putByte(o.length|128);for(var a=o.length-1;a>=0;--a)e.putByte(o.charCodeAt(a))}return e.putBuffer(i),e};G.oidToDer=function(t){var e=t.split("."),r=Me.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var i,n,a,s,o=2;o<e.length;++o){i=!0,n=[],a=parseInt(e[o],10);do s=a&127,a=a>>>7,i||(s|=128),n.push(s),i=!1;while(a>0);for(var f=n.length-1;f>=0;--f)r.putByte(n[f])}return r};G.derToOid=function(t){var e;typeof t=="string"&&(t=Me.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var i=0;t.length()>0;)r=t.getByte(),i=i<<7,r&128?i+=r&127:(e+="."+(i+r),i=0);return e};G.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var i=parseInt(t.substr(2,2),10)-1,n=parseInt(t.substr(4,2),10),a=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),o=0;if(t.length>11){var f=t.charAt(10),u=10;f!=="+"&&f!=="-"&&(o=parseInt(t.substr(10,2),10),u+=2)}if(e.setUTCFullYear(r,i,n),e.setUTCHours(a,s,o,0),u&&(f=t.charAt(u),f==="+"||f==="-")){var c=parseInt(t.substr(u+1,2),10),d=parseInt(t.substr(u+4,2),10),b=c*60+d;b*=6e4,f==="+"?e.setTime(+e-b):e.setTime(+e+b)}return e};G.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),i=parseInt(t.substr(4,2),10)-1,n=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),s=parseInt(t.substr(10,2),10),o=parseInt(t.substr(12,2),10),f=0,u=0,c=!1;t.charAt(t.length-1)==="Z"&&(c=!0);var d=t.length-5,b=t.charAt(d);if(b==="+"||b==="-"){var S=parseInt(t.substr(d+1,2),10),v=parseInt(t.substr(d+4,2),10);u=S*60+v,u*=6e4,b==="+"&&(u*=-1),c=!0}return t.charAt(14)==="."&&(f=parseFloat(t.substr(14),10)*1e3),c?(e.setUTCFullYear(r,i,n),e.setUTCHours(a,s,o,f),e.setTime(+e+u)):(e.setFullYear(r,i,n),e.setHours(a,s,o,f)),e};G.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var i=0;i<r.length;++i)r[i].length<2&&(e+="0"),e+=r[i];return e+="Z",e};G.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var i=0;i<r.length;++i)r[i].length<2&&(e+="0"),e+=r[i];return e+="Z",e};G.integerToDer=function(t){var e=Me.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};G.derToInteger=function(t){typeof t=="string"&&(t=Me.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};G.validate=function(t,e,r,i){var n=!1;if((t.tagClass===e.tagClass||typeof e.tagClass=="undefined")&&(t.type===e.type||typeof e.type=="undefined"))if(t.constructed===e.constructed||typeof e.constructed=="undefined"){if(n=!0,e.value&&Me.util.isArray(e.value))for(var a=0,s=0;n&&s<e.value.length;++s)n=e.value[s].optional||!1,t.value[a]&&(n=G.validate(t.value[a],e.value[s],r,i),n?++a:e.value[s].optional&&(n=!0)),!n&&i&&i.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(n&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var o;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var f=t.bitStringContents.charCodeAt(0);if(f!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else i&&i.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else i&&(t.tagClass!==e.tagClass&&i.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&i.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return n};var gl=/[^\\u0000-\\u00ff]/;G.prettyPrint=function(t,e,r){var i="";e=e||0,r=r||2,e>0&&(i+=`
`);for(var n="",a=0;a<e*r;++a)n+=" ";switch(i+=n+"Tag: ",t.tagClass){case G.Class.UNIVERSAL:i+="Universal:";break;case G.Class.APPLICATION:i+="Application:";break;case G.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case G.Class.PRIVATE:i+="Private:";break}if(t.tagClass===G.Class.UNIVERSAL)switch(i+=t.type,t.type){case G.Type.NONE:i+=" (None)";break;case G.Type.BOOLEAN:i+=" (Boolean)";break;case G.Type.INTEGER:i+=" (Integer)";break;case G.Type.BITSTRING:i+=" (Bit string)";break;case G.Type.OCTETSTRING:i+=" (Octet string)";break;case G.Type.NULL:i+=" (Null)";break;case G.Type.OID:i+=" (Object Identifier)";break;case G.Type.ODESC:i+=" (Object Descriptor)";break;case G.Type.EXTERNAL:i+=" (External or Instance of)";break;case G.Type.REAL:i+=" (Real)";break;case G.Type.ENUMERATED:i+=" (Enumerated)";break;case G.Type.EMBEDDED:i+=" (Embedded PDV)";break;case G.Type.UTF8:i+=" (UTF8)";break;case G.Type.ROID:i+=" (Relative Object Identifier)";break;case G.Type.SEQUENCE:i+=" (Sequence)";break;case G.Type.SET:i+=" (Set)";break;case G.Type.PRINTABLESTRING:i+=" (Printable String)";break;case G.Type.IA5String:i+=" (IA5String (ASCII))";break;case G.Type.UTCTIME:i+=" (UTC time)";break;case G.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case G.Type.BMPSTRING:i+=" (BMP String)";break}else i+=t.type;if(i+=`
`,i+=n+"Constructed: "+t.constructed+`
`,t.composed){for(var s=0,o="",a=0;a<t.value.length;++a)t.value[a]!==void 0&&(s+=1,o+=G.prettyPrint(t.value[a],e+1,r),a+1<t.value.length&&(o+=","));i+=n+"Sub values: "+s+o}else{if(i+=n+"Value: ",t.type===G.Type.OID){var f=G.derToOid(t.value);i+=f,Me.pki&&Me.pki.oids&&f in Me.pki.oids&&(i+=" ("+Me.pki.oids[f]+") ")}if(t.type===G.Type.INTEGER)try{i+=G.derToInteger(t.value)}catch(c){i+="0x"+Me.util.bytesToHex(t.value)}else if(t.type===G.Type.BITSTRING){if(t.value.length>1?i+="0x"+Me.util.bytesToHex(t.value.slice(1)):i+="(none)",t.value.length>0){var u=t.value.charCodeAt(0);u==1?i+=" (1 unused bit shown)":u>1&&(i+=" ("+u+" unused bits shown)")}}else t.type===G.Type.OCTETSTRING?(gl.test(t.value)||(i+="("+t.value+") "),i+="0x"+Me.util.bytesToHex(t.value)):t.type===G.Type.UTF8?i+=Me.util.decodeUtf8(t.value):t.type===G.Type.PRINTABLESTRING||t.type===G.Type.IA5String?i+=t.value:gl.test(t.value)?i+="0x"+Me.util.bytesToHex(t.value):t.value.length===0?i+="[null]":i+=t.value}return i}});var Ho=M((Z7,ml)=>{var mt=ge();qe();ml.exports=mt.cipher=mt.cipher||{};mt.cipher.algorithms=mt.cipher.algorithms||{};mt.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=mt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new mt.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};mt.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=mt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new mt.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};mt.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),mt.cipher.algorithms[t]=e};mt.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in mt.cipher.algorithms?mt.cipher.algorithms[t]:null};var Vo=mt.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};Vo.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=mt.util.createBuffer(),this.output=t.output||mt.util.createBuffer(),this.mode.start(e)};Vo.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};Vo.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var jo=M((X7,wl)=>{var wt=ge();qe();wt.cipher=wt.cipher||{};var ce=wl.exports=wt.cipher.modes=wt.cipher.modes||{};ce.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ce.ecb.prototype.start=function(t){};ce.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i])};ce.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i])};ce.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};ce.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),i=t.at(r-1);return i>this.blockSize<<2?!1:(t.truncate(i),!0)};ce.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ce.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=ms(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};ce.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=this._prev[i]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]);this._prev=this._outBlock};ce.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._prev[i]^this._outBlock[i]);this._prev=this._inBlock.slice(0)};ce.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};ce.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),i=t.at(r-1);return i>this.blockSize<<2?!1:(t.truncate(i),!0)};ce.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=wt.util.createBuffer(),this._partialBytes=0};ce.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=ms(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ce.cfb.prototype.encrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32()^this._outBlock[n],e.putInt32(this._inBlock[n]);return}var a=(this.blockSize-i)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialBlock[n]=t.getInt32()^this._outBlock[n],this._partialOutput.putInt32(this._partialBlock[n]);if(a>0)t.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};ce.cfb.prototype.decrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32(),e.putInt32(this._inBlock[n]^this._outBlock[n]);return}var a=(this.blockSize-i)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialBlock[n]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[n]^this._outBlock[n]);if(a>0)t.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};ce.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=wt.util.createBuffer(),this._partialBytes=0};ce.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=ms(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ce.ofb.prototype.encrypt=function(t,e,r){var i=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)e.putInt32(t.getInt32()^this._outBlock[n]),this._inBlock[n]=this._outBlock[n];return}var a=(this.blockSize-i)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(a>0)t.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._outBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};ce.ofb.prototype.decrypt=ce.ofb.prototype.encrypt;ce.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=wt.util.createBuffer(),this._partialBytes=0};ce.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=ms(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ce.ctr.prototype.encrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize)for(var n=0;n<this._ints;++n)e.putInt32(t.getInt32()^this._outBlock[n]);else{var a=(this.blockSize-i)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(a>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}ws(this._inBlock)};ce.ctr.prototype.decrypt=ce.ctr.prototype.encrypt;ce.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=wt.util.createBuffer(),this._partialBytes=0,this._R=3774873600};ce.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=wt.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=wt.util.createBuffer(t.additionalData):r=wt.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=wt.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=e.length();if(i===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Go(i*8)))}this._inBlock=this._j0.slice(0),ws(this._inBlock),this._partialBytes=0,r=wt.util.createBuffer(r),this._aDataLength=Go(r.length()*8);var n=r.length()%this.blockSize;for(n&&r.fillWithByte(0,this.blockSize-n),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};ce.gcm.prototype.encrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]^=t.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-i)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(a<=0||r){if(r){var s=i%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var n=0;n<this._ints;++n)this._outBlock[n]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),ws(this._inBlock)};ce.gcm.prototype.decrypt=function(t,e,r){var i=t.length();if(i<this.blockSize&&!(r&&i>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),ws(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]^this._hashBlock[n]);i<this.blockSize?this._cipherLength+=i%this.blockSize:this._cipherLength+=this.blockSize};ce.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=wt.util.createBuffer();var i=this._aDataLength.concat(Go(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,i);var n=[];this.cipher.encrypt(this._j0,n);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^n[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};ce.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],i=e.slice(0),n=0;n<128;++n){var a=t[n/32|0]&1<<31-n%32;a&&(r[0]^=i[0],r[1]^=i[1],r[2]^=i[2],r[3]^=i[3]),this.pow(i,i)}return r};ce.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,i=3;i>0;--i)e[i]=t[i]>>>1|(t[i-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};ce.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var i=r/8|0,n=t[i]>>>(7-r%8)*4&15,a=this._m[r][n];e[0]^=a[0],e[1]^=a[1],e[2]^=a[2],e[3]^=a[3]}return e};ce.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};ce.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,i=4*r,n=16*r,a=new Array(n),s=0;s<n;++s){var o=[0,0,0,0],f=s/i|0,u=(i-1-s%i)*e;o[f]=1<<e-1<<u,a[s]=this.generateSubHashTable(this.multiply(o,t),e)}return a};ce.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,i=r>>>1,n=new Array(r);n[i]=t.slice(0);for(var a=i>>>1;a>0;)this.pow(n[2*a],n[a]=[]),a>>=1;for(a=2;a<i;){for(var s=1;s<a;++s){var o=n[a],f=n[s];n[a+s]=[o[0]^f[0],o[1]^f[1],o[2]^f[2],o[3]^f[3]]}a*=2}for(n[0]=[0,0,0,0],a=i+1;a<r;++a){var u=n[a^i];n[a]=[t[0]^u[0],t[1]^u[1],t[2]^u[2],t[3]^u[3]]}return n};function ms(t,e){if(typeof t=="string"&&(t=wt.util.createBuffer(t)),wt.util.isArray(t)&&t.length>4){var r=t;t=wt.util.createBuffer();for(var i=0;i<r.length;++i)t.putByte(r[i])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!wt.util.isArray(t)){for(var n=[],a=e/4,i=0;i<a;++i)n.push(t.getInt32());t=n}return t}function ws(t){t[t.length-1]=t[t.length-1]+1&4294967295}function Go(t){return[t/4294967296|0,t&4294967295]}});var Jo=M((Q7,Al)=>{var Be=ge();Ho();jo();qe();Al.exports=Be.aes=Be.aes||{};Be.aes.startEncrypting=function(t,e,r,i){var n=Ss({key:t,output:r,decrypt:!1,mode:i});return n.start(e),n};Be.aes.createEncryptionCipher=function(t,e){return Ss({key:t,output:null,decrypt:!1,mode:e})};Be.aes.startDecrypting=function(t,e,r,i){var n=Ss({key:t,output:r,decrypt:!0,mode:i});return n.start(e),n};Be.aes.createDecryptionCipher=function(t,e){return Ss({key:t,output:null,decrypt:!0,mode:e})};Be.aes.Algorithm=function(t,e){Yo||El();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(i,n){return $o(r._w,i,n,!1)},decrypt:function(i,n){return $o(r._w,i,n,!0)}}}),r._init=!1};Be.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=Be.util.createBuffer(e);else if(Be.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=Be.util.createBuffer();for(var i=0;i<r.length;++i)e.putByte(r[i])}if(!Be.util.isArray(e)){r=e,e=[];var n=r.length();if(n===16||n===24||n===32){n=n>>>2;for(var i=0;i<n;++i)e.push(r.getInt32())}}if(!Be.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var a=this.mode.name,s=["CFB","OFB","CTR","GCM"].indexOf(a)!==-1;this._w=_l(e,t.decrypt&&!s),this._init=!0}};Be.aes._expandKey=function(t,e){return Yo||El(),_l(t,e)};Be.aes._updateBlock=$o;En("AES-ECB",Be.cipher.modes.ecb);En("AES-CBC",Be.cipher.modes.cbc);En("AES-CFB",Be.cipher.modes.cfb);En("AES-OFB",Be.cipher.modes.ofb);En("AES-CTR",Be.cipher.modes.ctr);En("AES-GCM",Be.cipher.modes.gcm);function En(t,e){var r=function(){return new Be.aes.Algorithm(t,e)};Be.cipher.registerAlgorithm(t,r)}var Yo=!1,_n=4,Nt,Wo,Sl,Fi,sr;function El(){Yo=!0,Sl=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;Nt=new Array(256),Wo=new Array(256),Fi=new Array(4),sr=new Array(4);for(var e=0;e<4;++e)Fi[e]=new Array(256),sr[e]=new Array(256);for(var r=0,i=0,n,a,s,o,f,u,c,e=0;e<256;++e){o=i^i<<1^i<<2^i<<3^i<<4,o=o>>8^o&255^99,Nt[r]=o,Wo[o]=r,f=t[o],n=t[r],a=t[n],s=t[a],u=f<<24^o<<16^o<<8^(o^f),c=(n^a^s)<<24^(r^s)<<16^(r^a^s)<<8^(r^n^s);for(var d=0;d<4;++d)Fi[d][r]=u,sr[d][o]=c,u=u<<24|u>>>8,c=c<<24|c>>>8;r===0?r=i=1:(r=n^t[t[t[n^s]]],i^=t[t[i]])}}function _l(t,e){for(var r=t.slice(0),i,n=1,a=r.length,s=a+6+1,o=_n*s,f=a;f<o;++f)i=r[f-1],f%a==0?(i=Nt[i>>>16&255]<<24^Nt[i>>>8&255]<<16^Nt[i&255]<<8^Nt[i>>>24]^Sl[n]<<24,n++):a>6&&f%a==4&&(i=Nt[i>>>24]<<24^Nt[i>>>16&255]<<16^Nt[i>>>8&255]<<8^Nt[i&255]),r[f]=r[f-a]^i;if(e){var u,c=sr[0],d=sr[1],b=sr[2],S=sr[3],v=r.slice(0);o=r.length;for(var f=0,_=o-_n;f<o;f+=_n,_-=_n)if(f===0||f===o-_n)v[f]=r[_],v[f+1]=r[_+3],v[f+2]=r[_+2],v[f+3]=r[_+1];else for(var T=0;T<_n;++T)u=r[_+T],v[f+(3&-T)]=c[Nt[u>>>24]]^d[Nt[u>>>16&255]]^b[Nt[u>>>8&255]]^S[Nt[u&255]];r=v}return r}function $o(t,e,r,i){var n=t.length/4-1,a,s,o,f,u;i?(a=sr[0],s=sr[1],o=sr[2],f=sr[3],u=Wo):(a=Fi[0],s=Fi[1],o=Fi[2],f=Fi[3],u=Nt);var c,d,b,S,v,_,T;c=e[0]^t[0],d=e[i?3:1]^t[1],b=e[2]^t[2],S=e[i?1:3]^t[3];for(var C=3,P=1;P<n;++P)v=a[c>>>24]^s[d>>>16&255]^o[b>>>8&255]^f[S&255]^t[++C],_=a[d>>>24]^s[b>>>16&255]^o[S>>>8&255]^f[c&255]^t[++C],T=a[b>>>24]^s[S>>>16&255]^o[c>>>8&255]^f[d&255]^t[++C],S=a[S>>>24]^s[c>>>16&255]^o[d>>>8&255]^f[b&255]^t[++C],c=v,d=_,b=T;r[0]=u[c>>>24]<<24^u[d>>>16&255]<<16^u[b>>>8&255]<<8^u[S&255]^t[++C],r[i?3:1]=u[d>>>24]<<24^u[b>>>16&255]<<16^u[S>>>8&255]<<8^u[c&255]^t[++C],r[2]=u[b>>>24]<<24^u[S>>>16&255]<<16^u[c>>>8&255]<<8^u[d&255]^t[++C],r[i?1:3]=u[S>>>24]<<24^u[c>>>16&255]<<16^u[d>>>8&255]<<8^u[b&255]^t[++C]}function Ss(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,i;t.decrypt?i=Be.cipher.createDecipher(r,t.key):i=Be.cipher.createCipher(r,t.key);var n=i.start;return i.start=function(a,s){var o=null;s instanceof Be.util.ByteBuffer&&(o=s,s={}),s=s||{},s.output=o,s.iv=a,n.call(i,s)},i}});var Cl=M((ew,Il)=>{var Re=ge();Ho();jo();qe();Il.exports=Re.des=Re.des||{};Re.des.startEncrypting=function(t,e,r,i){var n=Es({key:t,output:r,decrypt:!1,mode:i||(e===null?"ECB":"CBC")});return n.start(e),n};Re.des.createEncryptionCipher=function(t,e){return Es({key:t,output:null,decrypt:!1,mode:e})};Re.des.startDecrypting=function(t,e,r,i){var n=Es({key:t,output:r,decrypt:!0,mode:i||(e===null?"ECB":"CBC")});return n.start(e),n};Re.des.createDecryptionCipher=function(t,e){return Es({key:t,output:null,decrypt:!0,mode:e})};Re.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(i,n){return Bl(r._keys,i,n,!1)},decrypt:function(i,n){return Bl(r._keys,i,n,!0)}}}),r._init=!1};Re.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=Re.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=jg(e),this._init=!0}};Sr("DES-ECB",Re.cipher.modes.ecb);Sr("DES-CBC",Re.cipher.modes.cbc);Sr("DES-CFB",Re.cipher.modes.cfb);Sr("DES-OFB",Re.cipher.modes.ofb);Sr("DES-CTR",Re.cipher.modes.ctr);Sr("3DES-ECB",Re.cipher.modes.ecb);Sr("3DES-CBC",Re.cipher.modes.cbc);Sr("3DES-CFB",Re.cipher.modes.cfb);Sr("3DES-OFB",Re.cipher.modes.ofb);Sr("3DES-CTR",Re.cipher.modes.ctr);function Sr(t,e){var r=function(){return new Re.des.Algorithm(t,e)};Re.cipher.registerAlgorithm(t,r)}var Kg=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],Og=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],Fg=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],Ug=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],zg=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],Vg=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],Hg=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],Gg=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function jg(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],n=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],c=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],d=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],b=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],S=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],v=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],_=t.length()>8?3:1,T=[],C=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],P=0,L,F=0;F<_;F++){var k=t.getInt32(),q=t.getInt32();L=(k>>>4^q)&252645135,q^=L,k^=L<<4,L=(q>>>-16^k)&65535,k^=L,q^=L<<-16,L=(k>>>2^q)&858993459,q^=L,k^=L<<2,L=(q>>>-16^k)&65535,k^=L,q^=L<<-16,L=(k>>>1^q)&1431655765,q^=L,k^=L<<1,L=(q>>>8^k)&16711935,k^=L,q^=L<<8,L=(k>>>1^q)&1431655765,q^=L,k^=L<<1,L=k<<8|q>>>20&240,k=q<<24|q<<8&16711680|q>>>8&65280|q>>>24&240,q=L;for(var H=0;H<C.length;++H){C[H]?(k=k<<2|k>>>26,q=q<<2|q>>>26):(k=k<<1|k>>>27,q=q<<1|q>>>27),k&=-15,q&=-15;var U=e[k>>>28]|r[k>>>24&15]|i[k>>>20&15]|n[k>>>16&15]|a[k>>>12&15]|s[k>>>8&15]|o[k>>>4&15],J=f[q>>>28]|u[q>>>24&15]|c[q>>>20&15]|d[q>>>16&15]|b[q>>>12&15]|S[q>>>8&15]|v[q>>>4&15];L=(J>>>16^U)&65535,T[P++]=U^L,T[P++]=J^L<<16}}return T}function Bl(t,e,r,i){var n=t.length===32?3:9,a;n===3?a=i?[30,-2,-2]:[0,32,2]:a=i?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var s,o=e[0],f=e[1];s=(o>>>4^f)&252645135,f^=s,o^=s<<4,s=(o>>>16^f)&65535,f^=s,o^=s<<16,s=(f>>>2^o)&858993459,o^=s,f^=s<<2,s=(f>>>8^o)&16711935,o^=s,f^=s<<8,s=(o>>>1^f)&1431655765,f^=s,o^=s<<1,o=o<<1|o>>>31,f=f<<1|f>>>31;for(var u=0;u<n;u+=3){for(var c=a[u+1],d=a[u+2],b=a[u];b!=c;b+=d){var S=f^t[b],v=(f>>>4|f<<28)^t[b+1];s=o,o=f,f=s^(Og[S>>>24&63]|Ug[S>>>16&63]|Vg[S>>>8&63]|Gg[S&63]|Kg[v>>>24&63]|Fg[v>>>16&63]|zg[v>>>8&63]|Hg[v&63])}s=o,o=f,f=s}o=o>>>1|o<<31,f=f>>>1|f<<31,s=(o>>>1^f)&1431655765,f^=s,o^=s<<1,s=(f>>>8^o)&16711935,o^=s,f^=s<<8,s=(f>>>2^o)&858993459,o^=s,f^=s<<2,s=(o>>>16^f)&65535,f^=s,o^=s<<16,s=(o>>>4^f)&252645135,f^=s,o^=s<<4,r[0]=o,r[1]=f}function Es(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,i;t.decrypt?i=Re.cipher.createDecipher(r,t.key):i=Re.cipher.createCipher(r,t.key);var n=i.start;return i.start=function(a,s){var o=null;s instanceof Re.util.ByteBuffer&&(o=s,s={}),s=s||{},s.output=o,s.iv=a,n.call(i,s)},i}});var Ui=M((tw,Tl)=>{var _s=ge();Tl.exports=_s.md=_s.md||{};_s.md.algorithms=_s.md.algorithms||{}});var Rl=M((rw,Ml)=>{var Gr=ge();Ui();qe();var Yg=Ml.exports=Gr.hmac=Gr.hmac||{};Yg.create=function(){var t=null,e=null,r=null,i=null,n={};return n.start=function(a,s){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in Gr.md.algorithms)e=Gr.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else e=a;if(s===null)s=t;else{if(typeof s=="string")s=Gr.util.createBuffer(s);else if(Gr.util.isArray(s)){var o=s;s=Gr.util.createBuffer();for(var f=0;f<o.length;++f)s.putByte(o[f])}var u=s.length();u>e.blockLength&&(e.start(),e.update(s.bytes()),s=e.digest()),r=Gr.util.createBuffer(),i=Gr.util.createBuffer(),u=s.length();for(var f=0;f<u;++f){var o=s.at(f);r.putByte(54^o),i.putByte(92^o)}if(u<e.blockLength)for(var o=e.blockLength-u,f=0;f<o;++f)r.putByte(54),i.putByte(92);t=s,r=r.bytes(),i=i.bytes()}e.start(),e.update(r)},n.update=function(a){e.update(a)},n.getMac=function(){var a=e.digest().bytes();return e.start(),e.update(i),e.update(a),e.digest()},n.digest=n.getMac,n}});var ha=M(()=>{});var Ll=M((aw,Pl)=>{var Dt=ge();Rl();Ui();qe();var Wg=Dt.pkcs5=Dt.pkcs5||{},jr;Dt.util.isNodejs&&!Dt.options.usePureJavaScript&&(jr=ha());Pl.exports=Dt.pbkdf2=Wg.pbkdf2=function(t,e,r,i,n,a){if(typeof n=="function"&&(a=n,n=null),Dt.util.isNodejs&&!Dt.options.usePureJavaScript&&jr.pbkdf2&&(n===null||typeof n!="object")&&(jr.pbkdf2Sync.length>4||!n||n==="sha1"))return typeof n!="string"&&(n="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),a?jr.pbkdf2Sync.length===4?jr.pbkdf2(t,e,r,i,function(L,F){if(L)return a(L);a(null,F.toString("binary"))}):jr.pbkdf2(t,e,r,i,n,function(L,F){if(L)return a(L);a(null,F.toString("binary"))}):jr.pbkdf2Sync.length===4?jr.pbkdf2Sync(t,e,r,i).toString("binary"):jr.pbkdf2Sync(t,e,r,i,n).toString("binary");if((typeof n=="undefined"||n===null)&&(n="sha1"),typeof n=="string"){if(!(n in Dt.md.algorithms))throw new Error("Unknown hash algorithm: "+n);n=Dt.md[n].create()}var s=n.digestLength;if(i>4294967295*s){var o=new Error("Derived key is too long.");if(a)return a(o);throw o}var f=Math.ceil(i/s),u=i-(f-1)*s,c=Dt.hmac.create();c.start(n,t);var d="",b,S,v;if(!a){for(var _=1;_<=f;++_){c.start(null,null),c.update(e),c.update(Dt.util.int32ToBytes(_)),b=v=c.digest().getBytes();for(var T=2;T<=r;++T)c.start(null,null),c.update(v),S=c.digest().getBytes(),b=Dt.util.xorBytes(b,S,s),v=S;d+=_<f?b:b.substr(0,u)}return d}var _=1,T;function C(){if(_>f)return a(null,d);c.start(null,null),c.update(e),c.update(Dt.util.int32ToBytes(_)),b=v=c.digest().getBytes(),T=2,P()}function P(){if(T<=r)return c.start(null,null),c.update(v),S=c.digest().getBytes(),b=Dt.util.xorBytes(b,S,s),v=S,++T,Dt.util.setImmediate(P);d+=_<f?b:b.substr(0,u),++_,C()}C()}});var ql=M((sw,Dl)=>{var As=ge();qe();var Nl=Dl.exports=As.pem=As.pem||{};Nl.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,i;if(t.procType&&(i={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=Bs(i)),t.contentDomain&&(i={name:"Content-Domain",values:[t.contentDomain]},r+=Bs(i)),t.dekInfo&&(i={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&i.values.push(t.dekInfo.parameters),r+=Bs(i)),t.headers)for(var n=0;n<t.headers.length;++n)r+=Bs(t.headers[n]);return t.procType&&(r+=`\r
`),r+=As.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};Nl.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,i=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,n=/\r?\n/,a;a=r.exec(t),!!a;){var s={type:a[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:As.util.decode64(a[3])};if(e.push(s),!!a[2]){for(var o=a[2].split(n),f=0;a&&f<o.length;){for(var u=o[f].replace(/\s+$/,""),c=f+1;c<o.length;++c){var d=o[c];if(!/\s/.test(d[0]))break;u+=d,f=c}if(a=u.match(i),a){for(var b={name:a[1],values:[]},S=a[2].split(","),v=0;v<S.length;++v)b.values.push($g(S[v]));if(s.procType)if(!s.contentDomain&&b.name==="Content-Domain")s.contentDomain=S[0]||"";else if(!s.dekInfo&&b.name==="DEK-Info"){if(b.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');s.dekInfo={algorithm:S[0],parameters:S[1]||null}}else s.headers.push(b);else{if(b.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(b.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');s.procType={version:S[0],type:S[1]}}}++f}if(s.procType==="ENCRYPTED"&&!s.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function Bs(t){for(var e=t.name+": ",r=[],i=function(f,u){return" "+u},n=0;n<t.values.length;++n)r.push(t.values[n].replace(/^(\S+\r\n)/,i));e+=r.join(",")+`\r
`;for(var a=0,s=-1,n=0;n<e.length;++n,++a)if(a>65&&s!==-1){var o=e[s];o===","?(++s,e=e.substr(0,s)+`\r
 `+e.substr(s)):e=e.substr(0,s)+`\r
`+o+e.substr(s+1),a=n-s-1,s=-1,++n}else(e[n]===" "||e[n]==="	"||e[n]===",")&&(s=n);return e}function $g(t){return t.replace(/^\s+/,"")}});var zl=M((ow,Ul)=>{var Er=ge();Ui();qe();var kl=Ul.exports=Er.sha256=Er.sha256||{};Er.md.sha256=Er.md.algorithms.sha256=kl;kl.create=function(){Kl||Jg();var t=null,e=Er.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return i.start=function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,a=0;a<n;++a)i.fullMessageLength.push(0);return e=Er.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i},i.start(),i.update=function(n,a){a==="utf8"&&(n=Er.util.encodeUtf8(n));var s=n.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var o=i.fullMessageLength.length-1;o>=0;--o)i.fullMessageLength[o]+=s[1],s[1]=s[0]+(i.fullMessageLength[o]/4294967296>>>0),i.fullMessageLength[o]=i.fullMessageLength[o]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(n),Fl(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),i},i.digest=function(){var n=Er.util.createBuffer();n.putBytes(e.bytes());var a=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize,s=a&i.blockLength-1;n.putBytes(Zo.substr(0,i.blockLength-s));for(var o,f,u=i.fullMessageLength[0]*8,c=0;c<i.fullMessageLength.length-1;++c)o=i.fullMessageLength[c+1]*8,f=o/4294967296>>>0,u+=f,n.putInt32(u>>>0),u=o>>>0;n.putInt32(u);var d={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};Fl(d,r,n);var b=Er.util.createBuffer();return b.putInt32(d.h0),b.putInt32(d.h1),b.putInt32(d.h2),b.putInt32(d.h3),b.putInt32(d.h4),b.putInt32(d.h5),b.putInt32(d.h6),b.putInt32(d.h7),b},i};var Zo=null,Kl=!1,Ol=null;function Jg(){Zo=String.fromCharCode(128),Zo+=Er.util.fillString(String.fromCharCode(0),64),Ol=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Kl=!0}function Fl(t,e,r){for(var i,n,a,s,o,f,u,c,d,b,S,v,_,T,C,P=r.length();P>=64;){for(u=0;u<16;++u)e[u]=r.getInt32();for(;u<64;++u)i=e[u-2],i=(i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,n=e[u-15],n=(n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3,e[u]=i+e[u-7]+n+e[u-16]|0;for(c=t.h0,d=t.h1,b=t.h2,S=t.h3,v=t.h4,_=t.h5,T=t.h6,C=t.h7,u=0;u<64;++u)s=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),o=T^v&(_^T),a=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),f=c&d|b&(c^d),i=C+s+o+Ol[u]+e[u],n=a+f,C=T,T=_,_=v,v=S+i>>>0,S=b,b=d,d=c,c=i+n>>>0;t.h0=t.h0+c|0,t.h1=t.h1+d|0,t.h2=t.h2+b|0,t.h3=t.h3+S|0,t.h4=t.h4+v|0,t.h5=t.h5+_|0,t.h6=t.h6+T|0,t.h7=t.h7+C|0,P-=64}}});var Hl=M((fw,Vl)=>{var _r=ge();qe();var Is=null;_r.util.isNodejs&&!_r.options.usePureJavaScript&&!process.versions["node-webkit"]&&(Is=ha());var Zg=Vl.exports=_r.prng=_r.prng||{};Zg.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,i=new Array(32),n=0;n<32;++n)i[n]=r.create();e.pools=i,e.pool=0,e.generate=function(u,c){if(!c)return e.generateSync(u);var d=e.plugin.cipher,b=e.plugin.increment,S=e.plugin.formatKey,v=e.plugin.formatSeed,_=_r.util.createBuffer();e.key=null,T();function T(C){if(C)return c(C);if(_.length()>=u)return c(null,_.getBytes(u));if(e.generated>1048575&&(e.key=null),e.key===null)return _r.util.nextTick(function(){a(T)});var P=d(e.key,e.seed);e.generated+=P.length,_.putBytes(P),e.key=S(d(e.key,b(e.seed))),e.seed=v(d(e.key,e.seed)),_r.util.setImmediate(T)}},e.generateSync=function(u){var c=e.plugin.cipher,d=e.plugin.increment,b=e.plugin.formatKey,S=e.plugin.formatSeed;e.key=null;for(var v=_r.util.createBuffer();v.length()<u;){e.generated>1048575&&(e.key=null),e.key===null&&s();var _=c(e.key,e.seed);e.generated+=_.length,v.putBytes(_),e.key=b(c(e.key,d(e.seed))),e.seed=S(c(e.key,e.seed))}return v.getBytes(u)};function a(u){if(e.pools[0].messageLength>=32)return o(),u();var c=32-e.pools[0].messageLength<<5;e.seedFile(c,function(d,b){if(d)return u(d);e.collect(b),o(),u()})}function s(){if(e.pools[0].messageLength>=32)return o();var u=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(u)),o()}function o(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var u=e.plugin.md.create();u.update(e.keyBytes);for(var c=1,d=0;d<32;++d)e.reseeds%c==0&&(u.update(e.pools[d].digest().getBytes()),e.pools[d].start()),c=c<<1;e.keyBytes=u.digest().getBytes(),u.start(),u.update(e.keyBytes);var b=u.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(b),e.generated=0}function f(u){var c=null,d=_r.util.globalScope,b=d.crypto||d.msCrypto;b&&b.getRandomValues&&(c=function(k){return b.getRandomValues(k)});var S=_r.util.createBuffer();if(c)for(;S.length()<u;){var v=Math.max(1,Math.min(u-S.length(),65536)/4),_=new Uint32Array(Math.floor(v));try{c(_);for(var T=0;T<_.length;++T)S.putInt32(_[T])}catch(k){if(!(typeof QuotaExceededError!="undefined"&&k instanceof QuotaExceededError))throw k}}if(S.length()<u)for(var C,P,L,F=Math.floor(Math.random()*65536);S.length()<u;){P=16807*(F&65535),C=16807*(F>>16),P+=(C&32767)<<16,P+=C>>15,P=(P&2147483647)+(P>>31),F=P&4294967295;for(var T=0;T<3;++T)L=F>>>(T<<3),L^=Math.floor(Math.random()*256),S.putByte(String.fromCharCode(L&255))}return S.getBytes(u)}return Is?(e.seedFile=function(u,c){Is.randomBytes(u,function(d,b){if(d)return c(d);c(null,b.toString())})},e.seedFileSync=function(u){return Is.randomBytes(u).toString()}):(e.seedFile=function(u,c){try{c(null,f(u))}catch(d){c(d)}},e.seedFileSync=f),e.collect=function(u){for(var c=u.length,d=0;d<c;++d)e.pools[e.pool].update(u.substr(d,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(u,c){for(var d="",b=0;b<c;b+=8)d+=String.fromCharCode(u>>b&255);e.collect(d)},e.registerWorker=function(u){if(u===self)e.seedFile=function(d,b){function S(v){var _=v.data;_.forge&&_.forge.prng&&(self.removeEventListener("message",S),b(_.forge.prng.err,_.forge.prng.bytes))}self.addEventListener("message",S),self.postMessage({forge:{prng:{needed:d}}})};else{var c=function(d){var b=d.data;b.forge&&b.forge.prng&&e.seedFile(b.forge.prng.needed,function(S,v){u.postMessage({forge:{prng:{err:S,bytes:v}}})})};u.addEventListener("message",c)}},e}});var An=M((uw,Xo)=>{var St=ge();Jo();zl();Hl();qe();(function(){if(St.random&&St.random.getBytes){Xo.exports=St.random;return}(function(t){var e={},r=new Array(4),i=St.util.createBuffer();e.formatKey=function(d){var b=St.util.createBuffer(d);return d=new Array(4),d[0]=b.getInt32(),d[1]=b.getInt32(),d[2]=b.getInt32(),d[3]=b.getInt32(),St.aes._expandKey(d,!1)},e.formatSeed=function(d){var b=St.util.createBuffer(d);return d=new Array(4),d[0]=b.getInt32(),d[1]=b.getInt32(),d[2]=b.getInt32(),d[3]=b.getInt32(),d},e.cipher=function(d,b){return St.aes._updateBlock(d,b,r,!1),i.putInt32(r[0]),i.putInt32(r[1]),i.putInt32(r[2]),i.putInt32(r[3]),i.getBytes()},e.increment=function(d){return++d[3],d},e.md=St.md.sha256;function n(){var d=St.prng.create(e);return d.getBytes=function(b,S){return d.generate(b,S)},d.getBytesSync=function(b){return d.generate(b)},d}var a=n(),s=null,o=St.util.globalScope,f=o.crypto||o.msCrypto;if(f&&f.getRandomValues&&(s=function(d){return f.getRandomValues(d)}),St.options.usePureJavaScript||!St.util.isNodejs&&!s){if(typeof window=="undefined"||window.document===void 0,a.collectInt(+new Date,32),typeof navigator!="undefined"){var u="";for(var c in navigator)try{typeof navigator[c]=="string"&&(u+=navigator[c])}catch(d){}a.collect(u),u=null}t&&(t().mousemove(function(d){a.collectInt(d.clientX,16),a.collectInt(d.clientY,16)}),t().keypress(function(d){a.collectInt(d.charCode,8)}))}if(!St.random)St.random=a;else for(var c in a)St.random[c]=a[c];St.random.createInstance=n,Xo.exports=St.random})(typeof jQuery!="undefined"?jQuery:null)})()});var Wl=M((cw,Yl)=>{var Kt=ge();qe();var Qo=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],Gl=[1,2,3,5],Xg=function(t,e){return t<<e&65535|(t&65535)>>16-e},Qg=function(t,e){return(t&65535)>>e|t<<16-e&65535};Yl.exports=Kt.rc2=Kt.rc2||{};Kt.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Kt.util.createBuffer(t)),e=e||128;var r=t,i=t.length(),n=e,a=Math.ceil(n/8),s=255>>(n&7),o;for(o=i;o<128;o++)r.putByte(Qo[r.at(o-1)+r.at(o-i)&255]);for(r.setAt(128-a,Qo[r.at(128-a)&s]),o=127-a;o>=0;o--)r.setAt(o,Qo[r.at(o+1)^r.at(o+a)]);return r};var jl=function(t,e,r){var i=!1,n=null,a=null,s=null,o,f,u,c,d=[];for(t=Kt.rc2.expandKey(t,e),u=0;u<64;u++)d.push(t.getInt16Le());r?(o=function(v){for(u=0;u<4;u++)v[u]+=d[c]+(v[(u+3)%4]&v[(u+2)%4])+(~v[(u+3)%4]&v[(u+1)%4]),v[u]=Xg(v[u],Gl[u]),c++},f=function(v){for(u=0;u<4;u++)v[u]+=d[v[(u+3)%4]&63]}):(o=function(v){for(u=3;u>=0;u--)v[u]=Qg(v[u],Gl[u]),v[u]-=d[c]+(v[(u+3)%4]&v[(u+2)%4])+(~v[(u+3)%4]&v[(u+1)%4]),c--},f=function(v){for(u=3;u>=0;u--)v[u]-=d[v[(u+3)%4]&63]});var b=function(v){var _=[];for(u=0;u<4;u++){var T=n.getInt16Le();s!==null&&(r?T^=s.getInt16Le():s.putInt16Le(T)),_.push(T&65535)}c=r?0:63;for(var C=0;C<v.length;C++)for(var P=0;P<v[C][0];P++)v[C][1](_);for(u=0;u<4;u++)s!==null&&(r?s.putInt16Le(_[u]):_[u]^=s.getInt16Le()),a.putInt16Le(_[u])},S=null;return S={start:function(v,_){v&&typeof v=="string"&&(v=Kt.util.createBuffer(v)),i=!1,n=Kt.util.createBuffer(),a=_||new Kt.util.createBuffer,s=v,S.output=a},update:function(v){for(i||n.putBuffer(v);n.length()>=8;)b([[5,o],[1,f],[6,o],[1,f],[5,o]])},finish:function(v){var _=!0;if(r)if(v)_=v(8,n,!r);else{var T=n.length()===8?8:8-n.length();n.fillWithByte(T,T)}if(_&&(i=!0,S.update()),!r&&(_=n.length()===0,_))if(v)_=v(8,a,!r);else{var C=a.length(),P=a.at(C-1);P>C?_=!1:a.truncate(P)}return _}},S};Kt.rc2.startEncrypting=function(t,e,r){var i=Kt.rc2.createEncryptionCipher(t,128);return i.start(e,r),i};Kt.rc2.createEncryptionCipher=function(t,e){return jl(t,e,!0)};Kt.rc2.startDecrypting=function(t,e,r){var i=Kt.rc2.createDecryptionCipher(t,128);return i.start(e,r),i};Kt.rc2.createDecryptionCipher=function(t,e){return jl(t,e,!1)}});var la=M((hw,rp)=>{var ef=ge();rp.exports=ef.jsbn=ef.jsbn||{};var Yr,e4=244837814094590,$l=(e4&16777215)==15715070;function K(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}ef.jsbn.BigInteger=K;function ye(){return new K(null)}function t4(t,e,r,i,n,a){for(;--a>=0;){var s=e*this.data[t++]+r.data[i]+n;n=Math.floor(s/67108864),r.data[i++]=s&67108863}return n}function r4(t,e,r,i,n,a){for(var s=e&32767,o=e>>15;--a>=0;){var f=this.data[t]&32767,u=this.data[t++]>>15,c=o*f+u*s;f=s*f+((c&32767)<<15)+r.data[i]+(n&1073741823),n=(f>>>30)+(c>>>15)+o*u+(n>>>30),r.data[i++]=f&1073741823}return n}function Jl(t,e,r,i,n,a){for(var s=e&16383,o=e>>14;--a>=0;){var f=this.data[t]&16383,u=this.data[t++]>>14,c=o*f+u*s;f=s*f+((c&16383)<<14)+r.data[i]+n,n=(f>>28)+(c>>14)+o*u,r.data[i++]=f&268435455}return n}typeof navigator=="undefined"?(K.prototype.am=Jl,Yr=28):$l&&navigator.appName=="Microsoft Internet Explorer"?(K.prototype.am=r4,Yr=30):$l&&navigator.appName!="Netscape"?(K.prototype.am=t4,Yr=26):(K.prototype.am=Jl,Yr=28);K.prototype.DB=Yr;K.prototype.DM=(1<<Yr)-1;K.prototype.DV=1<<Yr;var tf=52;K.prototype.FV=Math.pow(2,tf);K.prototype.F1=tf-Yr;K.prototype.F2=2*Yr-tf;var i4="0123456789abcdefghijklmnopqrstuvwxyz",Cs=new Array,Bn,Wt;Bn="0".charCodeAt(0);for(Wt=0;Wt<=9;++Wt)Cs[Bn++]=Wt;Bn="a".charCodeAt(0);for(Wt=10;Wt<36;++Wt)Cs[Bn++]=Wt;Bn="A".charCodeAt(0);for(Wt=10;Wt<36;++Wt)Cs[Bn++]=Wt;function Zl(t){return i4.charAt(t)}function Xl(t,e){var r=Cs[t.charCodeAt(e)];return r??-1}function n4(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function a4(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function li(t){var e=ye();return e.fromInt(t),e}function s4(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var i=t.length,n=!1,a=0;--i>=0;){var s=r==8?t[i]&255:Xl(t,i);if(s<0){t.charAt(i)=="-"&&(n=!0);continue}n=!1,a==0?this.data[this.t++]=s:a+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this.data[this.t++]=s>>this.DB-a):this.data[this.t-1]|=s<<a,a+=r,a>=this.DB&&(a-=this.DB)}r==8&&(t[0]&128)!=0&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),n&&K.ZERO.subTo(this,this)}function o4(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function f4(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,i,n=!1,a="",s=this.t,o=this.DB-s*this.DB%e;if(s-- >0)for(o<this.DB&&(i=this.data[s]>>o)>0&&(n=!0,a=Zl(i));s>=0;)o<e?(i=(this.data[s]&(1<<o)-1)<<e-o,i|=this.data[--s]>>(o+=this.DB-e)):(i=this.data[s]>>(o-=e)&r,o<=0&&(o+=this.DB,--s)),i>0&&(n=!0),n&&(a+=Zl(i));return n?a:"0"}function u4(){var t=ye();return K.ZERO.subTo(this,t),t}function c4(){return this.s<0?this.negate():this}function h4(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function Ts(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function d4(){return this.t<=0?0:this.DB*(this.t-1)+Ts(this.data[this.t-1]^this.s&this.DM)}function l4(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function p4(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function b4(t,e){var r=t%this.DB,i=this.DB-r,n=(1<<i)-1,a=Math.floor(t/this.DB),s=this.s<<r&this.DM,o;for(o=this.t-1;o>=0;--o)e.data[o+a+1]=this.data[o]>>i|s,s=(this.data[o]&n)<<r;for(o=a-1;o>=0;--o)e.data[o]=0;e.data[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()}function y4(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var i=t%this.DB,n=this.DB-i,a=(1<<i)-1;e.data[0]=this.data[r]>>i;for(var s=r+1;s<this.t;++s)e.data[s-r-1]|=(this.data[s]&a)<<n,e.data[s-r]=this.data[s]>>i;i>0&&(e.data[this.t-r-1]|=(this.s&a)<<n),e.t=this.t-r,e.clamp()}function v4(t,e){for(var r=0,i=0,n=Math.min(t.t,this.t);r<n;)i+=this.data[r]-t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;r<this.t;)i+=this.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<t.t;)i-=t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=i<0?-1:0,i<-1?e.data[r++]=this.DV+i:i>0&&(e.data[r++]=i),e.t=r,e.clamp()}function g4(t,e){var r=this.abs(),i=t.abs(),n=r.t;for(e.t=n+i.t;--n>=0;)e.data[n]=0;for(n=0;n<i.t;++n)e.data[n+r.t]=r.am(0,i.data[n],e,n,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&K.ZERO.subTo(e,e)}function x4(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var i=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,i,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function m4(t,e,r){var i=t.abs();if(!(i.t<=0)){var n=this.abs();if(n.t<i.t){e!=null&&e.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=ye());var a=ye(),s=this.s,o=t.s,f=this.DB-Ts(i.data[i.t-1]);f>0?(i.lShiftTo(f,a),n.lShiftTo(f,r)):(i.copyTo(a),n.copyTo(r));var u=a.t,c=a.data[u-1];if(c!=0){var d=c*(1<<this.F1)+(u>1?a.data[u-2]>>this.F2:0),b=this.FV/d,S=(1<<this.F1)/d,v=1<<this.F2,_=r.t,T=_-u,C=e??ye();for(a.dlShiftTo(T,C),r.compareTo(C)>=0&&(r.data[r.t++]=1,r.subTo(C,r)),K.ONE.dlShiftTo(u,C),C.subTo(a,a);a.t<u;)a.data[a.t++]=0;for(;--T>=0;){var P=r.data[--_]==c?this.DM:Math.floor(r.data[_]*b+(r.data[_-1]+v)*S);if((r.data[_]+=a.am(0,P,r,T,0,u))<P)for(a.dlShiftTo(T,C),r.subTo(C,r);r.data[_]<--P;)r.subTo(C,r)}e!=null&&(r.drShiftTo(u,e),s!=o&&K.ZERO.subTo(e,e)),r.t=u,r.clamp(),f>0&&r.rShiftTo(f,r),s<0&&K.ZERO.subTo(r,r)}}}function w4(t){var e=ye();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(K.ZERO)>0&&t.subTo(e,e),e}function zi(t){this.m=t}function S4(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function E4(t){return t}function _4(t){t.divRemTo(this.m,null,t)}function A4(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function B4(t,e){t.squareTo(e),this.reduce(e)}zi.prototype.convert=S4;zi.prototype.revert=E4;zi.prototype.reduce=_4;zi.prototype.mulTo=A4;zi.prototype.sqrTo=B4;function I4(){if(this.t<1)return 0;var t=this.data[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function Vi(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function C4(t){var e=ye();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(K.ZERO)>0&&this.m.subTo(e,e),e}function T4(t){var e=ye();return t.copyTo(e),this.reduce(e),e}function M4(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,i=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,i,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function R4(t,e){t.squareTo(e),this.reduce(e)}function P4(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Vi.prototype.convert=C4;Vi.prototype.revert=T4;Vi.prototype.reduce=M4;Vi.prototype.mulTo=P4;Vi.prototype.sqrTo=R4;function L4(){return(this.t>0?this.data[0]&1:this.s)==0}function N4(t,e){if(t>4294967295||t<1)return K.ONE;var r=ye(),i=ye(),n=e.convert(this),a=Ts(t)-1;for(n.copyTo(r);--a>=0;)if(e.sqrTo(r,i),(t&1<<a)>0)e.mulTo(i,n,r);else{var s=r;r=i,i=s}return e.revert(r)}function D4(t,e){var r;return t<256||e.isEven()?r=new zi(e):r=new Vi(e),this.exp(t,r)}K.prototype.copyTo=n4;K.prototype.fromInt=a4;K.prototype.fromString=s4;K.prototype.clamp=o4;K.prototype.dlShiftTo=l4;K.prototype.drShiftTo=p4;K.prototype.lShiftTo=b4;K.prototype.rShiftTo=y4;K.prototype.subTo=v4;K.prototype.multiplyTo=g4;K.prototype.squareTo=x4;K.prototype.divRemTo=m4;K.prototype.invDigit=I4;K.prototype.isEven=L4;K.prototype.exp=N4;K.prototype.toString=f4;K.prototype.negate=u4;K.prototype.abs=c4;K.prototype.compareTo=h4;K.prototype.bitLength=d4;K.prototype.mod=w4;K.prototype.modPowInt=D4;K.ZERO=li(0);K.ONE=li(1);function q4(){var t=ye();return this.copyTo(t),t}function k4(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function K4(){return this.t==0?this.s:this.data[0]<<24>>24}function O4(){return this.t==0?this.s:this.data[0]<<16>>16}function F4(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function U4(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function z4(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),i=li(r),n=ye(),a=ye(),s="";for(this.divRemTo(i,n,a);n.signum()>0;)s=(r+a.intValue()).toString(t).substr(1)+s,n.divRemTo(i,n,a);return a.intValue().toString(t)+s}function V4(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),i=Math.pow(e,r),n=!1,a=0,s=0,o=0;o<t.length;++o){var f=Xl(t,o);if(f<0){t.charAt(o)=="-"&&this.signum()==0&&(n=!0);continue}s=e*s+f,++a>=r&&(this.dMultiply(i),this.dAddOffset(s,0),a=0,s=0)}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(s,0)),n&&K.ZERO.subTo(this,this)}function H4(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(K.ONE.shiftLeft(t-1),rf,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(K.ONE.shiftLeft(t-1),this);else{var i=new Array,n=t&7;i.length=(t>>3)+1,e.nextBytes(i),n>0?i[0]&=(1<<n)-1:i[0]=0,this.fromString(i,256)}}function G4(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,i,n=0;if(t-- >0)for(r<this.DB&&(i=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[n++]=i|this.s<<this.DB-r);t>=0;)r<8?(i=(this.data[t]&(1<<r)-1)<<8-r,i|=this.data[--t]>>(r+=this.DB-8)):(i=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),(i&128)!=0&&(i|=-256),n==0&&(this.s&128)!=(i&128)&&++n,(n>0||i!=this.s)&&(e[n++]=i);return e}function j4(t){return this.compareTo(t)==0}function Y4(t){return this.compareTo(t)<0?this:t}function W4(t){return this.compareTo(t)>0?this:t}function $4(t,e,r){var i,n,a=Math.min(t.t,this.t);for(i=0;i<a;++i)r.data[i]=e(this.data[i],t.data[i]);if(t.t<this.t){for(n=t.s&this.DM,i=a;i<this.t;++i)r.data[i]=e(this.data[i],n);r.t=this.t}else{for(n=this.s&this.DM,i=a;i<t.t;++i)r.data[i]=e(n,t.data[i]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function J4(t,e){return t&e}function Z4(t){var e=ye();return this.bitwiseTo(t,J4,e),e}function rf(t,e){return t|e}function X4(t){var e=ye();return this.bitwiseTo(t,rf,e),e}function Ql(t,e){return t^e}function Q4(t){var e=ye();return this.bitwiseTo(t,Ql,e),e}function ep(t,e){return t&~e}function e6(t){var e=ye();return this.bitwiseTo(t,ep,e),e}function t6(){for(var t=ye(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function r6(t){var e=ye();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function i6(t){var e=ye();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function n6(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}function a6(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+n6(this.data[t]);return this.s<0?this.t*this.DB:-1}function s6(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function o6(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=s6(this.data[r]^e);return t}function f6(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function u6(t,e){var r=K.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function c6(t){return this.changeBit(t,rf)}function h6(t){return this.changeBit(t,ep)}function d6(t){return this.changeBit(t,Ql)}function l6(t,e){for(var r=0,i=0,n=Math.min(t.t,this.t);r<n;)i+=this.data[r]+t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i+=t.s;r<this.t;)i+=this.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<t.t;)i+=t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i+=t.s}e.s=i<0?-1:0,i>0?e.data[r++]=i:i<-1&&(e.data[r++]=this.DV+i),e.t=r,e.clamp()}function p6(t){var e=ye();return this.addTo(t,e),e}function b6(t){var e=ye();return this.subTo(t,e),e}function y6(t){var e=ye();return this.multiplyTo(t,e),e}function v6(t){var e=ye();return this.divRemTo(t,e,null),e}function g6(t){var e=ye();return this.divRemTo(t,null,e),e}function x6(t){var e=ye(),r=ye();return this.divRemTo(t,e,r),new Array(e,r)}function m6(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function w6(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function da(){}function tp(t){return t}function S6(t,e,r){t.multiplyTo(e,r)}function E6(t,e){t.squareTo(e)}da.prototype.convert=tp;da.prototype.revert=tp;da.prototype.mulTo=S6;da.prototype.sqrTo=E6;function _6(t){return this.exp(t,new da)}function A6(t,e,r){var i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;var n;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,t.data[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t.data[i],r,i,0,e-i);r.clamp()}function B6(t,e,r){--e;var i=r.t=this.t+t.t-e;for(r.s=0;--i>=0;)r.data[i]=0;for(i=Math.max(e-this.t,0);i<t.t;++i)r.data[this.t+i-e]=this.am(e-i,t.data[i],r,0,0,this.t+i-e);r.clamp(),r.drShiftTo(1,r)}function In(t){this.r2=ye(),this.q3=ye(),K.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function I6(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=ye();return t.copyTo(e),this.reduce(e),e}function C6(t){return t}function T6(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function M6(t,e){t.squareTo(e),this.reduce(e)}function R6(t,e,r){t.multiplyTo(e,r),this.reduce(r)}In.prototype.convert=I6;In.prototype.revert=C6;In.prototype.reduce=T6;In.prototype.mulTo=R6;In.prototype.sqrTo=M6;function P6(t,e){var r=t.bitLength(),i,n=li(1),a;if(r<=0)return n;r<18?i=1:r<48?i=3:r<144?i=4:r<768?i=5:i=6,r<8?a=new zi(e):e.isEven()?a=new In(e):a=new Vi(e);var s=new Array,o=3,f=i-1,u=(1<<i)-1;if(s[1]=a.convert(this),i>1){var c=ye();for(a.sqrTo(s[1],c);o<=u;)s[o]=ye(),a.mulTo(c,s[o-2],s[o]),o+=2}var d=t.t-1,b,S=!0,v=ye(),_;for(r=Ts(t.data[d])-1;d>=0;){for(r>=f?b=t.data[d]>>r-f&u:(b=(t.data[d]&(1<<r+1)-1)<<f-r,d>0&&(b|=t.data[d-1]>>this.DB+r-f)),o=i;(b&1)==0;)b>>=1,--o;if((r-=o)<0&&(r+=this.DB,--d),S)s[b].copyTo(n),S=!1;else{for(;o>1;)a.sqrTo(n,v),a.sqrTo(v,n),o-=2;o>0?a.sqrTo(n,v):(_=n,n=v,v=_),a.mulTo(v,s[b],n)}for(;d>=0&&(t.data[d]&1<<r)==0;)a.sqrTo(n,v),_=n,n=v,v=_,--r<0&&(r=this.DB-1,--d)}return a.revert(n)}function L6(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var i=e;e=r,r=i}var n=e.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return e;for(n<a&&(a=n),a>0&&(e.rShiftTo(a,e),r.rShiftTo(a,r));e.signum()>0;)(n=e.getLowestSetBit())>0&&e.rShiftTo(n,e),(n=r.getLowestSetBit())>0&&r.rShiftTo(n,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}function N6(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var i=this.t-1;i>=0;--i)r=(e*r+this.data[i])%t;return r}function D6(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return K.ZERO;for(var r=t.clone(),i=this.clone(),n=li(1),a=li(0),s=li(0),o=li(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!n.isEven()||!a.isEven())&&(n.addTo(this,n),a.subTo(t,a)),n.rShiftTo(1,n)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),e?((!s.isEven()||!o.isEven())&&(s.addTo(this,s),o.subTo(t,o)),s.rShiftTo(1,s)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);r.compareTo(i)>=0?(r.subTo(i,r),e&&n.subTo(s,n),a.subTo(o,a)):(i.subTo(r,i),e&&s.subTo(n,s),o.subTo(a,o))}if(i.compareTo(K.ONE)!=0)return K.ZERO;if(o.compareTo(t)>=0)return o.subtract(t);if(o.signum()<0)o.addTo(t,o);else return o;return o.signum()<0?o.add(t):o}var or=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],q6=(1<<26)/or[or.length-1];function k6(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=or[or.length-1]){for(e=0;e<or.length;++e)if(r.data[0]==or[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<or.length;){for(var i=or[e],n=e+1;n<or.length&&i<q6;)i*=or[n++];for(i=r.modInt(i);e<n;)if(i%or[e++]==0)return!1}return r.millerRabin(t)}function K6(t){var e=this.subtract(K.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var i=e.shiftRight(r),n=O6(),a,s=0;s<t;++s){do a=new K(this.bitLength(),n);while(a.compareTo(K.ONE)<=0||a.compareTo(e)>=0);var o=a.modPow(i,this);if(o.compareTo(K.ONE)!=0&&o.compareTo(e)!=0){for(var f=1;f++<r&&o.compareTo(e)!=0;)if(o=o.modPowInt(2,this),o.compareTo(K.ONE)==0)return!1;if(o.compareTo(e)!=0)return!1}}return!0}function O6(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}K.prototype.chunkSize=F4;K.prototype.toRadix=z4;K.prototype.fromRadix=V4;K.prototype.fromNumber=H4;K.prototype.bitwiseTo=$4;K.prototype.changeBit=u6;K.prototype.addTo=l6;K.prototype.dMultiply=m6;K.prototype.dAddOffset=w6;K.prototype.multiplyLowerTo=A6;K.prototype.multiplyUpperTo=B6;K.prototype.modInt=N6;K.prototype.millerRabin=K6;K.prototype.clone=q4;K.prototype.intValue=k4;K.prototype.byteValue=K4;K.prototype.shortValue=O4;K.prototype.signum=U4;K.prototype.toByteArray=G4;K.prototype.equals=j4;K.prototype.min=Y4;K.prototype.max=W4;K.prototype.and=Z4;K.prototype.or=X4;K.prototype.xor=Q4;K.prototype.andNot=e6;K.prototype.not=t6;K.prototype.shiftLeft=r6;K.prototype.shiftRight=i6;K.prototype.getLowestSetBit=a6;K.prototype.bitCount=o6;K.prototype.testBit=f6;K.prototype.setBit=c6;K.prototype.clearBit=h6;K.prototype.flipBit=d6;K.prototype.add=p6;K.prototype.subtract=b6;K.prototype.multiply=y6;K.prototype.divide=v6;K.prototype.remainder=g6;K.prototype.divideAndRemainder=x6;K.prototype.modPow=P6;K.prototype.modInverse=D6;K.prototype.pow=_6;K.prototype.gcd=L6;K.prototype.isProbablePrime=k6});var op=M((dw,sp)=>{var Ar=ge();Ui();qe();var ip=sp.exports=Ar.sha1=Ar.sha1||{};Ar.md.sha1=Ar.md.algorithms.sha1=ip;ip.create=function(){np||F6();var t=null,e=Ar.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return i.start=function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,a=0;a<n;++a)i.fullMessageLength.push(0);return e=Ar.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i},i.start(),i.update=function(n,a){a==="utf8"&&(n=Ar.util.encodeUtf8(n));var s=n.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var o=i.fullMessageLength.length-1;o>=0;--o)i.fullMessageLength[o]+=s[1],s[1]=s[0]+(i.fullMessageLength[o]/4294967296>>>0),i.fullMessageLength[o]=i.fullMessageLength[o]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(n),ap(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),i},i.digest=function(){var n=Ar.util.createBuffer();n.putBytes(e.bytes());var a=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize,s=a&i.blockLength-1;n.putBytes(nf.substr(0,i.blockLength-s));for(var o,f,u=i.fullMessageLength[0]*8,c=0;c<i.fullMessageLength.length-1;++c)o=i.fullMessageLength[c+1]*8,f=o/4294967296>>>0,u+=f,n.putInt32(u>>>0),u=o>>>0;n.putInt32(u);var d={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};ap(d,r,n);var b=Ar.util.createBuffer();return b.putInt32(d.h0),b.putInt32(d.h1),b.putInt32(d.h2),b.putInt32(d.h3),b.putInt32(d.h4),b},i};var nf=null,np=!1;function F6(){nf=String.fromCharCode(128),nf+=Ar.util.fillString(String.fromCharCode(0),64),np=!0}function ap(t,e,r){for(var i,n,a,s,o,f,u,c,d=r.length();d>=64;){for(n=t.h0,a=t.h1,s=t.h2,o=t.h3,f=t.h4,c=0;c<16;++c)i=r.getInt32(),e[c]=i,u=o^a&(s^o),i=(n<<5|n>>>27)+u+f+1518500249+i,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=n,n=i;for(;c<20;++c)i=e[c-3]^e[c-8]^e[c-14]^e[c-16],i=i<<1|i>>>31,e[c]=i,u=o^a&(s^o),i=(n<<5|n>>>27)+u+f+1518500249+i,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=n,n=i;for(;c<32;++c)i=e[c-3]^e[c-8]^e[c-14]^e[c-16],i=i<<1|i>>>31,e[c]=i,u=a^s^o,i=(n<<5|n>>>27)+u+f+1859775393+i,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=n,n=i;for(;c<40;++c)i=e[c-6]^e[c-16]^e[c-28]^e[c-32],i=i<<2|i>>>30,e[c]=i,u=a^s^o,i=(n<<5|n>>>27)+u+f+1859775393+i,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=n,n=i;for(;c<60;++c)i=e[c-6]^e[c-16]^e[c-28]^e[c-32],i=i<<2|i>>>30,e[c]=i,u=a&s|o&(a^s),i=(n<<5|n>>>27)+u+f+2400959708+i,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=n,n=i;for(;c<80;++c)i=e[c-6]^e[c-16]^e[c-28]^e[c-32],i=i<<2|i>>>30,e[c]=i,u=a^s^o,i=(n<<5|n>>>27)+u+f+3395469782+i,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=n,n=i;t.h0=t.h0+n|0,t.h1=t.h1+a|0,t.h2=t.h2+s|0,t.h3=t.h3+o|0,t.h4=t.h4+f|0,d-=64}}});var cp=M((lw,up)=>{var Br=ge();qe();An();op();var fp=up.exports=Br.pkcs1=Br.pkcs1||{};fp.encode_rsa_oaep=function(t,e,r){var i,n,a,s;typeof r=="string"?(i=r,n=arguments[3]||void 0,a=arguments[4]||void 0):r&&(i=r.label||void 0,n=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md)),a?a.start():a=Br.md.sha1.create(),s||(s=a);var o=Math.ceil(t.n.bitLength()/8),f=o-2*a.digestLength-2;if(e.length>f){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=e.length,u.maxLength=f,u}i||(i=""),a.update(i,"raw");for(var c=a.digest(),d="",b=f-e.length,S=0;S<b;S++)d+="\0";var v=c.getBytes()+d+""+e;if(!n)n=Br.random.getBytes(a.digestLength);else if(n.length!==a.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=n.length,u.digestLength=a.digestLength,u}var _=Ms(n,o-a.digestLength-1,s),T=Br.util.xorBytes(v,_,v.length),C=Ms(T,a.digestLength,s),P=Br.util.xorBytes(n,C,n.length);return"\0"+P+T};fp.decode_rsa_oaep=function(t,e,r){var i,n,a;typeof r=="string"?(i=r,n=arguments[3]||void 0):r&&(i=r.label||void 0,n=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var s=Math.ceil(t.n.bitLength()/8);if(e.length!==s){var T=new Error("RSAES-OAEP encoded message length is invalid.");throw T.length=e.length,T.expectedLength=s,T}if(n===void 0?n=Br.md.sha1.create():n.start(),a||(a=n),s<2*n.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),n.update(i,"raw");for(var o=n.digest().getBytes(),f=e.charAt(0),u=e.substring(1,n.digestLength+1),c=e.substring(1+n.digestLength),d=Ms(c,n.digestLength,a),b=Br.util.xorBytes(u,d,u.length),S=Ms(b,s-n.digestLength-1,a),v=Br.util.xorBytes(c,S,c.length),_=v.substring(0,n.digestLength),T=f!=="\0",C=0;C<n.digestLength;++C)T|=o.charAt(C)!==_.charAt(C);for(var P=1,L=n.digestLength,F=n.digestLength;F<v.length;F++){var k=v.charCodeAt(F),q=k&1^1,H=P?65534:0;T|=k&H,P=P&q,L+=P}if(T||v.charCodeAt(L)!==1)throw new Error("Invalid RSAES-OAEP padding.");return v.substring(L+1)};function Ms(t,e,r){r||(r=Br.md.sha1.create());for(var i="",n=Math.ceil(e/r.digestLength),a=0;a<n;++a){var s=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255);r.start(),r.update(t+s),i+=r.digest().getBytes()}return i.substring(0,e)}});var hp=M((pw,af)=>{var pi=ge();qe();la();An();(function(){if(pi.prime){af.exports=pi.prime;return}var t=af.exports=pi.prime=pi.prime||{},e=pi.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],i=new e(null);i.fromInt(30);var n=function(d,b){return d|b};t.generateProbablePrime=function(d,b,S){typeof b=="function"&&(S=b,b={}),b=b||{};var v=b.algorithm||"PRIMEINC";typeof v=="string"&&(v={name:v}),v.options=v.options||{};var _=b.prng||pi.random,T={nextBytes:function(C){for(var P=_.getBytesSync(C.length),L=0;L<C.length;++L)C[L]=P.charCodeAt(L)}};if(v.name==="PRIMEINC")return a(d,T,v.options,S);throw new Error("Invalid prime generation algorithm: "+v.name)};function a(d,b,S,v){return"workers"in S?f(d,b,S,v):s(d,b,S,v)}function s(d,b,S,v){var _=u(d,b),T=0,C=c(_.bitLength());"millerRabinTests"in S&&(C=S.millerRabinTests);var P=10;"maxBlockTime"in S&&(P=S.maxBlockTime),o(_,d,b,T,C,P,v)}function o(d,b,S,v,_,T,C){var P=+new Date;do{if(d.bitLength()>b&&(d=u(b,S)),d.isProbablePrime(_))return C(null,d);d.dAddOffset(r[v++%8],0)}while(T<0||+new Date-P<T);pi.util.setImmediate(function(){o(d,b,S,v,_,T,C)})}function f(d,b,S,v){if(typeof Worker=="undefined")return s(d,b,S,v);var _=u(d,b),T=S.workers,C=S.workLoad||100,P=C*30/8,L=S.workerScript||"forge/prime.worker.js";if(T===-1)return pi.util.estimateCores(function(k,q){k&&(q=2),T=q-1,F()});F();function F(){T=Math.max(1,T);for(var k=[],q=0;q<T;++q)k[q]=new Worker(L);for(var H=T,q=0;q<T;++q)k[q].addEventListener("message",J);var U=!1;function J(E){if(!U){--H;var h=E.data;if(h.found){for(var p=0;p<k.length;++p)k[p].terminate();return U=!0,v(null,new e(h.prime,16))}_.bitLength()>d&&(_=u(d,b));var y=_.toString(16);E.target.postMessage({hex:y,workLoad:C}),_.dAddOffset(P,0)}}}}function u(d,b){var S=new e(d,b),v=d-1;return S.testBit(v)||S.bitwiseTo(e.ONE.shiftLeft(v),n,S),S.dAddOffset(31-S.mod(i).byteValue(),0),S}function c(d){return d<=100?27:d<=150?18:d<=200?15:d<=250?12:d<=300?9:d<=350?8:d<=400?7:d<=500?6:d<=600?5:d<=800?4:d<=1250?3:2}})()});var Ps=M((bw,gp)=>{var te=ge();Sn();la();gs();cp();hp();An();qe();typeof le=="undefined"&&(le=te.jsbn.BigInteger);var le,sf=te.util.isNodejs?ha():null,R=te.asn1,$t=te.util;te.pki=te.pki||{};gp.exports=te.pki.rsa=te.rsa=te.rsa||{};var re=te.pki,U6=[6,4,2,4,2,4,6,2],z6={name:"PrivateKeyInfo",tagClass:R.Class.UNIVERSAL,type:R.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:R.Class.UNIVERSAL,type:R.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:R.Class.UNIVERSAL,type:R.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:R.Class.UNIVERSAL,type:R.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:R.Class.UNIVERSAL,type:R.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},V6={name:"RSAPrivateKey",tagClass:R.Class.UNIVERSAL,type:R.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:R.Class.UNIVERSAL,type:R.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:R.Class.UNIVERSAL,type:R.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:R.Class.UNIVERSAL,type:R.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:R.Class.UNIVERSAL,type:R.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:R.Class.UNIVERSAL,type:R.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:R.Class.UNIVERSAL,type:R.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:R.Class.UNIVERSAL,type:R.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:R.Class.UNIVERSAL,type:R.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:R.Class.UNIVERSAL,type:R.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},H6={name:"RSAPublicKey",tagClass:R.Class.UNIVERSAL,type:R.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:R.Class.UNIVERSAL,type:R.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:R.Class.UNIVERSAL,type:R.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},G6=te.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:R.Class.UNIVERSAL,type:R.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:R.Class.UNIVERSAL,type:R.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:R.Class.UNIVERSAL,type:R.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:R.Class.UNIVERSAL,type:R.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:R.Class.UNIVERSAL,type:R.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},j6=function(t){var e;if(t.algorithm in re.oids)e=re.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var i=R.oidToDer(e).getBytes(),n=R.create(R.Class.UNIVERSAL,R.Type.SEQUENCE,!0,[]),a=R.create(R.Class.UNIVERSAL,R.Type.SEQUENCE,!0,[]);a.value.push(R.create(R.Class.UNIVERSAL,R.Type.OID,!1,i)),a.value.push(R.create(R.Class.UNIVERSAL,R.Type.NULL,!1,""));var s=R.create(R.Class.UNIVERSAL,R.Type.OCTETSTRING,!1,t.digest().getBytes());return n.value.push(a),n.value.push(s),R.toDer(n).getBytes()},dp=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(le.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(le.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var i;do i=new le(te.util.bytesToHex(te.random.getBytes(e.n.bitLength()/8)),16);while(i.compareTo(e.n)>=0||!i.gcd(e.n).equals(le.ONE));t=t.multiply(i.modPow(e.e,e.n)).mod(e.n);for(var n=t.mod(e.p).modPow(e.dP,e.p),a=t.mod(e.q).modPow(e.dQ,e.q);n.compareTo(a)<0;)n=n.add(e.p);var s=n.subtract(a).multiply(e.qInv).mod(e.p).multiply(e.q).add(a);return s=s.multiply(i.modInverse(e.n)).mod(e.n),s};re.rsa.encrypt=function(t,e,r){var i=r,n,a=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(i=r===2,n=lp(t,e,r)):(n=te.util.createBuffer(),n.putBytes(t));for(var s=new le(n.toHex(),16),o=dp(s,e,i),f=o.toString(16),u=te.util.createBuffer(),c=a-Math.ceil(f.length/2);c>0;)u.putByte(0),--c;return u.putBytes(te.util.hexToBytes(f)),u.getBytes()};re.rsa.decrypt=function(t,e,r,i){var n=Math.ceil(e.n.bitLength()/8);if(t.length!==n){var a=new Error("Encrypted message length is invalid.");throw a.length=t.length,a.expected=n,a}var s=new le(te.util.createBuffer(t).toHex(),16);if(s.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var o=dp(s,e,r),f=o.toString(16),u=te.util.createBuffer(),c=n-Math.ceil(f.length/2);c>0;)u.putByte(0),--c;return u.putBytes(te.util.hexToBytes(f)),i!==!1?Rs(u.getBytes(),e,r):u.getBytes()};re.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var i=r.prng||te.random,n={nextBytes:function(o){for(var f=i.getBytesSync(o.length),u=0;u<o.length;++u)o[u]=f.charCodeAt(u)}},a=r.algorithm||"PRIMEINC",s;if(a==="PRIMEINC")s={algorithm:a,state:0,bits:t,rng:n,eInt:e||65537,e:new le(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},s.e.fromInt(s.eInt);else throw new Error("Invalid key generation algorithm: "+a);return s};re.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new le(null);r.fromInt(30);for(var i=0,n=function(d,b){return d|b},a=+new Date,s,o=0;t.keys===null&&(e<=0||o<e);){if(t.state===0){var f=t.p===null?t.pBits:t.qBits,u=f-1;t.pqState===0?(t.num=new le(f,t.rng),t.num.testBit(u)||t.num.bitwiseTo(le.ONE.shiftLeft(u),n,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),i=0,++t.pqState):t.pqState===1?t.num.bitLength()>f?t.pqState=0:t.num.isProbablePrime(W6(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(U6[i++%8],0):t.pqState===2?t.pqState=t.num.subtract(le.ONE).gcd(t.e).compareTo(le.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(le.ONE),t.q1=t.q.subtract(le.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(le.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var c=t.e.modInverse(t.phi);t.keys={privateKey:re.rsa.setPrivateKey(t.n,t.e,c,t.p,t.q,c.mod(t.p1),c.mod(t.q1),t.q.modInverse(t.p)),publicKey:re.rsa.setPublicKey(t.n,t.e)}}s=+new Date,o+=s-a,a=s}return t.keys!==null};re.rsa.generateKeyPair=function(t,e,r,i){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(i=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(i=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,i=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(i=r,r=void 0):(i=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!te.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(i){if(pp("generateKeyPair"))return sf.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(o,f,u){if(o)return i(o);i(null,{privateKey:re.privateKeyFromPem(u),publicKey:re.publicKeyFromPem(f)})});if(bp("generateKey")&&bp("exportKey"))return $t.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:vp(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(o){return $t.globalScope.crypto.subtle.exportKey("pkcs8",o.privateKey)}).then(void 0,function(o){i(o)}).then(function(o){if(o){var f=re.privateKeyFromAsn1(R.fromDer(te.util.createBuffer(o)));i(null,{privateKey:f,publicKey:re.setRsaPublicKey(f.n,f.e)})}});if(yp("generateKey")&&yp("exportKey")){var n=$t.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:vp(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);n.oncomplete=function(o){var f=o.target.result,u=$t.globalScope.msCrypto.subtle.exportKey("pkcs8",f.privateKey);u.oncomplete=function(c){var d=c.target.result,b=re.privateKeyFromAsn1(R.fromDer(te.util.createBuffer(d)));i(null,{privateKey:b,publicKey:re.setRsaPublicKey(b.n,b.e)})},u.onerror=function(c){i(c)}},n.onerror=function(o){i(o)};return}}else if(pp("generateKeyPairSync")){var a=sf.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:re.privateKeyFromPem(a.privateKey),publicKey:re.publicKeyFromPem(a.publicKey)}}}var s=re.rsa.createKeyPairGenerationState(t,e,r);if(!i)return re.rsa.stepKeyPairGenerationState(s,0),s.keys;Y6(s,r,i)};re.setRsaPublicKey=re.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(i,n,a){if(typeof n=="string"?n=n.toUpperCase():n===void 0&&(n="RSAES-PKCS1-V1_5"),n==="RSAES-PKCS1-V1_5")n={encode:function(o,f,u){return lp(o,f,2).getBytes()}};else if(n==="RSA-OAEP"||n==="RSAES-OAEP")n={encode:function(o,f){return te.pkcs1.encode_rsa_oaep(f,o,a)}};else if(["RAW","NONE","NULL",null].indexOf(n)!==-1)n={encode:function(o){return o}};else if(typeof n=="string")throw new Error('Unsupported encryption scheme: "'+n+'".');var s=n.encode(i,r,!0);return re.rsa.encrypt(s,r,!0)},r.verify=function(i,n,a){typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSASSA-PKCS1-V1_5"),a==="RSASSA-PKCS1-V1_5"?a={verify:function(o,f){f=Rs(f,r,!0);var u=R.fromDer(f);return o===u.value[1].value}}:(a==="NONE"||a==="NULL"||a===null)&&(a={verify:function(o,f){return f=Rs(f,r,!0),o===f}});var s=re.rsa.decrypt(n,r,!0,!1);return a.verify(i,s,r.n.bitLength())},r};re.setRsaPrivateKey=re.rsa.setPrivateKey=function(t,e,r,i,n,a,s,o){var f={n:t,e,d:r,p:i,q:n,dP:a,dQ:s,qInv:o};return f.decrypt=function(u,c,d){typeof c=="string"?c=c.toUpperCase():c===void 0&&(c="RSAES-PKCS1-V1_5");var b=re.rsa.decrypt(u,f,!1,!1);if(c==="RSAES-PKCS1-V1_5")c={decode:Rs};else if(c==="RSA-OAEP"||c==="RSAES-OAEP")c={decode:function(S,v){return te.pkcs1.decode_rsa_oaep(v,S,d)}};else if(["RAW","NONE","NULL",null].indexOf(c)!==-1)c={decode:function(S){return S}};else throw new Error('Unsupported encryption scheme: "'+c+'".');return c.decode(b,f,!1)},f.sign=function(u,c){var d=!1;typeof c=="string"&&(c=c.toUpperCase()),c===void 0||c==="RSASSA-PKCS1-V1_5"?(c={encode:j6},d=1):(c==="NONE"||c==="NULL"||c===null)&&(c={encode:function(){return u}},d=1);var b=c.encode(u,f.n.bitLength());return re.rsa.encrypt(b,f,d)},f};re.wrapRsaPrivateKey=function(t){return R.create(R.Class.UNIVERSAL,R.Type.SEQUENCE,!0,[R.create(R.Class.UNIVERSAL,R.Type.INTEGER,!1,R.integerToDer(0).getBytes()),R.create(R.Class.UNIVERSAL,R.Type.SEQUENCE,!0,[R.create(R.Class.UNIVERSAL,R.Type.OID,!1,R.oidToDer(re.oids.rsaEncryption).getBytes()),R.create(R.Class.UNIVERSAL,R.Type.NULL,!1,"")]),R.create(R.Class.UNIVERSAL,R.Type.OCTETSTRING,!1,R.toDer(t).getBytes())])};re.privateKeyFromAsn1=function(t){var e={},r=[];if(R.validate(t,z6,e,r)&&(t=R.fromDer(te.util.createBuffer(e.privateKey))),e={},r=[],!R.validate(t,V6,e,r)){var i=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw i.errors=r,i}var n,a,s,o,f,u,c,d;return n=te.util.createBuffer(e.privateKeyModulus).toHex(),a=te.util.createBuffer(e.privateKeyPublicExponent).toHex(),s=te.util.createBuffer(e.privateKeyPrivateExponent).toHex(),o=te.util.createBuffer(e.privateKeyPrime1).toHex(),f=te.util.createBuffer(e.privateKeyPrime2).toHex(),u=te.util.createBuffer(e.privateKeyExponent1).toHex(),c=te.util.createBuffer(e.privateKeyExponent2).toHex(),d=te.util.createBuffer(e.privateKeyCoefficient).toHex(),re.setRsaPrivateKey(new le(n,16),new le(a,16),new le(s,16),new le(o,16),new le(f,16),new le(u,16),new le(c,16),new le(d,16))};re.privateKeyToAsn1=re.privateKeyToRSAPrivateKey=function(t){return R.create(R.Class.UNIVERSAL,R.Type.SEQUENCE,!0,[R.create(R.Class.UNIVERSAL,R.Type.INTEGER,!1,R.integerToDer(0).getBytes()),R.create(R.Class.UNIVERSAL,R.Type.INTEGER,!1,Ir(t.n)),R.create(R.Class.UNIVERSAL,R.Type.INTEGER,!1,Ir(t.e)),R.create(R.Class.UNIVERSAL,R.Type.INTEGER,!1,Ir(t.d)),R.create(R.Class.UNIVERSAL,R.Type.INTEGER,!1,Ir(t.p)),R.create(R.Class.UNIVERSAL,R.Type.INTEGER,!1,Ir(t.q)),R.create(R.Class.UNIVERSAL,R.Type.INTEGER,!1,Ir(t.dP)),R.create(R.Class.UNIVERSAL,R.Type.INTEGER,!1,Ir(t.dQ)),R.create(R.Class.UNIVERSAL,R.Type.INTEGER,!1,Ir(t.qInv))])};re.publicKeyFromAsn1=function(t){var e={},r=[];if(R.validate(t,G6,e,r)){var i=R.derToOid(e.publicKeyOid);if(i!==re.oids.rsaEncryption){var n=new Error("Cannot read public key. Unknown OID.");throw n.oid=i,n}t=e.rsaPublicKey}if(r=[],!R.validate(t,H6,e,r)){var n=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw n.errors=r,n}var a=te.util.createBuffer(e.publicKeyModulus).toHex(),s=te.util.createBuffer(e.publicKeyExponent).toHex();return re.setRsaPublicKey(new le(a,16),new le(s,16))};re.publicKeyToAsn1=re.publicKeyToSubjectPublicKeyInfo=function(t){return R.create(R.Class.UNIVERSAL,R.Type.SEQUENCE,!0,[R.create(R.Class.UNIVERSAL,R.Type.SEQUENCE,!0,[R.create(R.Class.UNIVERSAL,R.Type.OID,!1,R.oidToDer(re.oids.rsaEncryption).getBytes()),R.create(R.Class.UNIVERSAL,R.Type.NULL,!1,"")]),R.create(R.Class.UNIVERSAL,R.Type.BITSTRING,!1,[re.publicKeyToRSAPublicKey(t)])])};re.publicKeyToRSAPublicKey=function(t){return R.create(R.Class.UNIVERSAL,R.Type.SEQUENCE,!0,[R.create(R.Class.UNIVERSAL,R.Type.INTEGER,!1,Ir(t.n)),R.create(R.Class.UNIVERSAL,R.Type.INTEGER,!1,Ir(t.e))])};function lp(t,e,r){var i=te.util.createBuffer(),n=Math.ceil(e.n.bitLength()/8);if(t.length>n-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=t.length,a.max=n-11,a}i.putByte(0),i.putByte(r);var s=n-3-t.length,o;if(r===0||r===1){o=r===0?0:255;for(var f=0;f<s;++f)i.putByte(o)}else for(;s>0;){for(var u=0,c=te.random.getBytes(s),f=0;f<s;++f)o=c.charCodeAt(f),o===0?++u:i.putByte(o);s=u}return i.putByte(0),i.putBytes(t),i}function Rs(t,e,r,i){var n=Math.ceil(e.n.bitLength()/8),a=te.util.createBuffer(t),s=a.getByte(),o=a.getByte();if(s!==0||r&&o!==0&&o!==1||!r&&o!=2||r&&o===0&&typeof i=="undefined")throw new Error("Encryption block is invalid.");var f=0;if(o===0){f=n-3-i;for(var u=0;u<f;++u)if(a.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(o===1)for(f=0;a.length()>1;){if(a.getByte()!==255){--a.read;break}++f}else if(o===2)for(f=0;a.length()>1;){if(a.getByte()===0){--a.read;break}++f}var c=a.getByte();if(c!==0||f!==n-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function Y6(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var i={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(i.prng=e.prng),n();function n(){a(t.pBits,function(o,f){if(o)return r(o);if(t.p=f,t.q!==null)return s(o,t.q);a(t.qBits,s)})}function a(o,f){te.prime.generateProbablePrime(o,i,f)}function s(o,f){if(o)return r(o);if(t.q=f,t.p.compareTo(t.q)<0){var u=t.p;t.p=t.q,t.q=u}if(t.p.subtract(le.ONE).gcd(t.e).compareTo(le.ONE)!==0){t.p=null,n();return}if(t.q.subtract(le.ONE).gcd(t.e).compareTo(le.ONE)!==0){t.q=null,a(t.qBits,s);return}if(t.p1=t.p.subtract(le.ONE),t.q1=t.q.subtract(le.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(le.ONE)!==0){t.p=t.q=null,n();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,a(t.qBits,s);return}var c=t.e.modInverse(t.phi);t.keys={privateKey:re.rsa.setPrivateKey(t.n,t.e,c,t.p,t.q,c.mod(t.p1),c.mod(t.q1),t.q.modInverse(t.p)),publicKey:re.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function Ir(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=te.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)==0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)==128)?r.substr(1):r}function W6(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function pp(t){return te.util.isNodejs&&typeof sf[t]=="function"}function bp(t){return typeof $t.globalScope!="undefined"&&typeof $t.globalScope.crypto=="object"&&typeof $t.globalScope.crypto.subtle=="object"&&typeof $t.globalScope.crypto.subtle[t]=="function"}function yp(t){return typeof $t.globalScope!="undefined"&&typeof $t.globalScope.msCrypto=="object"&&typeof $t.globalScope.msCrypto.subtle=="object"&&typeof $t.globalScope.msCrypto.subtle[t]=="function"}function vp(t){for(var e=te.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),i=0;i<e.length;++i)r[i]=e.charCodeAt(i);return r}});var _p=M((yw,Ep)=>{var Y=ge();Jo();Sn();Cl();Ui();gs();Ll();ql();An();Wl();Ps();qe();typeof xp=="undefined"&&(xp=Y.jsbn.BigInteger);var xp,D=Y.asn1,ne=Y.pki=Y.pki||{};Ep.exports=ne.pbe=Y.pbe=Y.pbe||{};var Hi=ne.oids,$6={name:"EncryptedPrivateKeyInfo",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:D.Class.UNIVERSAL,type:D.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:D.Class.UNIVERSAL,type:D.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},J6={name:"PBES2Algorithms",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:D.Class.UNIVERSAL,type:D.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:D.Class.UNIVERSAL,type:D.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:D.Class.UNIVERSAL,type:D.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:D.Class.UNIVERSAL,type:D.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:D.Class.UNIVERSAL,type:D.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:D.Class.UNIVERSAL,type:D.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:D.Class.UNIVERSAL,type:D.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},Z6={name:"pkcs-12PbeParams",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:D.Class.UNIVERSAL,type:D.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:D.Class.UNIVERSAL,type:D.Type.INTEGER,constructed:!1,capture:"iterations"}]};ne.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var i=Y.random.getBytesSync(r.saltSize),n=r.count,a=D.integerToDer(n),s,o,f;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,c,d;switch(r.algorithm){case"aes128":s=16,u=16,c=Hi["aes128-CBC"],d=Y.aes.createEncryptionCipher;break;case"aes192":s=24,u=16,c=Hi["aes192-CBC"],d=Y.aes.createEncryptionCipher;break;case"aes256":s=32,u=16,c=Hi["aes256-CBC"],d=Y.aes.createEncryptionCipher;break;case"des":s=8,u=8,c=Hi.desCBC,d=Y.des.createEncryptionCipher;break;default:var b=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw b.algorithm=r.algorithm,b}var S="hmacWith"+r.prfAlgorithm.toUpperCase(),v=Sp(S),_=Y.pkcs5.pbkdf2(e,i,n,s,v),T=Y.random.getBytesSync(u),C=d(_);C.start(T),C.update(D.toDer(t)),C.finish(),f=C.output.getBytes();var P=X6(i,a,s,S);o=D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.OID,!1,D.oidToDer(Hi.pkcs5PBES2).getBytes()),D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.OID,!1,D.oidToDer(Hi.pkcs5PBKDF2).getBytes()),P]),D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.OID,!1,D.oidToDer(c).getBytes()),D.create(D.Class.UNIVERSAL,D.Type.OCTETSTRING,!1,T)])])])}else if(r.algorithm==="3des"){s=24;var L=new Y.util.ByteBuffer(i),_=ne.pbe.generatePkcs12Key(e,L,1,n,s),T=ne.pbe.generatePkcs12Key(e,L,2,n,s),C=Y.des.createEncryptionCipher(_);C.start(T),C.update(D.toDer(t)),C.finish(),f=C.output.getBytes(),o=D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.OID,!1,D.oidToDer(Hi["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.OCTETSTRING,!1,i),D.create(D.Class.UNIVERSAL,D.Type.INTEGER,!1,a.getBytes())])])}else{var b=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw b.algorithm=r.algorithm,b}var F=D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[o,D.create(D.Class.UNIVERSAL,D.Type.OCTETSTRING,!1,f)]);return F};ne.decryptPrivateKeyInfo=function(t,e){var r=null,i={},n=[];if(!D.validate(t,$6,i,n)){var a=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=n,a}var s=D.derToOid(i.encryptionOid),o=ne.pbe.getCipher(s,i.encryptionParams,e),f=Y.util.createBuffer(i.encryptedData);return o.update(f),o.finish()&&(r=D.fromDer(o.output)),r};ne.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:D.toDer(t).getBytes()};return Y.pem.encode(r,{maxline:e})};ne.encryptedPrivateKeyFromPem=function(t){var e=Y.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return D.fromDer(e.body)};ne.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var i=ne.wrapRsaPrivateKey(ne.privateKeyToAsn1(t));return i=ne.encryptPrivateKeyInfo(i,e,r),ne.encryptedPrivateKeyToPem(i)}var n,a,s,o;switch(r.algorithm){case"aes128":n="AES-128-CBC",s=16,a=Y.random.getBytesSync(16),o=Y.aes.createEncryptionCipher;break;case"aes192":n="AES-192-CBC",s=24,a=Y.random.getBytesSync(16),o=Y.aes.createEncryptionCipher;break;case"aes256":n="AES-256-CBC",s=32,a=Y.random.getBytesSync(16),o=Y.aes.createEncryptionCipher;break;case"3des":n="DES-EDE3-CBC",s=24,a=Y.random.getBytesSync(8),o=Y.des.createEncryptionCipher;break;case"des":n="DES-CBC",s=8,a=Y.random.getBytesSync(8),o=Y.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var u=Y.pbe.opensslDeriveBytes(e,a.substr(0,8),s),c=o(u);c.start(a),c.update(D.toDer(ne.privateKeyToAsn1(t))),c.finish();var d={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:n,parameters:Y.util.bytesToHex(a).toUpperCase()},body:c.output.getBytes()};return Y.pem.encode(d)};ne.decryptRsaPrivateKey=function(t,e){var r=null,i=Y.pem.decode(t)[0];if(i.type!=="ENCRYPTED PRIVATE KEY"&&i.type!=="PRIVATE KEY"&&i.type!=="RSA PRIVATE KEY"){var n=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw n.headerType=n,n}if(i.procType&&i.procType.type==="ENCRYPTED"){var a,s;switch(i.dekInfo.algorithm){case"DES-CBC":a=8,s=Y.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,s=Y.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,s=Y.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,s=Y.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,s=Y.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,s=function(d){return Y.rc2.createDecryptionCipher(d,40)};break;case"RC2-64-CBC":a=8,s=function(d){return Y.rc2.createDecryptionCipher(d,64)};break;case"RC2-128-CBC":a=16,s=function(d){return Y.rc2.createDecryptionCipher(d,128)};break;default:var n=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".');throw n.algorithm=i.dekInfo.algorithm,n}var o=Y.util.hexToBytes(i.dekInfo.parameters),f=Y.pbe.opensslDeriveBytes(e,o.substr(0,8),a),u=s(f);if(u.start(o),u.update(Y.util.createBuffer(i.body)),u.finish())r=u.output.getBytes();else return r}else r=i.body;return i.type==="ENCRYPTED PRIVATE KEY"?r=ne.decryptPrivateKeyInfo(D.fromDer(r),e):r=D.fromDer(r),r!==null&&(r=ne.privateKeyFromAsn1(r)),r};ne.pbe.generatePkcs12Key=function(t,e,r,i,n,a){var s,o;if(typeof a=="undefined"||a===null){if(!("sha1"in Y.md))throw new Error('"sha1" hash algorithm unavailable.');a=Y.md.sha1.create()}var f=a.digestLength,u=a.blockLength,c=new Y.util.ByteBuffer,d=new Y.util.ByteBuffer;if(t!=null){for(o=0;o<t.length;o++)d.putInt16(t.charCodeAt(o));d.putInt16(0)}var b=d.length(),S=e.length(),v=new Y.util.ByteBuffer;v.fillWithByte(r,u);var _=u*Math.ceil(S/u),T=new Y.util.ByteBuffer;for(o=0;o<_;o++)T.putByte(e.at(o%S));var C=u*Math.ceil(b/u),P=new Y.util.ByteBuffer;for(o=0;o<C;o++)P.putByte(d.at(o%b));var L=T;L.putBuffer(P);for(var F=Math.ceil(n/f),k=1;k<=F;k++){var q=new Y.util.ByteBuffer;q.putBytes(v.bytes()),q.putBytes(L.bytes());for(var H=0;H<i;H++)a.start(),a.update(q.getBytes()),q=a.digest();var U=new Y.util.ByteBuffer;for(o=0;o<u;o++)U.putByte(q.at(o%f));var J=Math.ceil(S/u)+Math.ceil(b/u),E=new Y.util.ByteBuffer;for(s=0;s<J;s++){var h=new Y.util.ByteBuffer(L.getBytes(u)),p=511;for(o=U.length()-1;o>=0;o--)p=p>>8,p+=U.at(o)+h.at(o),h.setAt(o,p&255);E.putBuffer(h)}L=E,c.putBuffer(q)}return c.truncate(c.length()-n),c};ne.pbe.getCipher=function(t,e,r){switch(t){case ne.oids.pkcs5PBES2:return ne.pbe.getCipherForPBES2(t,e,r);case ne.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case ne.oids["pbewithSHAAnd40BitRC2-CBC"]:return ne.pbe.getCipherForPKCS12PBE(t,e,r);default:var i=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw i.oid=t,i.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],i}};ne.pbe.getCipherForPBES2=function(t,e,r){var i={},n=[];if(!D.validate(e,J6,i,n)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=n,a}if(t=D.derToOid(i.kdfOid),t!==ne.oids.pkcs5PBKDF2){var a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw a.oid=t,a.supportedOids=["pkcs5PBKDF2"],a}if(t=D.derToOid(i.encOid),t!==ne.oids["aes128-CBC"]&&t!==ne.oids["aes192-CBC"]&&t!==ne.oids["aes256-CBC"]&&t!==ne.oids["des-EDE3-CBC"]&&t!==ne.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=t,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var s=i.kdfSalt,o=Y.util.createBuffer(i.kdfIterationCount);o=o.getInt(o.length()<<3);var f,u;switch(ne.oids[t]){case"aes128-CBC":f=16,u=Y.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,u=Y.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,u=Y.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,u=Y.des.createDecryptionCipher;break;case"desCBC":f=8,u=Y.des.createDecryptionCipher;break}var c=wp(i.prfOid),d=Y.pkcs5.pbkdf2(r,s,o,f,c),b=i.encIv,S=u(d);return S.start(b),S};ne.pbe.getCipherForPKCS12PBE=function(t,e,r){var i={},n=[];if(!D.validate(e,Z6,i,n)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=n,a}var s=Y.util.createBuffer(i.salt),o=Y.util.createBuffer(i.iterations);o=o.getInt(o.length()<<3);var f,u,c;switch(t){case ne.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:f=24,u=8,c=Y.des.startDecrypting;break;case ne.oids["pbewithSHAAnd40BitRC2-CBC"]:f=5,u=8,c=function(_,T){var C=Y.rc2.createDecryptionCipher(_,40);return C.start(T,null),C};break;default:var a=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw a.oid=t,a}var d=wp(i.prfOid),b=ne.pbe.generatePkcs12Key(r,s,1,o,f,d);d.start();var S=ne.pbe.generatePkcs12Key(r,s,2,o,u,d);return c(b,S)};ne.pbe.opensslDeriveBytes=function(t,e,r,i){if(typeof i=="undefined"||i===null){if(!("md5"in Y.md))throw new Error('"md5" hash algorithm unavailable.');i=Y.md.md5.create()}e===null&&(e="");for(var n=[mp(i,t+e)],a=16,s=1;a<r;++s,a+=16)n.push(mp(i,n[s-1]+t+e));return n.join("").substr(0,r)};function mp(t,e){return t.start().update(e).digest().getBytes()}function wp(t){var e;if(!t)e="hmacWithSHA1";else if(e=ne.oids[D.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return Sp(e)}function Sp(t){var e=Y.md;switch(t){case"hmacWithSHA224":e=Y.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function X6(t,e,r,i){var n=D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.OCTETSTRING,!1,t),D.create(D.Class.UNIVERSAL,D.Type.INTEGER,!1,e.getBytes())]);return i!=="hmacWithSHA1"&&n.value.push(D.create(D.Class.UNIVERSAL,D.Type.INTEGER,!1,Y.util.hexToBytes(r.toString(16))),D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.OID,!1,D.oidToDer(ne.oids[i]).getBytes()),D.create(D.Class.UNIVERSAL,D.Type.NULL,!1,"")])),n}});var bi={};Pe(bi,{fromString:()=>Q6});function Q6(t,e="utf8"){let r=Wa[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}var yi=me(()=>{j0()});var pa={};Pe(pa,{concat:()=>e8});function e8(t,e){e||(e=t.reduce((n,a)=>n+a.length,0));let r=new Uint8Array(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return r}var ba=me(()=>{});var ya=M(Ap=>{"use strict";Ap.get=(t=self)=>{let e=t.crypto||t.msCrypto;if(!e||!e.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}});var of=M((xw,Ip)=>{"use strict";var{concat:t8}=(ba(),pa),{fromString:Bp}=(yi(),bi),r8=ya();function i8({algorithm:t="AES-GCM",nonceLength:e=12,keyLength:r=16,digest:i="SHA-256",saltLength:n=16,iterations:a=32767}={}){let s=r8.get();r*=8;async function o(u,c){let d=s.getRandomValues(new Uint8Array(n)),b=s.getRandomValues(new Uint8Array(e)),S={name:t,iv:b},v={name:"PBKDF2",salt:d,iterations:a,hash:{name:i}},_=await s.subtle.importKey("raw",Bp(c),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),T=await s.subtle.deriveKey(v,_,{name:t,length:r},!0,["encrypt"]),C=await s.subtle.encrypt(S,T,u);return t8([d,S.iv,new Uint8Array(C)])}async function f(u,c){let d=u.slice(0,n),b=u.slice(n,n+e),S=u.slice(n+e),v={name:t,iv:b},_={name:"PBKDF2",salt:d,iterations:a,hash:{name:i}},T=await s.subtle.importKey("raw",Bp(c),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),C=await s.subtle.deriveKey(_,T,{name:t,length:r},!0,["decrypt"]),P=await s.subtle.decrypt(v,C,S);return new Uint8Array(P)}return{encrypt:o,decrypt:f}}Ip.exports={create:i8}});var Tp=M((mw,Cp)=>{"use strict";var{base64:n8}=(Zn(),on),a8=of();Cp.exports={import:async function(t,e){let r=n8.decode(t);return await a8.create().decrypt(r,e)}}});var Cn={};Pe(Cn,{equals:()=>s8});function s8(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var Tn=me(()=>{});var cf=M((ww,Lp)=>{var Te=ge();Ui();qe();var va=Lp.exports=Te.sha512=Te.sha512||{};Te.md.sha512=Te.md.algorithms.sha512=va;var Mp=Te.sha384=Te.sha512.sha384=Te.sha512.sha384||{};Mp.create=function(){return va.create("SHA-384")};Te.md.sha384=Te.md.algorithms.sha384=Mp;Te.sha512.sha256=Te.sha512.sha256||{create:function(){return va.create("SHA-512/256")}};Te.md["sha512/256"]=Te.md.algorithms["sha512/256"]=Te.sha512.sha256;Te.sha512.sha224=Te.sha512.sha224||{create:function(){return va.create("SHA-512/224")}};Te.md["sha512/224"]=Te.md.algorithms["sha512/224"]=Te.sha512.sha224;va.create=function(t){if(Rp||o8(),typeof t=="undefined"&&(t="SHA-512"),!(t in Gi))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=Gi[t],r=null,i=Te.util.createBuffer(),n=new Array(80),a=0;a<80;++a)n[a]=new Array(2);var s=64;switch(t){case"SHA-384":s=48;break;case"SHA-512/256":s=32;break;case"SHA-512/224":s=28;break}var o={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:s,messageLength:0,fullMessageLength:null,messageLengthSize:16};return o.start=function(){o.messageLength=0,o.fullMessageLength=o.messageLength128=[];for(var f=o.messageLengthSize/4,u=0;u<f;++u)o.fullMessageLength.push(0);i=Te.util.createBuffer(),r=new Array(e.length);for(var u=0;u<e.length;++u)r[u]=e[u].slice(0);return o},o.start(),o.update=function(f,u){u==="utf8"&&(f=Te.util.encodeUtf8(f));var c=f.length;o.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var d=o.fullMessageLength.length-1;d>=0;--d)o.fullMessageLength[d]+=c[1],c[1]=c[0]+(o.fullMessageLength[d]/4294967296>>>0),o.fullMessageLength[d]=o.fullMessageLength[d]>>>0,c[0]=c[1]/4294967296>>>0;return i.putBytes(f),Pp(r,n,i),(i.read>2048||i.length()===0)&&i.compact(),o},o.digest=function(){var f=Te.util.createBuffer();f.putBytes(i.bytes());var u=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize,c=u&o.blockLength-1;f.putBytes(ff.substr(0,o.blockLength-c));for(var d,b,S=o.fullMessageLength[0]*8,v=0;v<o.fullMessageLength.length-1;++v)d=o.fullMessageLength[v+1]*8,b=d/4294967296>>>0,S+=b,f.putInt32(S>>>0),S=d>>>0;f.putInt32(S);for(var _=new Array(r.length),v=0;v<r.length;++v)_[v]=r[v].slice(0);Pp(_,n,f);var T=Te.util.createBuffer(),C;t==="SHA-512"?C=_.length:t==="SHA-384"?C=_.length-2:C=_.length-4;for(var v=0;v<C;++v)T.putInt32(_[v][0]),(v!==C-1||t!=="SHA-512/224")&&T.putInt32(_[v][1]);return T},o};var ff=null,Rp=!1,uf=null,Gi=null;function o8(){ff=String.fromCharCode(128),ff+=Te.util.fillString(String.fromCharCode(0),128),uf=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Gi={},Gi["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Gi["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Gi["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Gi["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Rp=!0}function Pp(t,e,r){for(var i,n,a,s,o,f,u,c,d,b,S,v,_,T,C,P,L,F,k,q,H,U,J,E,h,p,y,g,x,B,A,m,l,w,z,V=r.length();V>=128;){for(x=0;x<16;++x)e[x][0]=r.getInt32()>>>0,e[x][1]=r.getInt32()>>>0;for(;x<80;++x)m=e[x-2],B=m[0],A=m[1],i=((B>>>19|A<<13)^(A>>>29|B<<3)^B>>>6)>>>0,n=((B<<13|A>>>19)^(A<<3|B>>>29)^(B<<26|A>>>6))>>>0,w=e[x-15],B=w[0],A=w[1],a=((B>>>1|A<<31)^(B>>>8|A<<24)^B>>>7)>>>0,s=((B<<31|A>>>1)^(B<<24|A>>>8)^(B<<25|A>>>7))>>>0,l=e[x-7],z=e[x-16],A=n+l[1]+s+z[1],e[x][0]=i+l[0]+a+z[0]+(A/4294967296>>>0)>>>0,e[x][1]=A>>>0;for(_=t[0][0],T=t[0][1],C=t[1][0],P=t[1][1],L=t[2][0],F=t[2][1],k=t[3][0],q=t[3][1],H=t[4][0],U=t[4][1],J=t[5][0],E=t[5][1],h=t[6][0],p=t[6][1],y=t[7][0],g=t[7][1],x=0;x<80;++x)u=((H>>>14|U<<18)^(H>>>18|U<<14)^(U>>>9|H<<23))>>>0,c=((H<<18|U>>>14)^(H<<14|U>>>18)^(U<<23|H>>>9))>>>0,d=(h^H&(J^h))>>>0,b=(p^U&(E^p))>>>0,o=((_>>>28|T<<4)^(T>>>2|_<<30)^(T>>>7|_<<25))>>>0,f=((_<<4|T>>>28)^(T<<30|_>>>2)^(T<<25|_>>>7))>>>0,S=(_&C|L&(_^C))>>>0,v=(T&P|F&(T^P))>>>0,A=g+c+b+uf[x][1]+e[x][1],i=y+u+d+uf[x][0]+e[x][0]+(A/4294967296>>>0)>>>0,n=A>>>0,A=f+v,a=o+S+(A/4294967296>>>0)>>>0,s=A>>>0,y=h,g=p,h=J,p=E,J=H,E=U,A=q+n,H=k+i+(A/4294967296>>>0)>>>0,U=A>>>0,k=L,q=F,L=C,F=P,C=_,P=T,A=n+s,_=i+a+(A/4294967296>>>0)>>>0,T=A>>>0;A=t[0][1]+T,t[0][0]=t[0][0]+_+(A/4294967296>>>0)>>>0,t[0][1]=A>>>0,A=t[1][1]+P,t[1][0]=t[1][0]+C+(A/4294967296>>>0)>>>0,t[1][1]=A>>>0,A=t[2][1]+F,t[2][0]=t[2][0]+L+(A/4294967296>>>0)>>>0,t[2][1]=A>>>0,A=t[3][1]+q,t[3][0]=t[3][0]+k+(A/4294967296>>>0)>>>0,t[3][1]=A>>>0,A=t[4][1]+U,t[4][0]=t[4][0]+H+(A/4294967296>>>0)>>>0,t[4][1]=A>>>0,A=t[5][1]+E,t[5][0]=t[5][0]+J+(A/4294967296>>>0)>>>0,t[5][1]=A>>>0,A=t[6][1]+p,t[6][0]=t[6][0]+h+(A/4294967296>>>0)>>>0,t[6][1]=A>>>0,A=t[7][1]+g,t[7][0]=t[7][0]+y+(A/4294967296>>>0)>>>0,t[7][1]=A>>>0,V-=128}}});var Np=M(hf=>{var f8=ge();Sn();var Et=f8.asn1;hf.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Et.Class.UNIVERSAL,type:Et.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Et.Class.UNIVERSAL,type:Et.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Et.Class.UNIVERSAL,type:Et.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};hf.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Et.Class.UNIVERSAL,type:Et.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Et.Class.UNIVERSAL,type:Et.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var mf=M((Ew,jp)=>{var It=ge();la();An();cf();qe();var Dp=Np(),u8=Dp.publicKeyValidator,c8=Dp.privateKeyValidator;typeof qp=="undefined"&&(qp=It.jsbn.BigInteger);var qp,df=It.util.ByteBuffer,Ot=typeof Buffer=="undefined"?Uint8Array:Buffer;It.pki=It.pki||{};jp.exports=It.pki.ed25519=It.ed25519=It.ed25519||{};var he=It.ed25519;he.constants={};he.constants.PUBLIC_KEY_BYTE_LENGTH=32;he.constants.PRIVATE_KEY_BYTE_LENGTH=64;he.constants.SEED_BYTE_LENGTH=32;he.constants.SIGN_BYTE_LENGTH=64;he.constants.HASH_BYTE_LENGTH=64;he.generateKeyPair=function(t){t=t||{};var e=t.seed;if(e===void 0)e=It.random.getBytesSync(he.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==he.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+he.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=Wr({message:e,encoding:"binary"});for(var r=new Ot(he.constants.PUBLIC_KEY_BYTE_LENGTH),i=new Ot(he.constants.PRIVATE_KEY_BYTE_LENGTH),n=0;n<32;++n)i[n]=e[n];return p8(r,i),{publicKey:r,privateKey:i}};he.privateKeyFromAsn1=function(t){var e={},r=[],i=It.asn1.validate(t,c8,e,r);if(!i){var n=new Error("Invalid Key.");throw n.errors=r,n}var a=It.asn1.derToOid(e.privateKeyOid),s=It.oids.EdDSA25519;if(a!==s)throw new Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var o=e.privateKey,f=Wr({message:It.asn1.fromDer(o).value,encoding:"binary"});return{privateKeyBytes:f}};he.publicKeyFromAsn1=function(t){var e={},r=[],i=It.asn1.validate(t,u8,e,r);if(!i){var n=new Error("Invalid Key.");throw n.errors=r,n}var a=It.asn1.derToOid(e.publicKeyOid),s=It.oids.EdDSA25519;if(a!==s)throw new Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var o=e.ed25519PublicKey;if(o.length!==he.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return Wr({message:o,encoding:"binary"})};he.publicKeyFromPrivateKey=function(t){t=t||{};var e=Wr({message:t.privateKey,encoding:"binary"});if(e.length!==he.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+he.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Ot(he.constants.PUBLIC_KEY_BYTE_LENGTH),i=0;i<r.length;++i)r[i]=e[32+i];return r};he.sign=function(t){t=t||{};var e=Wr(t),r=Wr({message:t.privateKey,encoding:"binary"});if(r.length===he.constants.SEED_BYTE_LENGTH){var i=he.generateKeyPair({seed:r});r=i.privateKey}else if(r.length!==he.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+he.constants.SEED_BYTE_LENGTH+" or "+he.constants.PRIVATE_KEY_BYTE_LENGTH);var n=new Ot(he.constants.SIGN_BYTE_LENGTH+e.length);b8(n,e,e.length,r);for(var a=new Ot(he.constants.SIGN_BYTE_LENGTH),s=0;s<a.length;++s)a[s]=n[s];return a};he.verify=function(t){t=t||{};var e=Wr(t);if(t.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=Wr({message:t.signature,encoding:"binary"});if(r.length!==he.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+he.constants.SIGN_BYTE_LENGTH);var i=Wr({message:t.publicKey,encoding:"binary"});if(i.length!==he.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+he.constants.PUBLIC_KEY_BYTE_LENGTH);var n=new Ot(he.constants.SIGN_BYTE_LENGTH+e.length),a=new Ot(he.constants.SIGN_BYTE_LENGTH+e.length),s;for(s=0;s<he.constants.SIGN_BYTE_LENGTH;++s)n[s]=r[s];for(s=0;s<e.length;++s)n[s+he.constants.SIGN_BYTE_LENGTH]=e[s];return y8(a,n,n.length,i)>=0};function Wr(t){var e=t.message;if(e instanceof Uint8Array||e instanceof Ot)return e;var r=t.encoding;if(e===void 0)if(t.md)e=t.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer!="undefined")return Buffer.from(e,r);e=new df(e,r)}else if(!(e instanceof df))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var i=new Ot(e.length()),n=0;n<i.length;++n)i[n]=e.at(n);return i}var lf=Z(),Ls=Z([1]),h8=Z([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d8=Z([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),kp=Z([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Kp=Z([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),pf=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),l8=Z([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ga(t,e){var r=It.md.sha512.create(),i=new df(t);r.update(i.getBytes(e),"binary");var n=r.digest().getBytes();if(typeof Buffer!="undefined")return Buffer.from(n,"binary");for(var a=new Ot(he.constants.HASH_BYTE_LENGTH),s=0;s<64;++s)a[s]=n.charCodeAt(s);return a}function p8(t,e){var r=[Z(),Z(),Z(),Z()],i,n=ga(e,32);for(n[0]&=248,n[31]&=127,n[31]|=64,gf(r,n),vf(t,r),i=0;i<32;++i)e[i+32]=t[i];return 0}function b8(t,e,r,i){var n,a,s=new Float64Array(64),o=[Z(),Z(),Z(),Z()],f=ga(i,32);f[0]&=248,f[31]&=127,f[31]|=64;var u=r+64;for(n=0;n<r;++n)t[64+n]=e[n];for(n=0;n<32;++n)t[32+n]=f[32+n];var c=ga(t.subarray(32),r+32);for(bf(c),gf(o,c),vf(t,o),n=32;n<64;++n)t[n]=i[n];var d=ga(t,r+64);for(bf(d),n=32;n<64;++n)s[n]=0;for(n=0;n<32;++n)s[n]=c[n];for(n=0;n<32;++n)for(a=0;a<32;a++)s[n+a]+=d[n]*f[a];return Op(t.subarray(32),s),u}function y8(t,e,r,i){var n,a,s=new Ot(32),o=[Z(),Z(),Z(),Z()],f=[Z(),Z(),Z(),Z()];if(a=-1,r<64||v8(f,i))return-1;for(n=0;n<r;++n)t[n]=e[n];for(n=0;n<32;++n)t[n+32]=i[n];var u=ga(t,r);if(bf(u),Hp(o,f,u),gf(f,e.subarray(32)),yf(o,f),vf(s,o),r-=64,zp(e,0,s,0)){for(n=0;n<r;++n)t[n]=0;return-1}for(n=0;n<r;++n)t[n]=e[n+64];return a=r,a}function Op(t,e){var r,i,n,a;for(i=63;i>=32;--i){for(r=0,n=i-32,a=i-12;n<a;++n)e[n]+=r-16*e[i]*pf[n-(i-32)],r=e[n]+128>>8,e[n]-=r*256;e[n]+=r,e[i]=0}for(r=0,n=0;n<32;++n)e[n]+=r-(e[31]>>4)*pf[n],r=e[n]>>8,e[n]&=255;for(n=0;n<32;++n)e[n]-=r*pf[n];for(i=0;i<32;++i)e[i+1]+=e[i]>>8,t[i]=e[i]&255}function bf(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;Op(t,e)}function yf(t,e){var r=Z(),i=Z(),n=Z(),a=Z(),s=Z(),o=Z(),f=Z(),u=Z(),c=Z();Rn(r,t[1],t[0]),Rn(c,e[1],e[0]),Se(r,r,c),Mn(i,t[0],t[1]),Mn(c,e[0],e[1]),Se(i,i,c),Se(n,t[3],e[3]),Se(n,n,d8),Se(a,t[2],e[2]),Mn(a,a,a),Rn(s,i,r),Rn(o,a,n),Mn(f,a,n),Mn(u,i,r),Se(t[0],s,o),Se(t[1],u,f),Se(t[2],f,o),Se(t[3],s,u)}function Fp(t,e,r){for(var i=0;i<4;++i)Gp(t[i],e[i],r)}function vf(t,e){var r=Z(),i=Z(),n=Z();w8(n,e[2]),Se(r,e[0],n),Se(i,e[1],n),Ns(t,i),t[31]^=Vp(r)<<7}function Ns(t,e){var r,i,n,a=Z(),s=Z();for(r=0;r<16;++r)s[r]=e[r];for(xf(s),xf(s),xf(s),i=0;i<2;++i){for(a[0]=s[0]-65517,r=1;r<15;++r)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),n=a[15]>>16&1,a[14]&=65535,Gp(s,a,1-n)}for(r=0;r<16;r++)t[2*r]=s[r]&255,t[2*r+1]=s[r]>>8}function v8(t,e){var r=Z(),i=Z(),n=Z(),a=Z(),s=Z(),o=Z(),f=Z();return vi(t[2],Ls),g8(t[1],e),ji(n,t[1]),Se(a,n,h8),Rn(n,n,t[2]),Mn(a,t[2],a),ji(s,a),ji(o,s),Se(f,o,s),Se(r,f,n),Se(r,r,a),x8(r,r),Se(r,r,n),Se(r,r,a),Se(r,r,a),Se(t[0],r,a),ji(i,t[0]),Se(i,i,a),Up(i,n)&&Se(t[0],t[0],l8),ji(i,t[0]),Se(i,i,a),Up(i,n)?-1:(Vp(t[0])===e[31]>>7&&Rn(t[0],lf,t[0]),Se(t[3],t[0],t[1]),0)}function g8(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function x8(t,e){var r=Z(),i;for(i=0;i<16;++i)r[i]=e[i];for(i=250;i>=0;--i)ji(r,r),i!==1&&Se(r,r,e);for(i=0;i<16;++i)t[i]=r[i]}function Up(t,e){var r=new Ot(32),i=new Ot(32);return Ns(r,t),Ns(i,e),zp(r,0,i,0)}function zp(t,e,r,i){return m8(t,e,r,i,32)}function m8(t,e,r,i,n){var a,s=0;for(a=0;a<n;++a)s|=t[e+a]^r[i+a];return(1&s-1>>>8)-1}function Vp(t){var e=new Ot(32);return Ns(e,t),e[0]&1}function Hp(t,e,r){var i,n;for(vi(t[0],lf),vi(t[1],Ls),vi(t[2],Ls),vi(t[3],lf),n=255;n>=0;--n)i=r[n/8|0]>>(n&7)&1,Fp(t,e,i),yf(e,t),yf(t,t),Fp(t,e,i)}function gf(t,e){var r=[Z(),Z(),Z(),Z()];vi(r[0],kp),vi(r[1],Kp),vi(r[2],Ls),Se(r[3],kp,Kp),Hp(t,r,e)}function vi(t,e){var r;for(r=0;r<16;r++)t[r]=e[r]|0}function w8(t,e){var r=Z(),i;for(i=0;i<16;++i)r[i]=e[i];for(i=253;i>=0;--i)ji(r,r),i!==2&&i!==4&&Se(r,r,e);for(i=0;i<16;++i)t[i]=r[i]}function xf(t){var e,r,i=1;for(e=0;e<16;++e)r=t[e]+i+65535,i=Math.floor(r/65536),t[e]=r-i*65536;t[0]+=i-1+37*(i-1)}function Gp(t,e,r){for(var i,n=~(r-1),a=0;a<16;++a)i=n&(t[a]^e[a]),t[a]^=i,e[a]^=i}function Z(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}function Mn(t,e,r){for(var i=0;i<16;++i)t[i]=e[i]+r[i]}function Rn(t,e,r){for(var i=0;i<16;++i)t[i]=e[i]-r[i]}function ji(t,e){Se(t,e,e)}function Se(t,e,r){var i,n,a=0,s=0,o=0,f=0,u=0,c=0,d=0,b=0,S=0,v=0,_=0,T=0,C=0,P=0,L=0,F=0,k=0,q=0,H=0,U=0,J=0,E=0,h=0,p=0,y=0,g=0,x=0,B=0,A=0,m=0,l=0,w=r[0],z=r[1],V=r[2],j=r[3],W=r[4],X=r[5],Q=r[6],Ce=r[7],ee=r[8],ie=r[9],pt=r[10],ae=r[11],se=r[12],bt=r[13],oe=r[14],fe=r[15];i=e[0],a+=i*w,s+=i*z,o+=i*V,f+=i*j,u+=i*W,c+=i*X,d+=i*Q,b+=i*Ce,S+=i*ee,v+=i*ie,_+=i*pt,T+=i*ae,C+=i*se,P+=i*bt,L+=i*oe,F+=i*fe,i=e[1],s+=i*w,o+=i*z,f+=i*V,u+=i*j,c+=i*W,d+=i*X,b+=i*Q,S+=i*Ce,v+=i*ee,_+=i*ie,T+=i*pt,C+=i*ae,P+=i*se,L+=i*bt,F+=i*oe,k+=i*fe,i=e[2],o+=i*w,f+=i*z,u+=i*V,c+=i*j,d+=i*W,b+=i*X,S+=i*Q,v+=i*Ce,_+=i*ee,T+=i*ie,C+=i*pt,P+=i*ae,L+=i*se,F+=i*bt,k+=i*oe,q+=i*fe,i=e[3],f+=i*w,u+=i*z,c+=i*V,d+=i*j,b+=i*W,S+=i*X,v+=i*Q,_+=i*Ce,T+=i*ee,C+=i*ie,P+=i*pt,L+=i*ae,F+=i*se,k+=i*bt,q+=i*oe,H+=i*fe,i=e[4],u+=i*w,c+=i*z,d+=i*V,b+=i*j,S+=i*W,v+=i*X,_+=i*Q,T+=i*Ce,C+=i*ee,P+=i*ie,L+=i*pt,F+=i*ae,k+=i*se,q+=i*bt,H+=i*oe,U+=i*fe,i=e[5],c+=i*w,d+=i*z,b+=i*V,S+=i*j,v+=i*W,_+=i*X,T+=i*Q,C+=i*Ce,P+=i*ee,L+=i*ie,F+=i*pt,k+=i*ae,q+=i*se,H+=i*bt,U+=i*oe,J+=i*fe,i=e[6],d+=i*w,b+=i*z,S+=i*V,v+=i*j,_+=i*W,T+=i*X,C+=i*Q,P+=i*Ce,L+=i*ee,F+=i*ie,k+=i*pt,q+=i*ae,H+=i*se,U+=i*bt,J+=i*oe,E+=i*fe,i=e[7],b+=i*w,S+=i*z,v+=i*V,_+=i*j,T+=i*W,C+=i*X,P+=i*Q,L+=i*Ce,F+=i*ee,k+=i*ie,q+=i*pt,H+=i*ae,U+=i*se,J+=i*bt,E+=i*oe,h+=i*fe,i=e[8],S+=i*w,v+=i*z,_+=i*V,T+=i*j,C+=i*W,P+=i*X,L+=i*Q,F+=i*Ce,k+=i*ee,q+=i*ie,H+=i*pt,U+=i*ae,J+=i*se,E+=i*bt,h+=i*oe,p+=i*fe,i=e[9],v+=i*w,_+=i*z,T+=i*V,C+=i*j,P+=i*W,L+=i*X,F+=i*Q,k+=i*Ce,q+=i*ee,H+=i*ie,U+=i*pt,J+=i*ae,E+=i*se,h+=i*bt,p+=i*oe,y+=i*fe,i=e[10],_+=i*w,T+=i*z,C+=i*V,P+=i*j,L+=i*W,F+=i*X,k+=i*Q,q+=i*Ce,H+=i*ee,U+=i*ie,J+=i*pt,E+=i*ae,h+=i*se,p+=i*bt,y+=i*oe,g+=i*fe,i=e[11],T+=i*w,C+=i*z,P+=i*V,L+=i*j,F+=i*W,k+=i*X,q+=i*Q,H+=i*Ce,U+=i*ee,J+=i*ie,E+=i*pt,h+=i*ae,p+=i*se,y+=i*bt,g+=i*oe,x+=i*fe,i=e[12],C+=i*w,P+=i*z,L+=i*V,F+=i*j,k+=i*W,q+=i*X,H+=i*Q,U+=i*Ce,J+=i*ee,E+=i*ie,h+=i*pt,p+=i*ae,y+=i*se,g+=i*bt,x+=i*oe,B+=i*fe,i=e[13],P+=i*w,L+=i*z,F+=i*V,k+=i*j,q+=i*W,H+=i*X,U+=i*Q,J+=i*Ce,E+=i*ee,h+=i*ie,p+=i*pt,y+=i*ae,g+=i*se,x+=i*bt,B+=i*oe,A+=i*fe,i=e[14],L+=i*w,F+=i*z,k+=i*V,q+=i*j,H+=i*W,U+=i*X,J+=i*Q,E+=i*Ce,h+=i*ee,p+=i*ie,y+=i*pt,g+=i*ae,x+=i*se,B+=i*bt,A+=i*oe,m+=i*fe,i=e[15],F+=i*w,k+=i*z,q+=i*V,H+=i*j,U+=i*W,J+=i*X,E+=i*Q,h+=i*Ce,p+=i*ee,y+=i*ie,g+=i*pt,x+=i*ae,B+=i*se,A+=i*bt,m+=i*oe,l+=i*fe,a+=38*k,s+=38*q,o+=38*H,f+=38*U,u+=38*J,c+=38*E,d+=38*h,b+=38*p,S+=38*y,v+=38*g,_+=38*x,T+=38*B,C+=38*A,P+=38*m,L+=38*l,n=1,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=S+n+65535,n=Math.floor(i/65536),S=i-n*65536,i=v+n+65535,n=Math.floor(i/65536),v=i-n*65536,i=_+n+65535,n=Math.floor(i/65536),_=i-n*65536,i=T+n+65535,n=Math.floor(i/65536),T=i-n*65536,i=C+n+65535,n=Math.floor(i/65536),C=i-n*65536,i=P+n+65535,n=Math.floor(i/65536),P=i-n*65536,i=L+n+65535,n=Math.floor(i/65536),L=i-n*65536,i=F+n+65535,n=Math.floor(i/65536),F=i-n*65536,a+=n-1+37*(n-1),n=1,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=S+n+65535,n=Math.floor(i/65536),S=i-n*65536,i=v+n+65535,n=Math.floor(i/65536),v=i-n*65536,i=_+n+65535,n=Math.floor(i/65536),_=i-n*65536,i=T+n+65535,n=Math.floor(i/65536),T=i-n*65536,i=C+n+65535,n=Math.floor(i/65536),C=i-n*65536,i=P+n+65535,n=Math.floor(i/65536),P=i-n*65536,i=L+n+65535,n=Math.floor(i/65536),L=i-n*65536,i=F+n+65535,n=Math.floor(i/65536),F=i-n*65536,a+=n-1+37*(n-1),t[0]=a,t[1]=s,t[2]=o,t[3]=f,t[4]=u,t[5]=c,t[6]=d,t[7]=b,t[8]=S,t[9]=v,t[10]=_,t[11]=T,t[12]=C,t[13]=P,t[14]=L,t[15]=F}});var Ds=M(xa=>{"use strict";qe();la();var S8=ge(),{fromString:E8}=(yi(),bi),{toString:Yp}=(Vr(),zr),{concat:Wp}=(ba(),pa);xa.bigIntegerToUintBase64url=(t,e)=>{let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.slice(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=Wp([new Uint8Array(e-r.length),r])}return Yp(r,"base64url")};xa.base64urlToBigInteger=t=>{let e=xa.base64urlToBuffer(t);return new S8.jsbn.BigInteger(Yp(e,"base16"),16)};xa.base64urlToBuffer=(t,e)=>{let r=E8(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=Wp([new Uint8Array(e-r.length),r])}return r}});var Zp=M(ma=>{"use strict";Sn();Ps();var gi=ge(),{bigIntegerToUintBase64url:Cr,base64urlToBigInteger:Tr}=Ds(),{fromString:$p}=(yi(),bi),{toString:Jp}=(Vr(),zr);ma.pkcs1ToJwk=function(t){let e=gi.asn1.fromDer(Jp(t,"ascii")),r=gi.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:Cr(r.n),e:Cr(r.e),d:Cr(r.d),p:Cr(r.p),q:Cr(r.q),dp:Cr(r.dP),dq:Cr(r.dQ),qi:Cr(r.qInv),alg:"RS256",kid:"2011-04-29"}};ma.jwkToPkcs1=function(t){let e=gi.pki.privateKeyToAsn1({n:Tr(t.n),e:Tr(t.e),d:Tr(t.d),p:Tr(t.p),q:Tr(t.q),dP:Tr(t.dp),dQ:Tr(t.dq),qInv:Tr(t.qi)});return $p(gi.asn1.toDer(e).getBytes(),"ascii")};ma.pkixToJwk=function(t){let e=gi.asn1.fromDer(Jp(t,"ascii")),r=gi.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:Cr(r.n),e:Cr(r.e),alg:"RS256",kid:"2011-04-29"}};ma.jwkToPkix=function(t){let e=gi.pki.publicKeyToAsn1({n:Tr(t.n),e:Tr(t.e)});return $p(gi.asn1.toDer(e).getBytes(),"ascii")}});var t1=M((Bw,e1)=>{"use strict";Ps();var Xp=ge(),{base64urlToBigInteger:_8}=Ds();function Qp(t,e){return e.map(r=>_8(t[r]))}function A8(t){return Xp.pki.setRsaPrivateKey(...Qp(t,["n","e","d","p","q","dp","dq","qi"]))}function B8(t){return Xp.pki.setRsaPublicKey(...Qp(t,["n","e"]))}e1.exports={jwk2pub:B8,jwk2priv:A8}});var n1=M(Jr=>{"use strict";var $r=ya(),I8=ls(),{toString:C8}=(Vr(),zr),{fromString:T8}=(yi(),bi);Jr.utils=Zp();Jr.generateKey=async function(t){let e=await $r.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await r1(e);return{privateKey:r[0],publicKey:r[1]}};Jr.unmarshalPrivateKey=async function(t){let r=[await $r.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await M8(t)],i=await r1({privateKey:r[0],publicKey:r[1]});return{privateKey:i[0],publicKey:i[1]}};Jr.getRandomValues=I8;Jr.hashAndSign=async function(t,e){let r=await $r.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),i=await $r.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(e));return new Uint8Array(i,i.byteOffset,i.byteLength)};Jr.hashAndVerify=async function(t,e,r){let i=await $r.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return $r.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},i,e,r)};function r1(t){return Promise.all([$r.get().subtle.exportKey("jwk",t.privateKey),$r.get().subtle.exportKey("jwk",t.publicKey)])}function M8(t){return $r.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}var{jwk2pub:R8,jwk2priv:P8}=t1();function i1(t,e,r,i){let n=e?R8(t):P8(t),a=C8(Uint8Array.from(r),"ascii"),s=i(a,n);return T8(s,"ascii")}Jr.encrypt=function(t,e){return i1(t,!0,e,(r,i)=>i.encrypt(r))};Jr.decrypt=function(t,e){return i1(t,!1,e,(r,i)=>i.decrypt(r))}});var qs=M((Cw,a1)=>{"use strict";var{base64:L8}=(Zn(),on),N8=of();a1.exports={export:async function(t,e){let i=await N8.create().encrypt(t,e);return L8.encode(i)}}});var c1=M((Tw,u1)=>{"use strict";var{sha256:s1}=(Mi(),ni),o1=vr(),{equals:f1}=(Tn(),Cn),{toString:D8}=(Vr(),zr);cf();mf();var ks=ge(),Jt=n1(),Ks=bs(),q8=qs(),Os=class{constructor(e){this._key=e}async verify(e,r){return Jt.hashAndVerify(this._key,r,e)}marshal(){return Jt.utils.jwkToPkix(this._key)}get bytes(){return Ks.PublicKey.encode({Type:Ks.KeyType.RSA,Data:this.marshal()}).finish()}encrypt(e){return Jt.encrypt(this._key,e)}equals(e){return f1(this.bytes,e.bytes)}async hash(){let{bytes:e}=await s1.digest(this.bytes);return e}},wa=class{constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return Jt.getRandomValues(16)}async sign(e){return Jt.hashAndSign(this._key,e)}get public(){if(!this._publicKey)throw o1(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new Os(this._publicKey)}decrypt(e){return Jt.decrypt(this._key,e)}marshal(){return Jt.utils.jwkToPkcs1(this._key)}get bytes(){return Ks.PrivateKey.encode({Type:Ks.KeyType.RSA,Data:this.marshal()}).finish()}equals(e){return f1(this.bytes,e.bytes)}async hash(){let{bytes:e}=await s1.digest(this.bytes);return e}async id(){let e=await this.public.hash();return D8(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let i=new ks.util.ByteBuffer(this.marshal()),n=ks.asn1.fromDer(i),a=ks.pki.privateKeyFromAsn1(n),s={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return ks.pki.encryptRsaPrivateKey(a,e,s)}else{if(r==="libp2p-key")return q8.export(this.bytes,e);throw o1(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function k8(t){let e=Jt.utils.pkcs1ToJwk(t),r=await Jt.unmarshalPrivateKey(e);return new wa(r.privateKey,r.publicKey)}function K8(t){let e=Jt.utils.pkixToJwk(t);return new Os(e)}async function O8(t){let e=await Jt.unmarshalPrivateKey(t);return new wa(e.privateKey,e.publicKey)}async function F8(t){let e=await Jt.generateKey(t);return new wa(e.privateKey,e.publicKey)}u1.exports={RsaPublicKey:Os,RsaPrivateKey:wa,unmarshalRsaPublicKey:K8,unmarshalRsaPrivateKey:k8,generateKeyPair:F8,fromJwk:O8}});var h1=M(Yi=>{"use strict";mf();var Pn=ge();Yi.publicKeyLength=Pn.pki.ed25519.constants.PUBLIC_KEY_BYTE_LENGTH;Yi.privateKeyLength=Pn.pki.ed25519.constants.PRIVATE_KEY_BYTE_LENGTH;Yi.generateKey=async function(){return Pn.pki.ed25519.generateKeyPair()};Yi.generateKeyFromSeed=async function(t){return Pn.pki.ed25519.generateKeyPair({seed:t})};Yi.hashAndSign=async function(t,e){return Pn.pki.ed25519.sign({message:e,privateKey:t})};Yi.hashAndVerify=async function(t,e,r){return Pn.pki.ed25519.verify({signature:e,message:r,publicKey:t})}});var y1=M((Rw,b1)=>{"use strict";var d1=vr(),{equals:l1}=(Tn(),Cn),{sha256:p1}=(Mi(),ni),{base58btc:U8}=(sn(),an),{identity:z8}=(Ha(),ra),Rt=h1(),Fs=bs(),V8=qs(),Us=class{constructor(e){this._key=Nn(e,Rt.publicKeyLength)}async verify(e,r){return Rt.hashAndVerify(this._key,r,e)}marshal(){return this._key}get bytes(){return Fs.PublicKey.encode({Type:Fs.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return l1(this.bytes,e.bytes)}async hash(){let{bytes:e}=await p1.digest(this.bytes);return e}},Ln=class{constructor(e,r){this._key=Nn(e,Rt.privateKeyLength),this._publicKey=Nn(r,Rt.publicKeyLength)}async sign(e){return Rt.hashAndSign(this._key,e)}get public(){return new Us(this._publicKey)}marshal(){return this._key}get bytes(){return Fs.PrivateKey.encode({Type:Fs.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return l1(this.bytes,e.bytes)}async hash(){let{bytes:e}=await p1.digest(this.bytes);return e}async id(){let e=await z8.digest(this.public.bytes);return U8.encode(e.bytes).substring(1)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return V8.export(this.bytes,e);throw d1(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function H8(t){if(t.length>Rt.privateKeyLength){t=Nn(t,Rt.privateKeyLength+Rt.publicKeyLength);let i=t.slice(0,Rt.privateKeyLength),n=t.slice(Rt.privateKeyLength,t.length);return new Ln(i,n)}t=Nn(t,Rt.privateKeyLength);let e=t.slice(0,Rt.privateKeyLength),r=t.slice(Rt.publicKeyLength);return new Ln(e,r)}function G8(t){return t=Nn(t,Rt.publicKeyLength),new Us(t)}async function j8(){let{privateKey:t,publicKey:e}=await Rt.generateKey();return new Ln(t,e)}async function Y8(t){let{privateKey:e,publicKey:r}=await Rt.generateKeyFromSeed(t);return new Ln(e,r)}function Nn(t,e){if(t=Uint8Array.from(t||[]),t.length!==e)throw d1(new Error(`Key must be a Uint8Array of length ${e}, got ${t.length}`),"ERR_INVALID_KEY_TYPE");return t}b1.exports={Ed25519PublicKey:Us,Ed25519PrivateKey:Ln,unmarshalEd25519PrivateKey:H8,unmarshalEd25519PublicKey:G8,generateKeyPair:j8,generateKeyPairFromSeed:Y8}});var g1=M((Pw,v1)=>{var ve={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function Zt(t,e){if(!t)throw new Error(e)}function pe(t,e,r){if(Zt(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){let i=r.join(", "),n=`Expected ${t} to be an Uint8Array with length [${i}]`;Zt(r.includes(e.length),n)}else{let i=`Expected ${t} to be an Uint8Array with length ${r}`;Zt(e.length===r,i)}}function Wi(t){Zt(Dn(t)==="Boolean","Expected compressed to be a Boolean")}function fr(t=r=>new Uint8Array(r),e){return typeof t=="function"&&(t=t(e)),pe("output",t,e),t}function Dn(t){return Object.prototype.toString.call(t).slice(8,-1)}v1.exports=t=>({contextRandomize(e){switch(Zt(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&pe("seed",e,32),t.contextRandomize(e)){case 1:throw new Error(ve.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return pe("private key",e,32),t.privateKeyVerify(e)===0},privateKeyNegate(e){switch(pe("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(ve.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,r){switch(pe("private key",e,32),pe("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw new Error(ve.TWEAK_ADD)}},privateKeyTweakMul(e,r){switch(pe("private key",e,32),pe("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(ve.TWEAK_MUL)}},publicKeyVerify(e){return pe("public key",e,[33,65]),t.publicKeyVerify(e)===0},publicKeyCreate(e,r=!0,i){switch(pe("private key",e,32),Wi(r),i=fr(i,r?33:65),t.publicKeyCreate(i,e)){case 0:return i;case 1:throw new Error(ve.SECKEY_INVALID);case 2:throw new Error(ve.PUBKEY_SERIALIZE)}},publicKeyConvert(e,r=!0,i){switch(pe("public key",e,[33,65]),Wi(r),i=fr(i,r?33:65),t.publicKeyConvert(i,e)){case 0:return i;case 1:throw new Error(ve.PUBKEY_PARSE);case 2:throw new Error(ve.PUBKEY_SERIALIZE)}},publicKeyNegate(e,r=!0,i){switch(pe("public key",e,[33,65]),Wi(r),i=fr(i,r?33:65),t.publicKeyNegate(i,e)){case 0:return i;case 1:throw new Error(ve.PUBKEY_PARSE);case 2:throw new Error(ve.IMPOSSIBLE_CASE);case 3:throw new Error(ve.PUBKEY_SERIALIZE)}},publicKeyCombine(e,r=!0,i){Zt(Array.isArray(e),"Expected public keys to be an Array"),Zt(e.length>0,"Expected public keys array will have more than zero items");for(let n of e)pe("public key",n,[33,65]);switch(Wi(r),i=fr(i,r?33:65),t.publicKeyCombine(i,e)){case 0:return i;case 1:throw new Error(ve.PUBKEY_PARSE);case 2:throw new Error(ve.PUBKEY_COMBINE);case 3:throw new Error(ve.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,r,i=!0,n){switch(pe("public key",e,[33,65]),pe("tweak",r,32),Wi(i),n=fr(n,i?33:65),t.publicKeyTweakAdd(n,e,r)){case 0:return n;case 1:throw new Error(ve.PUBKEY_PARSE);case 2:throw new Error(ve.TWEAK_ADD)}},publicKeyTweakMul(e,r,i=!0,n){switch(pe("public key",e,[33,65]),pe("tweak",r,32),Wi(i),n=fr(n,i?33:65),t.publicKeyTweakMul(n,e,r)){case 0:return n;case 1:throw new Error(ve.PUBKEY_PARSE);case 2:throw new Error(ve.TWEAK_MUL)}},signatureNormalize(e){switch(pe("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(ve.SIG_PARSE)}},signatureExport(e,r){pe("signature",e,64),r=fr(r,72);let i={output:r,outputlen:72};switch(t.signatureExport(i,e)){case 0:return r.slice(0,i.outputlen);case 1:throw new Error(ve.SIG_PARSE);case 2:throw new Error(ve.IMPOSSIBLE_CASE)}},signatureImport(e,r){switch(pe("signature",e),r=fr(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw new Error(ve.SIG_PARSE);case 2:throw new Error(ve.IMPOSSIBLE_CASE)}},ecdsaSign(e,r,i={},n){pe("message",e,32),pe("private key",r,32),Zt(Dn(i)==="Object","Expected options to be an Object"),i.data!==void 0&&pe("options.data",i.data),i.noncefn!==void 0&&Zt(Dn(i.noncefn)==="Function","Expected options.noncefn to be a Function"),n=fr(n,64);let a={signature:n,recid:null};switch(t.ecdsaSign(a,e,r,i.data,i.noncefn)){case 0:return a;case 1:throw new Error(ve.SIGN);case 2:throw new Error(ve.IMPOSSIBLE_CASE)}},ecdsaVerify(e,r,i){switch(pe("signature",e,64),pe("message",r,32),pe("public key",i,[33,65]),t.ecdsaVerify(e,r,i)){case 0:return!0;case 3:return!1;case 1:throw new Error(ve.SIG_PARSE);case 2:throw new Error(ve.PUBKEY_PARSE)}},ecdsaRecover(e,r,i,n=!0,a){switch(pe("signature",e,64),Zt(Dn(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),pe("message",i,32),Wi(n),a=fr(a,n?33:65),t.ecdsaRecover(a,e,r,i)){case 0:return a;case 1:throw new Error(ve.SIG_PARSE);case 2:throw new Error(ve.RECOVER);case 3:throw new Error(ve.IMPOSSIBLE_CASE)}},ecdh(e,r,i={},n){switch(pe("public key",e,[33,65]),pe("private key",r,32),Zt(Dn(i)==="Object","Expected options to be an Object"),i.data!==void 0&&pe("options.data",i.data),i.hashfn!==void 0?(Zt(Dn(i.hashfn)==="Function","Expected options.hashfn to be a Function"),i.xbuf!==void 0&&pe("options.xbuf",i.xbuf,32),i.ybuf!==void 0&&pe("options.ybuf",i.ybuf,32),pe("output",n)):n=fr(n,32),t.ecdh(n,e,r,i.data,i.hashfn,i.xbuf,i.ybuf)){case 0:return n;case 1:throw new Error(ve.PUBKEY_PARSE);case 2:throw new Error(ve.ECDH)}}})});var x1=M((Lw,W8)=>{W8.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var m1=M(()=>{});var Mr=M((w1,wf)=>{(function(t,e){"use strict";function r(E,h){if(!E)throw new Error(h||"Assertion failed")}function i(E,h){E.super_=h;var p=function(){};p.prototype=h.prototype,E.prototype=new p,E.prototype.constructor=E}function n(E,h,p){if(n.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((h==="le"||h==="be")&&(p=h,h=10),this._init(E||0,h||10,p||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var a;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?a=window.Buffer:a=m1().Buffer}catch(E){}n.isBN=function(h){return h instanceof n?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===n.wordSize&&Array.isArray(h.words)},n.max=function(h,p){return h.cmp(p)>0?h:p},n.min=function(h,p){return h.cmp(p)<0?h:p},n.prototype._init=function(h,p,y){if(typeof h=="number")return this._initNumber(h,p,y);if(typeof h=="object")return this._initArray(h,p,y);p==="hex"&&(p=16),r(p===(p|0)&&p>=2&&p<=36),h=h.toString().replace(/\s+/g,"");var g=0;h[0]==="-"&&(g++,this.negative=1),g<h.length&&(p===16?this._parseHex(h,g,y):(this._parseBase(h,p,g),y==="le"&&this._initArray(this.toArray(),p,y)))},n.prototype._initNumber=function(h,p,y){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(r(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),p,y)},n.prototype._initArray=function(h,p,y){if(r(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var x,B,A=0;if(y==="be")for(g=h.length-1,x=0;g>=0;g-=3)B=h[g]|h[g-1]<<8|h[g-2]<<16,this.words[x]|=B<<A&67108863,this.words[x+1]=B>>>26-A&67108863,A+=24,A>=26&&(A-=26,x++);else if(y==="le")for(g=0,x=0;g<h.length;g+=3)B=h[g]|h[g+1]<<8|h[g+2]<<16,this.words[x]|=B<<A&67108863,this.words[x+1]=B>>>26-A&67108863,A+=24,A>=26&&(A-=26,x++);return this.strip()};function s(E,h){var p=E.charCodeAt(h);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function o(E,h,p){var y=s(E,p);return p-1>=h&&(y|=s(E,p-1)<<4),y}n.prototype._parseHex=function(h,p,y){this.length=Math.ceil((h.length-p)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var x=0,B=0,A;if(y==="be")for(g=h.length-1;g>=p;g-=2)A=o(h,p,g)<<x,this.words[B]|=A&67108863,x>=18?(x-=18,B+=1,this.words[B]|=A>>>26):x+=8;else{var m=h.length-p;for(g=m%2==0?p+1:p;g<h.length;g+=2)A=o(h,p,g)<<x,this.words[B]|=A&67108863,x>=18?(x-=18,B+=1,this.words[B]|=A>>>26):x+=8}this.strip()};function f(E,h,p,y){for(var g=0,x=Math.min(E.length,p),B=h;B<x;B++){var A=E.charCodeAt(B)-48;g*=y,A>=49?g+=A-49+10:A>=17?g+=A-17+10:g+=A}return g}n.prototype._parseBase=function(h,p,y){this.words=[0],this.length=1;for(var g=0,x=1;x<=67108863;x*=p)g++;g--,x=x/p|0;for(var B=h.length-y,A=B%g,m=Math.min(B,B-A)+y,l=0,w=y;w<m;w+=g)l=f(h,w,w+g,p),this.imuln(x),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(A!==0){var z=1;for(l=f(h,w,h.length,p),w=0;w<A;w++)z*=p;this.imuln(z),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},n.prototype.copy=function(h){h.words=new Array(this.length);for(var p=0;p<this.length;p++)h.words[p]=this.words[p];h.length=this.length,h.negative=this.negative,h.red=this.red},n.prototype.clone=function(){var h=new n(null);return this.copy(h),h},n.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(h,p){h=h||10,p=p|0||1;var y;if(h===16||h==="hex"){y="";for(var g=0,x=0,B=0;B<this.length;B++){var A=this.words[B],m=((A<<g|x)&16777215).toString(16);x=A>>>24-g&16777215,x!==0||B!==this.length-1?y=u[6-m.length]+m+y:y=m+y,g+=2,g>=26&&(g-=26,B--)}for(x!==0&&(y=x.toString(16)+y);y.length%p!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(h===(h|0)&&h>=2&&h<=36){var l=c[h],w=d[h];y="";var z=this.clone();for(z.negative=0;!z.isZero();){var V=z.modn(w).toString(h);z=z.idivn(w),z.isZero()?y=V+y:y=u[l-V.length]+V+y}for(this.isZero()&&(y="0"+y);y.length%p!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(h,p){return r(typeof a!="undefined"),this.toArrayLike(a,h,p)},n.prototype.toArray=function(h,p){return this.toArrayLike(Array,h,p)},n.prototype.toArrayLike=function(h,p,y){var g=this.byteLength(),x=y||Math.max(1,g);r(g<=x,"byte array longer than desired length"),r(x>0,"Requested array length <= 0"),this.strip();var B=p==="le",A=new h(x),m,l,w=this.clone();if(B){for(l=0;!w.isZero();l++)m=w.andln(255),w.iushrn(8),A[l]=m;for(;l<x;l++)A[l]=0}else{for(l=0;l<x-g;l++)A[l]=0;for(l=0;!w.isZero();l++)m=w.andln(255),w.iushrn(8),A[x-l-1]=m}return A},Math.clz32?n.prototype._countBits=function(h){return 32-Math.clz32(h)}:n.prototype._countBits=function(h){var p=h,y=0;return p>=4096&&(y+=13,p>>>=13),p>=64&&(y+=7,p>>>=7),p>=8&&(y+=4,p>>>=4),p>=2&&(y+=2,p>>>=2),y+p},n.prototype._zeroBits=function(h){if(h===0)return 26;var p=h,y=0;return(p&8191)==0&&(y+=13,p>>>=13),(p&127)==0&&(y+=7,p>>>=7),(p&15)==0&&(y+=4,p>>>=4),(p&3)==0&&(y+=2,p>>>=2),(p&1)==0&&y++,y},n.prototype.bitLength=function(){var h=this.words[this.length-1],p=this._countBits(h);return(this.length-1)*26+p};function b(E){for(var h=new Array(E.bitLength()),p=0;p<h.length;p++){var y=p/26|0,g=p%26;h[p]=(E.words[y]&1<<g)>>>g}return h}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,p=0;p<this.length;p++){var y=this._zeroBits(this.words[p]);if(h+=y,y!==26)break}return h},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},n.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]|h.words[p];return this.strip()},n.prototype.ior=function(h){return r((this.negative|h.negative)==0),this.iuor(h)},n.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},n.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},n.prototype.iuand=function(h){var p;this.length>h.length?p=h:p=this;for(var y=0;y<p.length;y++)this.words[y]=this.words[y]&h.words[y];return this.length=p.length,this.strip()},n.prototype.iand=function(h){return r((this.negative|h.negative)==0),this.iuand(h)},n.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},n.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},n.prototype.iuxor=function(h){var p,y;this.length>h.length?(p=this,y=h):(p=h,y=this);for(var g=0;g<y.length;g++)this.words[g]=p.words[g]^y.words[g];if(this!==p)for(;g<p.length;g++)this.words[g]=p.words[g];return this.length=p.length,this.strip()},n.prototype.ixor=function(h){return r((this.negative|h.negative)==0),this.iuxor(h)},n.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},n.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},n.prototype.inotn=function(h){r(typeof h=="number"&&h>=0);var p=Math.ceil(h/26)|0,y=h%26;this._expand(p),y>0&&p--;for(var g=0;g<p;g++)this.words[g]=~this.words[g]&67108863;return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},n.prototype.notn=function(h){return this.clone().inotn(h)},n.prototype.setn=function(h,p){r(typeof h=="number"&&h>=0);var y=h/26|0,g=h%26;return this._expand(y+1),p?this.words[y]=this.words[y]|1<<g:this.words[y]=this.words[y]&~(1<<g),this.strip()},n.prototype.iadd=function(h){var p;if(this.negative!==0&&h.negative===0)return this.negative=0,p=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,p=this.isub(h),h.negative=1,p._normSign();var y,g;this.length>h.length?(y=this,g=h):(y=h,g=this);for(var x=0,B=0;B<g.length;B++)p=(y.words[B]|0)+(g.words[B]|0)+x,this.words[B]=p&67108863,x=p>>>26;for(;x!==0&&B<y.length;B++)p=(y.words[B]|0)+x,this.words[B]=p&67108863,x=p>>>26;if(this.length=y.length,x!==0)this.words[this.length]=x,this.length++;else if(y!==this)for(;B<y.length;B++)this.words[B]=y.words[B];return this},n.prototype.add=function(h){var p;return h.negative!==0&&this.negative===0?(h.negative=0,p=this.sub(h),h.negative^=1,p):h.negative===0&&this.negative!==0?(this.negative=0,p=h.sub(this),this.negative=1,p):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},n.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var p=this.iadd(h);return h.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var y=this.cmp(h);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,x;y>0?(g=this,x=h):(g=h,x=this);for(var B=0,A=0;A<x.length;A++)p=(g.words[A]|0)-(x.words[A]|0)+B,B=p>>26,this.words[A]=p&67108863;for(;B!==0&&A<g.length;A++)p=(g.words[A]|0)+B,B=p>>26,this.words[A]=p&67108863;if(B===0&&A<g.length&&g!==this)for(;A<g.length;A++)this.words[A]=g.words[A];return this.length=Math.max(this.length,A),g!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(h){return this.clone().isub(h)};function S(E,h,p){p.negative=h.negative^E.negative;var y=E.length+h.length|0;p.length=y,y=y-1|0;var g=E.words[0]|0,x=h.words[0]|0,B=g*x,A=B&67108863,m=B/67108864|0;p.words[0]=A;for(var l=1;l<y;l++){for(var w=m>>>26,z=m&67108863,V=Math.min(l,h.length-1),j=Math.max(0,l-E.length+1);j<=V;j++){var W=l-j|0;g=E.words[W]|0,x=h.words[j]|0,B=g*x+z,w+=B/67108864|0,z=B&67108863}p.words[l]=z|0,m=w|0}return m!==0?p.words[l]=m|0:p.length--,p.strip()}var v=function(h,p,y){var g=h.words,x=p.words,B=y.words,A=0,m,l,w,z=g[0]|0,V=z&8191,j=z>>>13,W=g[1]|0,X=W&8191,Q=W>>>13,Ce=g[2]|0,ee=Ce&8191,ie=Ce>>>13,pt=g[3]|0,ae=pt&8191,se=pt>>>13,bt=g[4]|0,oe=bt&8191,fe=bt>>>13,au=g[5]|0,ke=au&8191,Ke=au>>>13,su=g[6]|0,Oe=su&8191,Fe=su>>>13,ou=g[7]|0,Ue=ou&8191,ze=ou>>>13,fu=g[8]|0,Ve=fu&8191,He=fu>>>13,uu=g[9]|0,Ge=uu&8191,je=uu>>>13,cu=x[0]|0,Ye=cu&8191,We=cu>>>13,hu=x[1]|0,$e=hu&8191,Je=hu>>>13,du=x[2]|0,Ze=du&8191,Xe=du>>>13,lu=x[3]|0,Qe=lu&8191,et=lu>>>13,pu=x[4]|0,tt=pu&8191,rt=pu>>>13,bu=x[5]|0,it=bu&8191,nt=bu>>>13,yu=x[6]|0,at=yu&8191,st=yu>>>13,vu=x[7]|0,ot=vu&8191,ft=vu>>>13,gu=x[8]|0,ut=gu&8191,ct=gu>>>13,xu=x[9]|0,ht=xu&8191,dt=xu>>>13;y.negative=h.negative^p.negative,y.length=19,m=Math.imul(V,Ye),l=Math.imul(V,We),l=l+Math.imul(j,Ye)|0,w=Math.imul(j,We);var o0=(A+m|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(o0>>>26)|0,o0&=67108863,m=Math.imul(X,Ye),l=Math.imul(X,We),l=l+Math.imul(Q,Ye)|0,w=Math.imul(Q,We),m=m+Math.imul(V,$e)|0,l=l+Math.imul(V,Je)|0,l=l+Math.imul(j,$e)|0,w=w+Math.imul(j,Je)|0;var f0=(A+m|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(f0>>>26)|0,f0&=67108863,m=Math.imul(ee,Ye),l=Math.imul(ee,We),l=l+Math.imul(ie,Ye)|0,w=Math.imul(ie,We),m=m+Math.imul(X,$e)|0,l=l+Math.imul(X,Je)|0,l=l+Math.imul(Q,$e)|0,w=w+Math.imul(Q,Je)|0,m=m+Math.imul(V,Ze)|0,l=l+Math.imul(V,Xe)|0,l=l+Math.imul(j,Ze)|0,w=w+Math.imul(j,Xe)|0;var u0=(A+m|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(u0>>>26)|0,u0&=67108863,m=Math.imul(ae,Ye),l=Math.imul(ae,We),l=l+Math.imul(se,Ye)|0,w=Math.imul(se,We),m=m+Math.imul(ee,$e)|0,l=l+Math.imul(ee,Je)|0,l=l+Math.imul(ie,$e)|0,w=w+Math.imul(ie,Je)|0,m=m+Math.imul(X,Ze)|0,l=l+Math.imul(X,Xe)|0,l=l+Math.imul(Q,Ze)|0,w=w+Math.imul(Q,Xe)|0,m=m+Math.imul(V,Qe)|0,l=l+Math.imul(V,et)|0,l=l+Math.imul(j,Qe)|0,w=w+Math.imul(j,et)|0;var c0=(A+m|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(c0>>>26)|0,c0&=67108863,m=Math.imul(oe,Ye),l=Math.imul(oe,We),l=l+Math.imul(fe,Ye)|0,w=Math.imul(fe,We),m=m+Math.imul(ae,$e)|0,l=l+Math.imul(ae,Je)|0,l=l+Math.imul(se,$e)|0,w=w+Math.imul(se,Je)|0,m=m+Math.imul(ee,Ze)|0,l=l+Math.imul(ee,Xe)|0,l=l+Math.imul(ie,Ze)|0,w=w+Math.imul(ie,Xe)|0,m=m+Math.imul(X,Qe)|0,l=l+Math.imul(X,et)|0,l=l+Math.imul(Q,Qe)|0,w=w+Math.imul(Q,et)|0,m=m+Math.imul(V,tt)|0,l=l+Math.imul(V,rt)|0,l=l+Math.imul(j,tt)|0,w=w+Math.imul(j,rt)|0;var h0=(A+m|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(h0>>>26)|0,h0&=67108863,m=Math.imul(ke,Ye),l=Math.imul(ke,We),l=l+Math.imul(Ke,Ye)|0,w=Math.imul(Ke,We),m=m+Math.imul(oe,$e)|0,l=l+Math.imul(oe,Je)|0,l=l+Math.imul(fe,$e)|0,w=w+Math.imul(fe,Je)|0,m=m+Math.imul(ae,Ze)|0,l=l+Math.imul(ae,Xe)|0,l=l+Math.imul(se,Ze)|0,w=w+Math.imul(se,Xe)|0,m=m+Math.imul(ee,Qe)|0,l=l+Math.imul(ee,et)|0,l=l+Math.imul(ie,Qe)|0,w=w+Math.imul(ie,et)|0,m=m+Math.imul(X,tt)|0,l=l+Math.imul(X,rt)|0,l=l+Math.imul(Q,tt)|0,w=w+Math.imul(Q,rt)|0,m=m+Math.imul(V,it)|0,l=l+Math.imul(V,nt)|0,l=l+Math.imul(j,it)|0,w=w+Math.imul(j,nt)|0;var d0=(A+m|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(d0>>>26)|0,d0&=67108863,m=Math.imul(Oe,Ye),l=Math.imul(Oe,We),l=l+Math.imul(Fe,Ye)|0,w=Math.imul(Fe,We),m=m+Math.imul(ke,$e)|0,l=l+Math.imul(ke,Je)|0,l=l+Math.imul(Ke,$e)|0,w=w+Math.imul(Ke,Je)|0,m=m+Math.imul(oe,Ze)|0,l=l+Math.imul(oe,Xe)|0,l=l+Math.imul(fe,Ze)|0,w=w+Math.imul(fe,Xe)|0,m=m+Math.imul(ae,Qe)|0,l=l+Math.imul(ae,et)|0,l=l+Math.imul(se,Qe)|0,w=w+Math.imul(se,et)|0,m=m+Math.imul(ee,tt)|0,l=l+Math.imul(ee,rt)|0,l=l+Math.imul(ie,tt)|0,w=w+Math.imul(ie,rt)|0,m=m+Math.imul(X,it)|0,l=l+Math.imul(X,nt)|0,l=l+Math.imul(Q,it)|0,w=w+Math.imul(Q,nt)|0,m=m+Math.imul(V,at)|0,l=l+Math.imul(V,st)|0,l=l+Math.imul(j,at)|0,w=w+Math.imul(j,st)|0;var l0=(A+m|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(l0>>>26)|0,l0&=67108863,m=Math.imul(Ue,Ye),l=Math.imul(Ue,We),l=l+Math.imul(ze,Ye)|0,w=Math.imul(ze,We),m=m+Math.imul(Oe,$e)|0,l=l+Math.imul(Oe,Je)|0,l=l+Math.imul(Fe,$e)|0,w=w+Math.imul(Fe,Je)|0,m=m+Math.imul(ke,Ze)|0,l=l+Math.imul(ke,Xe)|0,l=l+Math.imul(Ke,Ze)|0,w=w+Math.imul(Ke,Xe)|0,m=m+Math.imul(oe,Qe)|0,l=l+Math.imul(oe,et)|0,l=l+Math.imul(fe,Qe)|0,w=w+Math.imul(fe,et)|0,m=m+Math.imul(ae,tt)|0,l=l+Math.imul(ae,rt)|0,l=l+Math.imul(se,tt)|0,w=w+Math.imul(se,rt)|0,m=m+Math.imul(ee,it)|0,l=l+Math.imul(ee,nt)|0,l=l+Math.imul(ie,it)|0,w=w+Math.imul(ie,nt)|0,m=m+Math.imul(X,at)|0,l=l+Math.imul(X,st)|0,l=l+Math.imul(Q,at)|0,w=w+Math.imul(Q,st)|0,m=m+Math.imul(V,ot)|0,l=l+Math.imul(V,ft)|0,l=l+Math.imul(j,ot)|0,w=w+Math.imul(j,ft)|0;var p0=(A+m|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(p0>>>26)|0,p0&=67108863,m=Math.imul(Ve,Ye),l=Math.imul(Ve,We),l=l+Math.imul(He,Ye)|0,w=Math.imul(He,We),m=m+Math.imul(Ue,$e)|0,l=l+Math.imul(Ue,Je)|0,l=l+Math.imul(ze,$e)|0,w=w+Math.imul(ze,Je)|0,m=m+Math.imul(Oe,Ze)|0,l=l+Math.imul(Oe,Xe)|0,l=l+Math.imul(Fe,Ze)|0,w=w+Math.imul(Fe,Xe)|0,m=m+Math.imul(ke,Qe)|0,l=l+Math.imul(ke,et)|0,l=l+Math.imul(Ke,Qe)|0,w=w+Math.imul(Ke,et)|0,m=m+Math.imul(oe,tt)|0,l=l+Math.imul(oe,rt)|0,l=l+Math.imul(fe,tt)|0,w=w+Math.imul(fe,rt)|0,m=m+Math.imul(ae,it)|0,l=l+Math.imul(ae,nt)|0,l=l+Math.imul(se,it)|0,w=w+Math.imul(se,nt)|0,m=m+Math.imul(ee,at)|0,l=l+Math.imul(ee,st)|0,l=l+Math.imul(ie,at)|0,w=w+Math.imul(ie,st)|0,m=m+Math.imul(X,ot)|0,l=l+Math.imul(X,ft)|0,l=l+Math.imul(Q,ot)|0,w=w+Math.imul(Q,ft)|0,m=m+Math.imul(V,ut)|0,l=l+Math.imul(V,ct)|0,l=l+Math.imul(j,ut)|0,w=w+Math.imul(j,ct)|0;var b0=(A+m|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(b0>>>26)|0,b0&=67108863,m=Math.imul(Ge,Ye),l=Math.imul(Ge,We),l=l+Math.imul(je,Ye)|0,w=Math.imul(je,We),m=m+Math.imul(Ve,$e)|0,l=l+Math.imul(Ve,Je)|0,l=l+Math.imul(He,$e)|0,w=w+Math.imul(He,Je)|0,m=m+Math.imul(Ue,Ze)|0,l=l+Math.imul(Ue,Xe)|0,l=l+Math.imul(ze,Ze)|0,w=w+Math.imul(ze,Xe)|0,m=m+Math.imul(Oe,Qe)|0,l=l+Math.imul(Oe,et)|0,l=l+Math.imul(Fe,Qe)|0,w=w+Math.imul(Fe,et)|0,m=m+Math.imul(ke,tt)|0,l=l+Math.imul(ke,rt)|0,l=l+Math.imul(Ke,tt)|0,w=w+Math.imul(Ke,rt)|0,m=m+Math.imul(oe,it)|0,l=l+Math.imul(oe,nt)|0,l=l+Math.imul(fe,it)|0,w=w+Math.imul(fe,nt)|0,m=m+Math.imul(ae,at)|0,l=l+Math.imul(ae,st)|0,l=l+Math.imul(se,at)|0,w=w+Math.imul(se,st)|0,m=m+Math.imul(ee,ot)|0,l=l+Math.imul(ee,ft)|0,l=l+Math.imul(ie,ot)|0,w=w+Math.imul(ie,ft)|0,m=m+Math.imul(X,ut)|0,l=l+Math.imul(X,ct)|0,l=l+Math.imul(Q,ut)|0,w=w+Math.imul(Q,ct)|0,m=m+Math.imul(V,ht)|0,l=l+Math.imul(V,dt)|0,l=l+Math.imul(j,ht)|0,w=w+Math.imul(j,dt)|0;var y0=(A+m|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(y0>>>26)|0,y0&=67108863,m=Math.imul(Ge,$e),l=Math.imul(Ge,Je),l=l+Math.imul(je,$e)|0,w=Math.imul(je,Je),m=m+Math.imul(Ve,Ze)|0,l=l+Math.imul(Ve,Xe)|0,l=l+Math.imul(He,Ze)|0,w=w+Math.imul(He,Xe)|0,m=m+Math.imul(Ue,Qe)|0,l=l+Math.imul(Ue,et)|0,l=l+Math.imul(ze,Qe)|0,w=w+Math.imul(ze,et)|0,m=m+Math.imul(Oe,tt)|0,l=l+Math.imul(Oe,rt)|0,l=l+Math.imul(Fe,tt)|0,w=w+Math.imul(Fe,rt)|0,m=m+Math.imul(ke,it)|0,l=l+Math.imul(ke,nt)|0,l=l+Math.imul(Ke,it)|0,w=w+Math.imul(Ke,nt)|0,m=m+Math.imul(oe,at)|0,l=l+Math.imul(oe,st)|0,l=l+Math.imul(fe,at)|0,w=w+Math.imul(fe,st)|0,m=m+Math.imul(ae,ot)|0,l=l+Math.imul(ae,ft)|0,l=l+Math.imul(se,ot)|0,w=w+Math.imul(se,ft)|0,m=m+Math.imul(ee,ut)|0,l=l+Math.imul(ee,ct)|0,l=l+Math.imul(ie,ut)|0,w=w+Math.imul(ie,ct)|0,m=m+Math.imul(X,ht)|0,l=l+Math.imul(X,dt)|0,l=l+Math.imul(Q,ht)|0,w=w+Math.imul(Q,dt)|0;var v0=(A+m|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(v0>>>26)|0,v0&=67108863,m=Math.imul(Ge,Ze),l=Math.imul(Ge,Xe),l=l+Math.imul(je,Ze)|0,w=Math.imul(je,Xe),m=m+Math.imul(Ve,Qe)|0,l=l+Math.imul(Ve,et)|0,l=l+Math.imul(He,Qe)|0,w=w+Math.imul(He,et)|0,m=m+Math.imul(Ue,tt)|0,l=l+Math.imul(Ue,rt)|0,l=l+Math.imul(ze,tt)|0,w=w+Math.imul(ze,rt)|0,m=m+Math.imul(Oe,it)|0,l=l+Math.imul(Oe,nt)|0,l=l+Math.imul(Fe,it)|0,w=w+Math.imul(Fe,nt)|0,m=m+Math.imul(ke,at)|0,l=l+Math.imul(ke,st)|0,l=l+Math.imul(Ke,at)|0,w=w+Math.imul(Ke,st)|0,m=m+Math.imul(oe,ot)|0,l=l+Math.imul(oe,ft)|0,l=l+Math.imul(fe,ot)|0,w=w+Math.imul(fe,ft)|0,m=m+Math.imul(ae,ut)|0,l=l+Math.imul(ae,ct)|0,l=l+Math.imul(se,ut)|0,w=w+Math.imul(se,ct)|0,m=m+Math.imul(ee,ht)|0,l=l+Math.imul(ee,dt)|0,l=l+Math.imul(ie,ht)|0,w=w+Math.imul(ie,dt)|0;var g0=(A+m|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(g0>>>26)|0,g0&=67108863,m=Math.imul(Ge,Qe),l=Math.imul(Ge,et),l=l+Math.imul(je,Qe)|0,w=Math.imul(je,et),m=m+Math.imul(Ve,tt)|0,l=l+Math.imul(Ve,rt)|0,l=l+Math.imul(He,tt)|0,w=w+Math.imul(He,rt)|0,m=m+Math.imul(Ue,it)|0,l=l+Math.imul(Ue,nt)|0,l=l+Math.imul(ze,it)|0,w=w+Math.imul(ze,nt)|0,m=m+Math.imul(Oe,at)|0,l=l+Math.imul(Oe,st)|0,l=l+Math.imul(Fe,at)|0,w=w+Math.imul(Fe,st)|0,m=m+Math.imul(ke,ot)|0,l=l+Math.imul(ke,ft)|0,l=l+Math.imul(Ke,ot)|0,w=w+Math.imul(Ke,ft)|0,m=m+Math.imul(oe,ut)|0,l=l+Math.imul(oe,ct)|0,l=l+Math.imul(fe,ut)|0,w=w+Math.imul(fe,ct)|0,m=m+Math.imul(ae,ht)|0,l=l+Math.imul(ae,dt)|0,l=l+Math.imul(se,ht)|0,w=w+Math.imul(se,dt)|0;var x0=(A+m|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(x0>>>26)|0,x0&=67108863,m=Math.imul(Ge,tt),l=Math.imul(Ge,rt),l=l+Math.imul(je,tt)|0,w=Math.imul(je,rt),m=m+Math.imul(Ve,it)|0,l=l+Math.imul(Ve,nt)|0,l=l+Math.imul(He,it)|0,w=w+Math.imul(He,nt)|0,m=m+Math.imul(Ue,at)|0,l=l+Math.imul(Ue,st)|0,l=l+Math.imul(ze,at)|0,w=w+Math.imul(ze,st)|0,m=m+Math.imul(Oe,ot)|0,l=l+Math.imul(Oe,ft)|0,l=l+Math.imul(Fe,ot)|0,w=w+Math.imul(Fe,ft)|0,m=m+Math.imul(ke,ut)|0,l=l+Math.imul(ke,ct)|0,l=l+Math.imul(Ke,ut)|0,w=w+Math.imul(Ke,ct)|0,m=m+Math.imul(oe,ht)|0,l=l+Math.imul(oe,dt)|0,l=l+Math.imul(fe,ht)|0,w=w+Math.imul(fe,dt)|0;var m0=(A+m|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(m0>>>26)|0,m0&=67108863,m=Math.imul(Ge,it),l=Math.imul(Ge,nt),l=l+Math.imul(je,it)|0,w=Math.imul(je,nt),m=m+Math.imul(Ve,at)|0,l=l+Math.imul(Ve,st)|0,l=l+Math.imul(He,at)|0,w=w+Math.imul(He,st)|0,m=m+Math.imul(Ue,ot)|0,l=l+Math.imul(Ue,ft)|0,l=l+Math.imul(ze,ot)|0,w=w+Math.imul(ze,ft)|0,m=m+Math.imul(Oe,ut)|0,l=l+Math.imul(Oe,ct)|0,l=l+Math.imul(Fe,ut)|0,w=w+Math.imul(Fe,ct)|0,m=m+Math.imul(ke,ht)|0,l=l+Math.imul(ke,dt)|0,l=l+Math.imul(Ke,ht)|0,w=w+Math.imul(Ke,dt)|0;var w0=(A+m|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(w0>>>26)|0,w0&=67108863,m=Math.imul(Ge,at),l=Math.imul(Ge,st),l=l+Math.imul(je,at)|0,w=Math.imul(je,st),m=m+Math.imul(Ve,ot)|0,l=l+Math.imul(Ve,ft)|0,l=l+Math.imul(He,ot)|0,w=w+Math.imul(He,ft)|0,m=m+Math.imul(Ue,ut)|0,l=l+Math.imul(Ue,ct)|0,l=l+Math.imul(ze,ut)|0,w=w+Math.imul(ze,ct)|0,m=m+Math.imul(Oe,ht)|0,l=l+Math.imul(Oe,dt)|0,l=l+Math.imul(Fe,ht)|0,w=w+Math.imul(Fe,dt)|0;var S0=(A+m|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(S0>>>26)|0,S0&=67108863,m=Math.imul(Ge,ot),l=Math.imul(Ge,ft),l=l+Math.imul(je,ot)|0,w=Math.imul(je,ft),m=m+Math.imul(Ve,ut)|0,l=l+Math.imul(Ve,ct)|0,l=l+Math.imul(He,ut)|0,w=w+Math.imul(He,ct)|0,m=m+Math.imul(Ue,ht)|0,l=l+Math.imul(Ue,dt)|0,l=l+Math.imul(ze,ht)|0,w=w+Math.imul(ze,dt)|0;var E0=(A+m|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(E0>>>26)|0,E0&=67108863,m=Math.imul(Ge,ut),l=Math.imul(Ge,ct),l=l+Math.imul(je,ut)|0,w=Math.imul(je,ct),m=m+Math.imul(Ve,ht)|0,l=l+Math.imul(Ve,dt)|0,l=l+Math.imul(He,ht)|0,w=w+Math.imul(He,dt)|0;var _0=(A+m|0)+((l&8191)<<13)|0;A=(w+(l>>>13)|0)+(_0>>>26)|0,_0&=67108863,m=Math.imul(Ge,ht),l=Math.imul(Ge,dt),l=l+Math.imul(je,ht)|0,w=Math.imul(je,dt);var A0=(A+m|0)+((l&8191)<<13)|0;return A=(w+(l>>>13)|0)+(A0>>>26)|0,A0&=67108863,B[0]=o0,B[1]=f0,B[2]=u0,B[3]=c0,B[4]=h0,B[5]=d0,B[6]=l0,B[7]=p0,B[8]=b0,B[9]=y0,B[10]=v0,B[11]=g0,B[12]=x0,B[13]=m0,B[14]=w0,B[15]=S0,B[16]=E0,B[17]=_0,B[18]=A0,A!==0&&(B[19]=A,y.length++),y};Math.imul||(v=S);function _(E,h,p){p.negative=h.negative^E.negative,p.length=E.length+h.length;for(var y=0,g=0,x=0;x<p.length-1;x++){var B=g;g=0;for(var A=y&67108863,m=Math.min(x,h.length-1),l=Math.max(0,x-E.length+1);l<=m;l++){var w=x-l,z=E.words[w]|0,V=h.words[l]|0,j=z*V,W=j&67108863;B=B+(j/67108864|0)|0,W=W+A|0,A=W&67108863,B=B+(W>>>26)|0,g+=B>>>26,B&=67108863}p.words[x]=A,y=B,B=g}return y!==0?p.words[x]=y:p.length--,p.strip()}function T(E,h,p){var y=new C;return y.mulp(E,h,p)}n.prototype.mulTo=function(h,p){var y,g=this.length+h.length;return this.length===10&&h.length===10?y=v(this,h,p):g<63?y=S(this,h,p):g<1024?y=_(this,h,p):y=T(this,h,p),y};function C(E,h){this.x=E,this.y=h}C.prototype.makeRBT=function(h){for(var p=new Array(h),y=n.prototype._countBits(h)-1,g=0;g<h;g++)p[g]=this.revBin(g,y,h);return p},C.prototype.revBin=function(h,p,y){if(h===0||h===y-1)return h;for(var g=0,x=0;x<p;x++)g|=(h&1)<<p-x-1,h>>=1;return g},C.prototype.permute=function(h,p,y,g,x,B){for(var A=0;A<B;A++)g[A]=p[h[A]],x[A]=y[h[A]]},C.prototype.transform=function(h,p,y,g,x,B){this.permute(B,h,p,y,g,x);for(var A=1;A<x;A<<=1)for(var m=A<<1,l=Math.cos(2*Math.PI/m),w=Math.sin(2*Math.PI/m),z=0;z<x;z+=m)for(var V=l,j=w,W=0;W<A;W++){var X=y[z+W],Q=g[z+W],Ce=y[z+W+A],ee=g[z+W+A],ie=V*Ce-j*ee;ee=V*ee+j*Ce,Ce=ie,y[z+W]=X+Ce,g[z+W]=Q+ee,y[z+W+A]=X-Ce,g[z+W+A]=Q-ee,W!==m&&(ie=l*V-w*j,j=l*j+w*V,V=ie)}},C.prototype.guessLen13b=function(h,p){var y=Math.max(p,h)|1,g=y&1,x=0;for(y=y/2|0;y;y=y>>>1)x++;return 1<<x+1+g},C.prototype.conjugate=function(h,p,y){if(!(y<=1))for(var g=0;g<y/2;g++){var x=h[g];h[g]=h[y-g-1],h[y-g-1]=x,x=p[g],p[g]=-p[y-g-1],p[y-g-1]=-x}},C.prototype.normalize13b=function(h,p){for(var y=0,g=0;g<p/2;g++){var x=Math.round(h[2*g+1]/p)*8192+Math.round(h[2*g]/p)+y;h[g]=x&67108863,x<67108864?y=0:y=x/67108864|0}return h},C.prototype.convert13b=function(h,p,y,g){for(var x=0,B=0;B<p;B++)x=x+(h[B]|0),y[2*B]=x&8191,x=x>>>13,y[2*B+1]=x&8191,x=x>>>13;for(B=2*p;B<g;++B)y[B]=0;r(x===0),r((x&~8191)==0)},C.prototype.stub=function(h){for(var p=new Array(h),y=0;y<h;y++)p[y]=0;return p},C.prototype.mulp=function(h,p,y){var g=2*this.guessLen13b(h.length,p.length),x=this.makeRBT(g),B=this.stub(g),A=new Array(g),m=new Array(g),l=new Array(g),w=new Array(g),z=new Array(g),V=new Array(g),j=y.words;j.length=g,this.convert13b(h.words,h.length,A,g),this.convert13b(p.words,p.length,w,g),this.transform(A,B,m,l,g,x),this.transform(w,B,z,V,g,x);for(var W=0;W<g;W++){var X=m[W]*z[W]-l[W]*V[W];l[W]=m[W]*V[W]+l[W]*z[W],m[W]=X}return this.conjugate(m,l,g),this.transform(m,l,j,B,g,x),this.conjugate(j,B,g),this.normalize13b(j,g),y.negative=h.negative^p.negative,y.length=h.length+p.length,y.strip()},n.prototype.mul=function(h){var p=new n(null);return p.words=new Array(this.length+h.length),this.mulTo(h,p)},n.prototype.mulf=function(h){var p=new n(null);return p.words=new Array(this.length+h.length),T(this,h,p)},n.prototype.imul=function(h){return this.clone().mulTo(h,this)},n.prototype.imuln=function(h){r(typeof h=="number"),r(h<67108864);for(var p=0,y=0;y<this.length;y++){var g=(this.words[y]|0)*h,x=(g&67108863)+(p&67108863);p>>=26,p+=g/67108864|0,p+=x>>>26,this.words[y]=x&67108863}return p!==0&&(this.words[y]=p,this.length++),this},n.prototype.muln=function(h){return this.clone().imuln(h)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(h){var p=b(h);if(p.length===0)return new n(1);for(var y=this,g=0;g<p.length&&p[g]===0;g++,y=y.sqr());if(++g<p.length)for(var x=y.sqr();g<p.length;g++,x=x.sqr())p[g]!==0&&(y=y.mul(x));return y},n.prototype.iushln=function(h){r(typeof h=="number"&&h>=0);var p=h%26,y=(h-p)/26,g=67108863>>>26-p<<26-p,x;if(p!==0){var B=0;for(x=0;x<this.length;x++){var A=this.words[x]&g,m=(this.words[x]|0)-A<<p;this.words[x]=m|B,B=A>>>26-p}B&&(this.words[x]=B,this.length++)}if(y!==0){for(x=this.length-1;x>=0;x--)this.words[x+y]=this.words[x];for(x=0;x<y;x++)this.words[x]=0;this.length+=y}return this.strip()},n.prototype.ishln=function(h){return r(this.negative===0),this.iushln(h)},n.prototype.iushrn=function(h,p,y){r(typeof h=="number"&&h>=0);var g;p?g=(p-p%26)/26:g=0;var x=h%26,B=Math.min((h-x)/26,this.length),A=67108863^67108863>>>x<<x,m=y;if(g-=B,g=Math.max(0,g),m){for(var l=0;l<B;l++)m.words[l]=this.words[l];m.length=B}if(B!==0)if(this.length>B)for(this.length-=B,l=0;l<this.length;l++)this.words[l]=this.words[l+B];else this.words[0]=0,this.length=1;var w=0;for(l=this.length-1;l>=0&&(w!==0||l>=g);l--){var z=this.words[l]|0;this.words[l]=w<<26-x|z>>>x,w=z&A}return m&&w!==0&&(m.words[m.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(h,p,y){return r(this.negative===0),this.iushrn(h,p,y)},n.prototype.shln=function(h){return this.clone().ishln(h)},n.prototype.ushln=function(h){return this.clone().iushln(h)},n.prototype.shrn=function(h){return this.clone().ishrn(h)},n.prototype.ushrn=function(h){return this.clone().iushrn(h)},n.prototype.testn=function(h){r(typeof h=="number"&&h>=0);var p=h%26,y=(h-p)/26,g=1<<p;if(this.length<=y)return!1;var x=this.words[y];return!!(x&g)},n.prototype.imaskn=function(h){r(typeof h=="number"&&h>=0);var p=h%26,y=(h-p)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(p!==0&&y++,this.length=Math.min(y,this.length),p!==0){var g=67108863^67108863>>>p<<p;this.words[this.length-1]&=g}return this.strip()},n.prototype.maskn=function(h){return this.clone().imaskn(h)},n.prototype.iaddn=function(h){return r(typeof h=="number"),r(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},n.prototype._iaddn=function(h){this.words[0]+=h;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},n.prototype.isubn=function(h){if(r(typeof h=="number"),r(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},n.prototype.addn=function(h){return this.clone().iaddn(h)},n.prototype.subn=function(h){return this.clone().isubn(h)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(h,p,y){var g=h.length+y,x;this._expand(g);var B,A=0;for(x=0;x<h.length;x++){B=(this.words[x+y]|0)+A;var m=(h.words[x]|0)*p;B-=m&67108863,A=(B>>26)-(m/67108864|0),this.words[x+y]=B&67108863}for(;x<this.length-y;x++)B=(this.words[x+y]|0)+A,A=B>>26,this.words[x+y]=B&67108863;if(A===0)return this.strip();for(r(A===-1),A=0,x=0;x<this.length;x++)B=-(this.words[x]|0)+A,A=B>>26,this.words[x]=B&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(h,p){var y=this.length-h.length,g=this.clone(),x=h,B=x.words[x.length-1]|0,A=this._countBits(B);y=26-A,y!==0&&(x=x.ushln(y),g.iushln(y),B=x.words[x.length-1]|0);var m=g.length-x.length,l;if(p!=="mod"){l=new n(null),l.length=m+1,l.words=new Array(l.length);for(var w=0;w<l.length;w++)l.words[w]=0}var z=g.clone()._ishlnsubmul(x,1,m);z.negative===0&&(g=z,l&&(l.words[m]=1));for(var V=m-1;V>=0;V--){var j=(g.words[x.length+V]|0)*67108864+(g.words[x.length+V-1]|0);for(j=Math.min(j/B|0,67108863),g._ishlnsubmul(x,j,V);g.negative!==0;)j--,g.negative=0,g._ishlnsubmul(x,1,V),g.isZero()||(g.negative^=1);l&&(l.words[V]=j)}return l&&l.strip(),g.strip(),p!=="div"&&y!==0&&g.iushrn(y),{div:l||null,mod:g}},n.prototype.divmod=function(h,p,y){if(r(!h.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var g,x,B;return this.negative!==0&&h.negative===0?(B=this.neg().divmod(h,p),p!=="mod"&&(g=B.div.neg()),p!=="div"&&(x=B.mod.neg(),y&&x.negative!==0&&x.iadd(h)),{div:g,mod:x}):this.negative===0&&h.negative!==0?(B=this.divmod(h.neg(),p),p!=="mod"&&(g=B.div.neg()),{div:g,mod:B.mod}):(this.negative&h.negative)!=0?(B=this.neg().divmod(h.neg(),p),p!=="div"&&(x=B.mod.neg(),y&&x.negative!==0&&x.isub(h)),{div:B.div,mod:x}):h.length>this.length||this.cmp(h)<0?{div:new n(0),mod:this}:h.length===1?p==="div"?{div:this.divn(h.words[0]),mod:null}:p==="mod"?{div:null,mod:new n(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new n(this.modn(h.words[0]))}:this._wordDiv(h,p)},n.prototype.div=function(h){return this.divmod(h,"div",!1).div},n.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},n.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},n.prototype.divRound=function(h){var p=this.divmod(h);if(p.mod.isZero())return p.div;var y=p.div.negative!==0?p.mod.isub(h):p.mod,g=h.ushrn(1),x=h.andln(1),B=y.cmp(g);return B<0||x===1&&B===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},n.prototype.modn=function(h){r(h<=67108863);for(var p=(1<<26)%h,y=0,g=this.length-1;g>=0;g--)y=(p*y+(this.words[g]|0))%h;return y},n.prototype.idivn=function(h){r(h<=67108863);for(var p=0,y=this.length-1;y>=0;y--){var g=(this.words[y]|0)+p*67108864;this.words[y]=g/h|0,p=g%h}return this.strip()},n.prototype.divn=function(h){return this.clone().idivn(h)},n.prototype.egcd=function(h){r(h.negative===0),r(!h.isZero());var p=this,y=h.clone();p.negative!==0?p=p.umod(h):p=p.clone();for(var g=new n(1),x=new n(0),B=new n(0),A=new n(1),m=0;p.isEven()&&y.isEven();)p.iushrn(1),y.iushrn(1),++m;for(var l=y.clone(),w=p.clone();!p.isZero();){for(var z=0,V=1;(p.words[0]&V)==0&&z<26;++z,V<<=1);if(z>0)for(p.iushrn(z);z-- >0;)(g.isOdd()||x.isOdd())&&(g.iadd(l),x.isub(w)),g.iushrn(1),x.iushrn(1);for(var j=0,W=1;(y.words[0]&W)==0&&j<26;++j,W<<=1);if(j>0)for(y.iushrn(j);j-- >0;)(B.isOdd()||A.isOdd())&&(B.iadd(l),A.isub(w)),B.iushrn(1),A.iushrn(1);p.cmp(y)>=0?(p.isub(y),g.isub(B),x.isub(A)):(y.isub(p),B.isub(g),A.isub(x))}return{a:B,b:A,gcd:y.iushln(m)}},n.prototype._invmp=function(h){r(h.negative===0),r(!h.isZero());var p=this,y=h.clone();p.negative!==0?p=p.umod(h):p=p.clone();for(var g=new n(1),x=new n(0),B=y.clone();p.cmpn(1)>0&&y.cmpn(1)>0;){for(var A=0,m=1;(p.words[0]&m)==0&&A<26;++A,m<<=1);if(A>0)for(p.iushrn(A);A-- >0;)g.isOdd()&&g.iadd(B),g.iushrn(1);for(var l=0,w=1;(y.words[0]&w)==0&&l<26;++l,w<<=1);if(l>0)for(y.iushrn(l);l-- >0;)x.isOdd()&&x.iadd(B),x.iushrn(1);p.cmp(y)>=0?(p.isub(y),g.isub(x)):(y.isub(p),x.isub(g))}var z;return p.cmpn(1)===0?z=g:z=x,z.cmpn(0)<0&&z.iadd(h),z},n.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var p=this.clone(),y=h.clone();p.negative=0,y.negative=0;for(var g=0;p.isEven()&&y.isEven();g++)p.iushrn(1),y.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;y.isEven();)y.iushrn(1);var x=p.cmp(y);if(x<0){var B=p;p=y,y=B}else if(x===0||y.cmpn(1)===0)break;p.isub(y)}while(!0);return y.iushln(g)},n.prototype.invm=function(h){return this.egcd(h).a.umod(h)},n.prototype.isEven=function(){return(this.words[0]&1)==0},n.prototype.isOdd=function(){return(this.words[0]&1)==1},n.prototype.andln=function(h){return this.words[0]&h},n.prototype.bincn=function(h){r(typeof h=="number");var p=h%26,y=(h-p)/26,g=1<<p;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var x=g,B=y;x!==0&&B<this.length;B++){var A=this.words[B]|0;A+=x,x=A>>>26,A&=67108863,this.words[B]=A}return x!==0&&(this.words[B]=x,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(h){var p=h<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var y;if(this.length>1)y=1;else{p&&(h=-h),r(h<=67108863,"Number is too big");var g=this.words[0]|0;y=g===h?0:g<h?-1:1}return this.negative!==0?-y|0:y},n.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var p=this.ucmp(h);return this.negative!==0?-p|0:p},n.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var p=0,y=this.length-1;y>=0;y--){var g=this.words[y]|0,x=h.words[y]|0;if(g!==x){g<x?p=-1:g>x&&(p=1);break}}return p},n.prototype.gtn=function(h){return this.cmpn(h)===1},n.prototype.gt=function(h){return this.cmp(h)===1},n.prototype.gten=function(h){return this.cmpn(h)>=0},n.prototype.gte=function(h){return this.cmp(h)>=0},n.prototype.ltn=function(h){return this.cmpn(h)===-1},n.prototype.lt=function(h){return this.cmp(h)===-1},n.prototype.lten=function(h){return this.cmpn(h)<=0},n.prototype.lte=function(h){return this.cmp(h)<=0},n.prototype.eqn=function(h){return this.cmpn(h)===0},n.prototype.eq=function(h){return this.cmp(h)===0},n.red=function(h){return new U(h)},n.prototype.toRed=function(h){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(h){return this.red=h,this},n.prototype.forceRed=function(h){return r(!this.red,"Already a number in reduction context"),this._forceRed(h)},n.prototype.redAdd=function(h){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},n.prototype.redIAdd=function(h){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},n.prototype.redSub=function(h){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},n.prototype.redISub=function(h){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},n.prototype.redShl=function(h){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},n.prototype.redMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},n.prototype.redIMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(h){return r(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var P={k256:null,p224:null,p192:null,p25519:null};function L(E,h){this.name=E,this.p=new n(h,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var h=new n(null);return h.words=new Array(Math.ceil(this.n/13)),h},L.prototype.ireduce=function(h){var p=h,y;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),y=p.bitLength();while(y>this.n);var g=y<this.n?-1:p.ucmp(this.p);return g===0?(p.words[0]=0,p.length=1):g>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},L.prototype.split=function(h,p){h.iushrn(this.n,0,p)},L.prototype.imulK=function(h){return h.imul(this.k)};function F(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,L),F.prototype.split=function(h,p){for(var y=4194303,g=Math.min(h.length,9),x=0;x<g;x++)p.words[x]=h.words[x];if(p.length=g,h.length<=9){h.words[0]=0,h.length=1;return}var B=h.words[9];for(p.words[p.length++]=B&y,x=10;x<h.length;x++){var A=h.words[x]|0;h.words[x-10]=(A&y)<<4|B>>>22,B=A}B>>>=22,h.words[x-10]=B,B===0&&h.length>10?h.length-=10:h.length-=9},F.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var p=0,y=0;y<h.length;y++){var g=h.words[y]|0;p+=g*977,h.words[y]=p&67108863,p=g*64+(p/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function k(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(k,L);function q(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(q,L);function H(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(H,L),H.prototype.imulK=function(h){for(var p=0,y=0;y<h.length;y++){var g=(h.words[y]|0)*19+p,x=g&67108863;g>>>=26,h.words[y]=x,p=g}return p!==0&&(h.words[h.length++]=p),h},n._prime=function(h){if(P[h])return P[h];var p;if(h==="k256")p=new F;else if(h==="p224")p=new k;else if(h==="p192")p=new q;else if(h==="p25519")p=new H;else throw new Error("Unknown prime "+h);return P[h]=p,p};function U(E){if(typeof E=="string"){var h=n._prime(E);this.m=h.p,this.prime=h}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}U.prototype._verify1=function(h){r(h.negative===0,"red works only with positives"),r(h.red,"red works only with red numbers")},U.prototype._verify2=function(h,p){r((h.negative|p.negative)==0,"red works only with positives"),r(h.red&&h.red===p.red,"red works only with red numbers")},U.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},U.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},U.prototype.add=function(h,p){this._verify2(h,p);var y=h.add(p);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},U.prototype.iadd=function(h,p){this._verify2(h,p);var y=h.iadd(p);return y.cmp(this.m)>=0&&y.isub(this.m),y},U.prototype.sub=function(h,p){this._verify2(h,p);var y=h.sub(p);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},U.prototype.isub=function(h,p){this._verify2(h,p);var y=h.isub(p);return y.cmpn(0)<0&&y.iadd(this.m),y},U.prototype.shl=function(h,p){return this._verify1(h),this.imod(h.ushln(p))},U.prototype.imul=function(h,p){return this._verify2(h,p),this.imod(h.imul(p))},U.prototype.mul=function(h,p){return this._verify2(h,p),this.imod(h.mul(p))},U.prototype.isqr=function(h){return this.imul(h,h.clone())},U.prototype.sqr=function(h){return this.mul(h,h)},U.prototype.sqrt=function(h){if(h.isZero())return h.clone();var p=this.m.andln(3);if(r(p%2==1),p===3){var y=this.m.add(new n(1)).iushrn(2);return this.pow(h,y)}for(var g=this.m.subn(1),x=0;!g.isZero()&&g.andln(1)===0;)x++,g.iushrn(1);r(!g.isZero());var B=new n(1).toRed(this),A=B.redNeg(),m=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);this.pow(l,m).cmp(A)!==0;)l.redIAdd(A);for(var w=this.pow(l,g),z=this.pow(h,g.addn(1).iushrn(1)),V=this.pow(h,g),j=x;V.cmp(B)!==0;){for(var W=V,X=0;W.cmp(B)!==0;X++)W=W.redSqr();r(X<j);var Q=this.pow(w,new n(1).iushln(j-X-1));z=z.redMul(Q),w=Q.redSqr(),V=V.redMul(w),j=X}return z},U.prototype.invm=function(h){var p=h._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},U.prototype.pow=function(h,p){if(p.isZero())return new n(1).toRed(this);if(p.cmpn(1)===0)return h.clone();var y=4,g=new Array(1<<y);g[0]=new n(1).toRed(this),g[1]=h;for(var x=2;x<g.length;x++)g[x]=this.mul(g[x-1],h);var B=g[0],A=0,m=0,l=p.bitLength()%26;for(l===0&&(l=26),x=p.length-1;x>=0;x--){for(var w=p.words[x],z=l-1;z>=0;z--){var V=w>>z&1;if(B!==g[0]&&(B=this.sqr(B)),V===0&&A===0){m=0;continue}A<<=1,A|=V,m++,!(m!==y&&(x!==0||z!==0))&&(B=this.mul(B,g[A]),m=0,A=0)}l=26}return B},U.prototype.convertTo=function(h){var p=h.umod(this.m);return p===h?p.clone():p},U.prototype.convertFrom=function(h){var p=h.clone();return p.red=null,p},n.mont=function(h){return new J(h)};function J(E){U.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(J,U),J.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},J.prototype.convertFrom=function(h){var p=this.imod(h.mul(this.rinv));return p.red=null,p},J.prototype.imul=function(h,p){if(h.isZero()||p.isZero())return h.words[0]=0,h.length=1,h;var y=h.imul(p),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=y.isub(g).iushrn(this.shift),B=x;return x.cmp(this.m)>=0?B=x.isub(this.m):x.cmpn(0)<0&&(B=x.iadd(this.m)),B._forceRed(this)},J.prototype.mul=function(h,p){if(h.isZero()||p.isZero())return new n(0)._forceRed(this);var y=h.mul(p),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=y.isub(g).iushrn(this.shift),B=x;return x.cmp(this.m)>=0?B=x.isub(this.m):x.cmpn(0)<0&&(B=x.iadd(this.m)),B._forceRed(this)},J.prototype.invm=function(h){var p=this.imod(h._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof wf=="undefined"||wf,w1)});var xi=M((qw,E1)=>{E1.exports=S1;function S1(t,e){if(!t)throw new Error(e||"Assertion failed")}S1.equal=function(e,r,i){if(e!=r)throw new Error(i||"Assertion failed: "+e+" != "+r)}});var Sf=M(B1=>{"use strict";var zs=B1;function $8(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var i=0;i<t.length;i++)r[i]=t[i]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!=0&&(t="0"+t);for(var i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var i=0;i<t.length;i++){var n=t.charCodeAt(i),a=n>>8,s=n&255;a?r.push(a,s):r.push(s)}return r}zs.toArray=$8;function _1(t){return t.length===1?"0"+t:t}zs.zero2=_1;function A1(t){for(var e="",r=0;r<t.length;r++)e+=_1(t[r].toString(16));return e}zs.toHex=A1;zs.encode=function(e,r){return r==="hex"?A1(e):e}});var Ht=M(I1=>{"use strict";var ur=I1,J8=Mr(),Z8=xi(),Vs=Sf();ur.assert=Z8;ur.toArray=Vs.toArray;ur.zero2=Vs.zero2;ur.toHex=Vs.toHex;ur.encode=Vs.encode;function X8(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,a=t.clone(),s=0;s<i.length;s++){var o,f=a.andln(n-1);a.isOdd()?(f>(n>>1)-1?o=(n>>1)-f:o=f,a.isubn(o)):o=0,i[s]=o,a.iushrn(1)}return i}ur.getNAF=X8;function Q8(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i=0,n=0,a;t.cmpn(-i)>0||e.cmpn(-n)>0;){var s=t.andln(3)+i&3,o=e.andln(3)+n&3;s===3&&(s=-1),o===3&&(o=-1);var f;(s&1)==0?f=0:(a=t.andln(7)+i&7,(a===3||a===5)&&o===2?f=-s:f=s),r[0].push(f);var u;(o&1)==0?u=0:(a=e.andln(7)+n&7,(a===3||a===5)&&s===2?u=-o:u=o),r[1].push(u),2*i===f+1&&(i=1-i),2*n===u+1&&(n=1-n),t.iushrn(1),e.iushrn(1)}return r}ur.getJSF=Q8;function e5(t,e,r){var i="_"+e;t.prototype[e]=function(){return this[i]!==void 0?this[i]:this[i]=r.call(this)}}ur.cachedProperty=e5;function t5(t){return typeof t=="string"?ur.toArray(t,"hex"):t}ur.parseBytes=t5;function r5(t){return new J8(t,"hex","le")}ur.intFromLE=r5});var Bf=M((Ow,Af)=>{var Ef;Af.exports=function(e){return Ef||(Ef=new mi(null)),Ef.generate(e)};function mi(t){this.rand=t}Af.exports.Rand=mi;mi.prototype.generate=function(e){return this._rand(e)};mi.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),i=0;i<r.length;i++)r[i]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?mi.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?mi.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(mi.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(_f=ha(),typeof _f.randomBytes!="function")throw new Error("Not supported");mi.prototype._rand=function(e){return _f.randomBytes(e)}}catch(t){}var _f});var Ea=M((Fw,C1)=>{"use strict";var $i=Mr(),Sa=Ht(),Hs=Sa.getNAF,i5=Sa.getJSF,Gs=Sa.assert;function wi(t,e){this.type=t,this.p=new $i(e.p,16),this.red=e.prime?$i.red(e.prime):$i.mont(this.p),this.zero=new $i(0).toRed(this.red),this.one=new $i(1).toRed(this.red),this.two=new $i(2).toRed(this.red),this.n=e.n&&new $i(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}C1.exports=wi;wi.prototype.point=function(){throw new Error("Not implemented")};wi.prototype.validate=function(){throw new Error("Not implemented")};wi.prototype._fixedNafMul=function(e,r){Gs(e.precomputed);var i=e._getDoubles(),n=Hs(r,1,this._bitLength),a=(1<<i.step+1)-(i.step%2==0?2:1);a/=3;var s=[],o,f;for(o=0;o<n.length;o+=i.step){f=0;for(var u=o+i.step-1;u>=o;u--)f=(f<<1)+n[u];s.push(f)}for(var c=this.jpoint(null,null,null),d=this.jpoint(null,null,null),b=a;b>0;b--){for(o=0;o<s.length;o++)f=s[o],f===b?d=d.mixedAdd(i.points[o]):f===-b&&(d=d.mixedAdd(i.points[o].neg()));c=c.add(d)}return c.toP()};wi.prototype._wnafMul=function(e,r){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var a=n.points,s=Hs(r,i,this._bitLength),o=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var u=0;f>=0&&s[f]===0;f--)u++;if(f>=0&&u++,o=o.dblp(u),f<0)break;var c=s[f];Gs(c!==0),e.type==="affine"?c>0?o=o.mixedAdd(a[c-1>>1]):o=o.mixedAdd(a[-c-1>>1].neg()):c>0?o=o.add(a[c-1>>1]):o=o.add(a[-c-1>>1].neg())}return e.type==="affine"?o.toP():o};wi.prototype._wnafMulAdd=function(e,r,i,n,a){var s=this._wnafT1,o=this._wnafT2,f=this._wnafT3,u=0,c,d,b;for(c=0;c<n;c++){b=r[c];var S=b._getNAFPoints(e);s[c]=S.wnd,o[c]=S.points}for(c=n-1;c>=1;c-=2){var v=c-1,_=c;if(s[v]!==1||s[_]!==1){f[v]=Hs(i[v],s[v],this._bitLength),f[_]=Hs(i[_],s[_],this._bitLength),u=Math.max(f[v].length,u),u=Math.max(f[_].length,u);continue}var T=[r[v],null,null,r[_]];r[v].y.cmp(r[_].y)===0?(T[1]=r[v].add(r[_]),T[2]=r[v].toJ().mixedAdd(r[_].neg())):r[v].y.cmp(r[_].y.redNeg())===0?(T[1]=r[v].toJ().mixedAdd(r[_]),T[2]=r[v].add(r[_].neg())):(T[1]=r[v].toJ().mixedAdd(r[_]),T[2]=r[v].toJ().mixedAdd(r[_].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],P=i5(i[v],i[_]);for(u=Math.max(P[0].length,u),f[v]=new Array(u),f[_]=new Array(u),d=0;d<u;d++){var L=P[0][d]|0,F=P[1][d]|0;f[v][d]=C[(L+1)*3+(F+1)],f[_][d]=0,o[v]=T}}var k=this.jpoint(null,null,null),q=this._wnafT4;for(c=u;c>=0;c--){for(var H=0;c>=0;){var U=!0;for(d=0;d<n;d++)q[d]=f[d][c]|0,q[d]!==0&&(U=!1);if(!U)break;H++,c--}if(c>=0&&H++,k=k.dblp(H),c<0)break;for(d=0;d<n;d++){var J=q[d];J!==0&&(J>0?b=o[d][J-1>>1]:J<0&&(b=o[d][-J-1>>1].neg()),b.type==="affine"?k=k.mixedAdd(b):k=k.add(b))}}for(c=0;c<n;c++)o[c]=null;return a?k:k.toP()};function Xt(t,e){this.curve=t,this.type=e,this.precomputed=null}wi.BasePoint=Xt;Xt.prototype.eq=function(){throw new Error("Not implemented")};Xt.prototype.validate=function(){return this.curve.validate(this)};wi.prototype.decodePoint=function(e,r){e=Sa.toArray(e,r);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*i){e[0]===6?Gs(e[e.length-1]%2==0):e[0]===7&&Gs(e[e.length-1]%2==1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};Xt.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Xt.prototype._encode=function(e){var r=this.curve.p.byteLength(),i=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",r))};Xt.prototype.encode=function(e,r){return Sa.encode(this._encode(r),e)};Xt.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Xt.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Xt.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)n=n.dbl();i.push(n)}return{step:e,points:i}};Xt.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),a=1;a<i;a++)r[a]=r[a-1].add(n);return{wnd:e,points:r}};Xt.prototype._getBeta=function(){return null};Xt.prototype.dblp=function(e){for(var r=this,i=0;i<e;i++)r=r.dbl();return r}});var _a=M((Uw,If)=>{typeof Object.create=="function"?If.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:If.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var M1=M((zw,T1)=>{"use strict";var n5=Ht(),Ne=Mr(),Cf=_a(),qn=Ea(),a5=n5.assert;function Qt(t){qn.call(this,"short",t),this.a=new Ne(t.a,16).toRed(this.red),this.b=new Ne(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Cf(Qt,qn);T1.exports=Qt;Qt.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,i;if(e.beta)r=new Ne(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);r=n[0].cmp(n[1])<0?n[0]:n[1],r=r.toRed(this.red)}if(e.lambda)i=new Ne(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?i=a[0]:(i=a[1],a5(this.g.mul(i).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new Ne(o.a,16),b:new Ne(o.b,16)}}):s=this._getEndoBasis(i),{beta:r,lambda:i,basis:s}}};Qt.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ne.mont(e),i=new Ne(2).toRed(r).redInvm(),n=i.redNeg(),a=new Ne(3).toRed(r).redNeg().redSqrt().redMul(i),s=n.redAdd(a).fromRed(),o=n.redSub(a).fromRed();return[s,o]};Qt.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),a=new Ne(1),s=new Ne(0),o=new Ne(0),f=new Ne(1),u,c,d,b,S,v,_,T=0,C,P;i.cmpn(0)!==0;){var L=n.div(i);C=n.sub(L.mul(i)),P=o.sub(L.mul(a));var F=f.sub(L.mul(s));if(!d&&C.cmp(r)<0)u=_.neg(),c=a,d=C.neg(),b=P;else if(d&&++T==2)break;_=C,n=i,i=C,o=a,a=P,f=s,s=F}S=C.neg(),v=P;var k=d.sqr().add(b.sqr()),q=S.sqr().add(v.sqr());return q.cmp(k)>=0&&(S=u,v=c),d.negative&&(d=d.neg(),b=b.neg()),S.negative&&(S=S.neg(),v=v.neg()),[{a:d,b},{a:S,b:v}]};Qt.prototype._endoSplit=function(e){var r=this.endo.basis,i=r[0],n=r[1],a=n.b.mul(e).divRound(this.n),s=i.b.neg().mul(e).divRound(this.n),o=a.mul(i.a),f=s.mul(n.a),u=a.mul(i.b),c=s.mul(n.b),d=e.sub(o).sub(f),b=u.add(c).neg();return{k1:d,k2:b}};Qt.prototype.pointFromX=function(e,r){e=new Ne(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var a=n.fromRed().isOdd();return(r&&!a||!r&&a)&&(n=n.redNeg()),this.point(e,n)};Qt.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,i=e.y,n=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(a).cmpn(0)===0};Qt.prototype._endoWnafMulAdd=function(e,r,i){for(var n=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(r[s]),f=e[s],u=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[s*2]=f,n[s*2+1]=u,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var c=this._wnafMulAdd(1,n,a,s*2,i),d=0;d<s*2;d++)n[d]=null,a[d]=null;return c};function _t(t,e,r,i){qn.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ne(e,16),this.y=new Ne(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Cf(_t,qn.BasePoint);Qt.prototype.point=function(e,r,i){return new _t(this,e,r,i)};Qt.prototype.pointFromJSON=function(e,r){return _t.fromJSON(this,e,r)};_t.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(a){return i.point(a.x.redMul(i.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return r}};_t.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};_t.fromJSON=function(e,r,i){typeof r=="string"&&(r=JSON.parse(r));var n=e.point(r[0],r[1],i);if(!r[2])return n;function a(o){return e.point(o[0],o[1],i)}var s=r[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(a))}},n};_t.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};_t.prototype.isInfinity=function(){return this.inf};_t.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var i=r.redSqr().redISub(this.x).redISub(e.x),n=r.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};_t.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),a=i.redAdd(i).redIAdd(i).redIAdd(r).redMul(n),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};_t.prototype.getX=function(){return this.x.fromRed()};_t.prototype.getY=function(){return this.y.fromRed()};_t.prototype.mul=function(e){return e=new Ne(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};_t.prototype.mulAdd=function(e,r,i){var n=[this,r],a=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,a):this.curve._wnafMulAdd(1,n,a,2)};_t.prototype.jmulAdd=function(e,r,i){var n=[this,r],a=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,a,!0):this.curve._wnafMulAdd(1,n,a,2,!0)};_t.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};_t.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(a){return a.neg()};r.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return r};_t.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Ct(t,e,r,i){qn.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ne(0)):(this.x=new Ne(e,16),this.y=new Ne(r,16),this.z=new Ne(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Cf(Ct,qn.BasePoint);Qt.prototype.jpoint=function(e,r,i){return new Ct(this,e,r,i)};Ct.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),i=this.x.redMul(r),n=this.y.redMul(r).redMul(e);return this.curve.point(i,n)};Ct.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Ct.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(r),a=e.x.redMul(i),s=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(i.redMul(this.z)),f=n.redSub(a),u=s.redSub(o);if(f.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=f.redSqr(),d=c.redMul(f),b=n.redMul(c),S=u.redSqr().redIAdd(d).redISub(b).redISub(b),v=u.redMul(b.redISub(S)).redISub(s.redMul(d)),_=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(S,v,_)};Ct.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),i=this.x,n=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),o=i.redSub(n),f=a.redSub(s);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),d=i.redMul(u),b=f.redSqr().redIAdd(c).redISub(d).redISub(d),S=f.redMul(d.redISub(b)).redISub(a.redMul(c)),v=this.z.redMul(o);return this.curve.jpoint(b,S,v)};Ct.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var i=this;for(r=0;r<e;r++)i=i.dbl();return i}var n=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,f=this.z,u=f.redSqr().redSqr(),c=o.redAdd(o);for(r=0;r<e;r++){var d=s.redSqr(),b=c.redSqr(),S=b.redSqr(),v=d.redAdd(d).redIAdd(d).redIAdd(n.redMul(u)),_=s.redMul(b),T=v.redSqr().redISub(_.redAdd(_)),C=_.redISub(T),P=v.redMul(C);P=P.redIAdd(P).redISub(S);var L=c.redMul(f);r+1<e&&(u=u.redMul(S)),s=T,f=L,c=P}return this.curve.jpoint(s,c.redMul(a),f)};Ct.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Ct.prototype._zeroDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var f=n.redAdd(n).redIAdd(n),u=f.redSqr().redISub(o).redISub(o),c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),e=u,r=f.redMul(o.redISub(u)).redISub(c),i=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),b=this.y.redSqr(),S=b.redSqr(),v=this.x.redAdd(b).redSqr().redISub(d).redISub(S);v=v.redIAdd(v);var _=d.redAdd(d).redIAdd(d),T=_.redSqr(),C=S.redIAdd(S);C=C.redIAdd(C),C=C.redIAdd(C),e=T.redISub(v).redISub(v),r=_.redMul(v.redISub(e)).redISub(C),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,r,i)};Ct.prototype._threeDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var f=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=f.redSqr().redISub(o).redISub(o);e=u;var c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),r=f.redMul(o.redISub(u)).redISub(c),i=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),b=this.y.redSqr(),S=this.x.redMul(b),v=this.x.redSub(d).redMul(this.x.redAdd(d));v=v.redAdd(v).redIAdd(v);var _=S.redIAdd(S);_=_.redIAdd(_);var T=_.redAdd(_);e=v.redSqr().redISub(T),i=this.y.redAdd(this.z).redSqr().redISub(b).redISub(d);var C=b.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=v.redMul(_.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,i)};Ct.prototype._dbl=function(){var e=this.curve.a,r=this.x,i=this.y,n=this.z,a=n.redSqr().redSqr(),s=r.redSqr(),o=i.redSqr(),f=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),u=r.redAdd(r);u=u.redIAdd(u);var c=u.redMul(o),d=f.redSqr().redISub(c.redAdd(c)),b=c.redISub(d),S=o.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var v=f.redMul(b).redISub(S),_=i.redAdd(i).redMul(n);return this.curve.jpoint(d,v,_)};Ct.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr(),n=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(n);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var f=o.redSqr(),u=n.redIAdd(n);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var c=a.redIAdd(o).redSqr().redISub(s).redISub(f).redISub(u),d=r.redMul(c);d=d.redIAdd(d),d=d.redIAdd(d);var b=this.x.redMul(f).redISub(d);b=b.redIAdd(b),b=b.redIAdd(b);var S=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(f)));S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var v=this.z.redAdd(o).redSqr().redISub(i).redISub(f);return this.curve.jpoint(b,S,v)};Ct.prototype.mul=function(e,r){return e=new Ne(e,r),this.curve._wnafMul(this,e)};Ct.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var n=r.redMul(this.z),a=i.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(n)).cmpn(0)===0};Ct.prototype.eqXToP=function(e){var r=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),a=this.curve.redN.redMul(r);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(a),this.x.cmp(i)===0)return!0}};Ct.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Ct.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var L1=M((Vw,P1)=>{"use strict";var kn=Mr(),R1=_a(),js=Ea(),s5=Ht();function Kn(t){js.call(this,"mont",t),this.a=new kn(t.a,16).toRed(this.red),this.b=new kn(t.b,16).toRed(this.red),this.i4=new kn(4).toRed(this.red).redInvm(),this.two=new kn(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}R1(Kn,js);P1.exports=Kn;Kn.prototype.validate=function(e){var r=e.normalize().x,i=r.redSqr(),n=i.redMul(r).redAdd(i.redMul(this.a)).redAdd(r),a=n.redSqrt();return a.redSqr().cmp(n)===0};function At(t,e,r){js.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new kn(e,16),this.z=new kn(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}R1(At,js.BasePoint);Kn.prototype.decodePoint=function(e,r){return this.point(s5.toArray(e,r),1)};Kn.prototype.point=function(e,r){return new At(this,e,r)};Kn.prototype.pointFromJSON=function(e){return At.fromJSON(this,e)};At.prototype.precompute=function(){};At.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};At.fromJSON=function(e,r){return new At(e,r[0],r[1]||e.one)};At.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};At.prototype.isInfinity=function(){return this.z.cmpn(0)===0};At.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),i=this.x.redSub(this.z),n=i.redSqr(),a=r.redSub(n),s=r.redMul(n),o=a.redMul(n.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};At.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};At.prototype.diffAdd=function(e,r){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),a=e.x.redAdd(e.z),s=e.x.redSub(e.z),o=s.redMul(i),f=a.redMul(n),u=r.z.redMul(o.redAdd(f).redSqr()),c=r.x.redMul(o.redISub(f).redSqr());return this.curve.point(u,c)};At.prototype.mul=function(e){for(var r=e.clone(),i=this,n=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(i=i.diffAdd(n,a),n=n.dbl()):(n=i.diffAdd(n,a),i=i.dbl());return n};At.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};At.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};At.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};At.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};At.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var q1=M((Hw,D1)=>{"use strict";var o5=Ht(),Zr=Mr(),N1=_a(),Ys=Ea(),f5=o5.assert;function Rr(t){this.twisted=(t.a|0)!=1,this.mOneA=this.twisted&&(t.a|0)==-1,this.extended=this.mOneA,Ys.call(this,"edwards",t),this.a=new Zr(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Zr(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Zr(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),f5(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)==1}N1(Rr,Ys);D1.exports=Rr;Rr.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Rr.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Rr.prototype.jpoint=function(e,r,i,n){return this.point(e,r,i,n)};Rr.prototype.pointFromX=function(e,r){e=new Zr(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=this.c2.redSub(this.a.redMul(i)),a=this.one.redSub(this.c2.redMul(this.d).redMul(i)),s=n.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var f=o.fromRed().isOdd();return(r&&!f||!r&&f)&&(o=o.redNeg()),this.point(e,o)};Rr.prototype.pointFromY=function(e,r){e=new Zr(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=i.redSub(this.c2),a=i.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};Rr.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),i=e.y.redSqr(),n=r.redMul(this.a).redAdd(i),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(i)));return n.cmp(a)===0};function Ie(t,e,r,i,n){Ys.BasePoint.call(this,t,"projective"),e===null&&r===null&&i===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Zr(e,16),this.y=new Zr(r,16),this.z=i?new Zr(i,16):this.curve.one,this.t=n&&new Zr(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}N1(Ie,Ys.BasePoint);Rr.prototype.pointFromJSON=function(e){return Ie.fromJSON(this,e)};Rr.prototype.point=function(e,r,i,n){return new Ie(this,e,r,i,n)};Ie.fromJSON=function(e,r){return new Ie(e,r[0],r[1],r[2])};Ie.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ie.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Ie.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=n.redAdd(r),o=s.redSub(i),f=n.redSub(r),u=a.redMul(o),c=s.redMul(f),d=a.redMul(f),b=o.redMul(s);return this.curve.point(u,c,b,d)};Ie.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),i=this.y.redSqr(),n,a,s,o,f,u;if(this.curve.twisted){o=this.curve._mulA(r);var c=o.redAdd(i);this.zOne?(n=e.redSub(r).redSub(i).redMul(c.redSub(this.curve.two)),a=c.redMul(o.redSub(i)),s=c.redSqr().redSub(c).redSub(c)):(f=this.z.redSqr(),u=c.redSub(f).redISub(f),n=e.redSub(r).redISub(i).redMul(u),a=c.redMul(o.redSub(i)),s=c.redMul(u))}else o=r.redAdd(i),f=this.curve._mulC(this.z).redSqr(),u=o.redSub(f).redSub(f),n=this.curve._mulC(e.redISub(o)).redMul(u),a=this.curve._mulC(o).redMul(r.redISub(i)),s=o.redMul(u);return this.curve.point(n,a,s)};Ie.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Ie.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),s=i.redSub(r),o=a.redSub(n),f=a.redAdd(n),u=i.redAdd(r),c=s.redMul(o),d=f.redMul(u),b=s.redMul(u),S=o.redMul(f);return this.curve.point(c,d,S,b)};Ie.prototype._projAdd=function(e){var r=this.z.redMul(e.z),i=r.redSqr(),n=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(n).redMul(a),o=i.redSub(s),f=i.redAdd(s),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(a),c=r.redMul(o).redMul(u),d,b;return this.curve.twisted?(d=r.redMul(f).redMul(a.redSub(this.curve._mulA(n))),b=o.redMul(f)):(d=r.redMul(f).redMul(a.redSub(n)),b=this.curve._mulC(o).redMul(f)),this.curve.point(c,d,b)};Ie.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Ie.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Ie.prototype.mulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!1)};Ie.prototype.jmulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!0)};Ie.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Ie.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Ie.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Ie.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Ie.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Ie.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}};Ie.prototype.toP=Ie.prototype.normalize;Ie.prototype.mixedAdd=Ie.prototype.add});var Tf=M(k1=>{"use strict";var Ws=k1;Ws.base=Ea();Ws.short=M1();Ws.mont=L1();Ws.edwards=q1()});var cr=M(Ee=>{"use strict";var u5=xi(),c5=_a();Ee.inherits=c5;function h5(t,e){return(t.charCodeAt(e)&64512)!=55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)==56320}function d5(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var a=t.charCodeAt(n);a<128?r[i++]=a:a<2048?(r[i++]=a>>6|192,r[i++]=a&63|128):h5(t,n)?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),r[i++]=a>>18|240,r[i++]=a>>12&63|128,r[i++]=a>>6&63|128,r[i++]=a&63|128):(r[i++]=a>>12|224,r[i++]=a>>6&63|128,r[i++]=a&63|128)}else for(n=0;n<t.length;n++)r[n]=t[n]|0;return r}Ee.toArray=d5;function l5(t){for(var e="",r=0;r<t.length;r++)e+=O1(t[r].toString(16));return e}Ee.toHex=l5;function K1(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Ee.htonl=K1;function p5(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];e==="little"&&(n=K1(n)),r+=F1(n.toString(16))}return r}Ee.toHex32=p5;function O1(t){return t.length===1?"0"+t:t}Ee.zero2=O1;function F1(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Ee.zero8=F1;function b5(t,e,r,i){var n=r-e;u5(n%4==0);for(var a=new Array(n/4),s=0,o=e;s<a.length;s++,o+=4){var f;i==="big"?f=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:f=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],a[s]=f>>>0}return a}Ee.join32=b5;function y5(t,e){for(var r=new Array(t.length*4),i=0,n=0;i<t.length;i++,n+=4){var a=t[i];e==="big"?(r[n]=a>>>24,r[n+1]=a>>>16&255,r[n+2]=a>>>8&255,r[n+3]=a&255):(r[n+3]=a>>>24,r[n+2]=a>>>16&255,r[n+1]=a>>>8&255,r[n]=a&255)}return r}Ee.split32=y5;function v5(t,e){return t>>>e|t<<32-e}Ee.rotr32=v5;function g5(t,e){return t<<e|t>>>32-e}Ee.rotl32=g5;function x5(t,e){return t+e>>>0}Ee.sum32=x5;function m5(t,e,r){return t+e+r>>>0}Ee.sum32_3=m5;function w5(t,e,r,i){return t+e+r+i>>>0}Ee.sum32_4=w5;function S5(t,e,r,i,n){return t+e+r+i+n>>>0}Ee.sum32_5=S5;function E5(t,e,r,i){var n=t[e],a=t[e+1],s=i+a>>>0,o=(s<i?1:0)+r+n;t[e]=o>>>0,t[e+1]=s}Ee.sum64=E5;function _5(t,e,r,i){var n=e+i>>>0,a=(n<e?1:0)+t+r;return a>>>0}Ee.sum64_hi=_5;function A5(t,e,r,i){var n=e+i;return n>>>0}Ee.sum64_lo=A5;function B5(t,e,r,i,n,a,s,o){var f=0,u=e;u=u+i>>>0,f+=u<e?1:0,u=u+a>>>0,f+=u<a?1:0,u=u+o>>>0,f+=u<o?1:0;var c=t+r+n+s+f;return c>>>0}Ee.sum64_4_hi=B5;function I5(t,e,r,i,n,a,s,o){var f=e+i+a+o;return f>>>0}Ee.sum64_4_lo=I5;function C5(t,e,r,i,n,a,s,o,f,u){var c=0,d=e;d=d+i>>>0,c+=d<e?1:0,d=d+a>>>0,c+=d<a?1:0,d=d+o>>>0,c+=d<o?1:0,d=d+u>>>0,c+=d<u?1:0;var b=t+r+n+s+f+c;return b>>>0}Ee.sum64_5_hi=C5;function T5(t,e,r,i,n,a,s,o,f,u){var c=e+i+a+o+u;return c>>>0}Ee.sum64_5_lo=T5;function M5(t,e,r){var i=e<<32-r|t>>>r;return i>>>0}Ee.rotr64_hi=M5;function R5(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Ee.rotr64_lo=R5;function P5(t,e,r){return t>>>r}Ee.shr64_hi=P5;function L5(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Ee.shr64_lo=L5});var On=M(z1=>{"use strict";var U1=cr(),N5=xi();function $s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}z1.BlockHash=$s;$s.prototype.update=function(e,r){if(e=U1.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=U1.join32(e,0,e.length-i,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this};$s.prototype.digest=function(e){return this.update(this._pad()),N5(this.pending===null),this._digest(e)};$s.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,i=r-(e+this.padLength)%r,n=new Array(i+this.padLength);n[0]=128;for(var a=1;a<i;a++)n[a]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)n[a++]=0;n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=e>>>24&255,n[a++]=e>>>16&255,n[a++]=e>>>8&255,n[a++]=e&255}else for(n[a++]=e&255,n[a++]=e>>>8&255,n[a++]=e>>>16&255,n[a++]=e>>>24&255,n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=0,s=8;s<this.padLength;s++)n[a++]=0;return n}});var Mf=M(Xr=>{"use strict";var D5=cr(),Pr=D5.rotr32;function q5(t,e,r,i){if(t===0)return V1(e,r,i);if(t===1||t===3)return G1(e,r,i);if(t===2)return H1(e,r,i)}Xr.ft_1=q5;function V1(t,e,r){return t&e^~t&r}Xr.ch32=V1;function H1(t,e,r){return t&e^t&r^e&r}Xr.maj32=H1;function G1(t,e,r){return t^e^r}Xr.p32=G1;function k5(t){return Pr(t,2)^Pr(t,13)^Pr(t,22)}Xr.s0_256=k5;function K5(t){return Pr(t,6)^Pr(t,11)^Pr(t,25)}Xr.s1_256=K5;function O5(t){return Pr(t,7)^Pr(t,18)^t>>>3}Xr.g0_256=O5;function F5(t){return Pr(t,17)^Pr(t,19)^t>>>10}Xr.g1_256=F5});var W1=M(($w,Y1)=>{"use strict";var Fn=cr(),U5=On(),z5=Mf(),Rf=Fn.rotl32,Aa=Fn.sum32,V5=Fn.sum32_5,H5=z5.ft_1,j1=U5.BlockHash,G5=[1518500249,1859775393,2400959708,3395469782];function Lr(){if(!(this instanceof Lr))return new Lr;j1.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Fn.inherits(Lr,j1);Y1.exports=Lr;Lr.blockSize=512;Lr.outSize=160;Lr.hmacStrength=80;Lr.padLength=64;Lr.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=Rf(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var a=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],u=this.h[4];for(n=0;n<i.length;n++){var c=~~(n/20),d=V5(Rf(a,5),H5(c,s,o,f),u,i[n],G5[c]);u=f,f=o,o=Rf(s,30),s=a,a=d}this.h[0]=Aa(this.h[0],a),this.h[1]=Aa(this.h[1],s),this.h[2]=Aa(this.h[2],o),this.h[3]=Aa(this.h[3],f),this.h[4]=Aa(this.h[4],u)};Lr.prototype._digest=function(e){return e==="hex"?Fn.toHex32(this.h,"big"):Fn.split32(this.h,"big")}});var Pf=M((Jw,J1)=>{"use strict";var Un=cr(),j5=On(),zn=Mf(),Y5=xi(),hr=Un.sum32,W5=Un.sum32_4,$5=Un.sum32_5,J5=zn.ch32,Z5=zn.maj32,X5=zn.s0_256,Q5=zn.s1_256,ex=zn.g0_256,tx=zn.g1_256,$1=j5.BlockHash,rx=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Nr(){if(!(this instanceof Nr))return new Nr;$1.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=rx,this.W=new Array(64)}Un.inherits(Nr,$1);J1.exports=Nr;Nr.blockSize=512;Nr.outSize=256;Nr.hmacStrength=192;Nr.padLength=64;Nr.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=W5(tx(i[n-2]),i[n-7],ex(i[n-15]),i[n-16]);var a=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],u=this.h[4],c=this.h[5],d=this.h[6],b=this.h[7];for(Y5(this.k.length===i.length),n=0;n<i.length;n++){var S=$5(b,Q5(u),J5(u,c,d),this.k[n],i[n]),v=hr(X5(a),Z5(a,s,o));b=d,d=c,c=u,u=hr(f,S),f=o,o=s,s=a,a=hr(S,v)}this.h[0]=hr(this.h[0],a),this.h[1]=hr(this.h[1],s),this.h[2]=hr(this.h[2],o),this.h[3]=hr(this.h[3],f),this.h[4]=hr(this.h[4],u),this.h[5]=hr(this.h[5],c),this.h[6]=hr(this.h[6],d),this.h[7]=hr(this.h[7],b)};Nr.prototype._digest=function(e){return e==="hex"?Un.toHex32(this.h,"big"):Un.split32(this.h,"big")}});var Q1=M((Zw,X1)=>{"use strict";var Lf=cr(),Z1=Pf();function Qr(){if(!(this instanceof Qr))return new Qr;Z1.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Lf.inherits(Qr,Z1);X1.exports=Qr;Qr.blockSize=512;Qr.outSize=224;Qr.hmacStrength=192;Qr.padLength=64;Qr.prototype._digest=function(e){return e==="hex"?Lf.toHex32(this.h.slice(0,7),"big"):Lf.split32(this.h.slice(0,7),"big")}});var qf=M((Xw,i2)=>{"use strict";var Ft=cr(),ix=On(),nx=xi(),Dr=Ft.rotr64_hi,qr=Ft.rotr64_lo,e2=Ft.shr64_hi,t2=Ft.shr64_lo,Si=Ft.sum64,Nf=Ft.sum64_hi,Df=Ft.sum64_lo,ax=Ft.sum64_4_hi,sx=Ft.sum64_4_lo,ox=Ft.sum64_5_hi,fx=Ft.sum64_5_lo,r2=ix.BlockHash,ux=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function dr(){if(!(this instanceof dr))return new dr;r2.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ux,this.W=new Array(160)}Ft.inherits(dr,r2);i2.exports=dr;dr.blockSize=1024;dr.outSize=512;dr.hmacStrength=192;dr.padLength=128;dr.prototype._prepareBlock=function(e,r){for(var i=this.W,n=0;n<32;n++)i[n]=e[r+n];for(;n<i.length;n+=2){var a=mx(i[n-4],i[n-3]),s=wx(i[n-4],i[n-3]),o=i[n-14],f=i[n-13],u=gx(i[n-30],i[n-29]),c=xx(i[n-30],i[n-29]),d=i[n-32],b=i[n-31];i[n]=ax(a,s,o,f,u,c,d,b),i[n+1]=sx(a,s,o,f,u,c,d,b)}};dr.prototype._update=function(e,r){this._prepareBlock(e,r);var i=this.W,n=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],f=this.h[4],u=this.h[5],c=this.h[6],d=this.h[7],b=this.h[8],S=this.h[9],v=this.h[10],_=this.h[11],T=this.h[12],C=this.h[13],P=this.h[14],L=this.h[15];nx(this.k.length===i.length);for(var F=0;F<i.length;F+=2){var k=P,q=L,H=yx(b,S),U=vx(b,S),J=cx(b,S,v,_,T,C),E=hx(b,S,v,_,T,C),h=this.k[F],p=this.k[F+1],y=i[F],g=i[F+1],x=ox(k,q,H,U,J,E,h,p,y,g),B=fx(k,q,H,U,J,E,h,p,y,g);k=px(n,a),q=bx(n,a),H=dx(n,a,s,o,f,u),U=lx(n,a,s,o,f,u);var A=Nf(k,q,H,U),m=Df(k,q,H,U);P=T,L=C,T=v,C=_,v=b,_=S,b=Nf(c,d,x,B),S=Df(d,d,x,B),c=f,d=u,f=s,u=o,s=n,o=a,n=Nf(x,B,A,m),a=Df(x,B,A,m)}Si(this.h,0,n,a),Si(this.h,2,s,o),Si(this.h,4,f,u),Si(this.h,6,c,d),Si(this.h,8,b,S),Si(this.h,10,v,_),Si(this.h,12,T,C),Si(this.h,14,P,L)};dr.prototype._digest=function(e){return e==="hex"?Ft.toHex32(this.h,"big"):Ft.split32(this.h,"big")};function cx(t,e,r,i,n){var a=t&r^~t&n;return a<0&&(a+=4294967296),a}function hx(t,e,r,i,n,a){var s=e&i^~e&a;return s<0&&(s+=4294967296),s}function dx(t,e,r,i,n){var a=t&r^t&n^r&n;return a<0&&(a+=4294967296),a}function lx(t,e,r,i,n,a){var s=e&i^e&a^i&a;return s<0&&(s+=4294967296),s}function px(t,e){var r=Dr(t,e,28),i=Dr(e,t,2),n=Dr(e,t,7),a=r^i^n;return a<0&&(a+=4294967296),a}function bx(t,e){var r=qr(t,e,28),i=qr(e,t,2),n=qr(e,t,7),a=r^i^n;return a<0&&(a+=4294967296),a}function yx(t,e){var r=Dr(t,e,14),i=Dr(t,e,18),n=Dr(e,t,9),a=r^i^n;return a<0&&(a+=4294967296),a}function vx(t,e){var r=qr(t,e,14),i=qr(t,e,18),n=qr(e,t,9),a=r^i^n;return a<0&&(a+=4294967296),a}function gx(t,e){var r=Dr(t,e,1),i=Dr(t,e,8),n=e2(t,e,7),a=r^i^n;return a<0&&(a+=4294967296),a}function xx(t,e){var r=qr(t,e,1),i=qr(t,e,8),n=t2(t,e,7),a=r^i^n;return a<0&&(a+=4294967296),a}function mx(t,e){var r=Dr(t,e,19),i=Dr(e,t,29),n=e2(t,e,6),a=r^i^n;return a<0&&(a+=4294967296),a}function wx(t,e){var r=qr(t,e,19),i=qr(e,t,29),n=t2(t,e,6),a=r^i^n;return a<0&&(a+=4294967296),a}});var s2=M((Qw,a2)=>{"use strict";var kf=cr(),n2=qf();function ei(){if(!(this instanceof ei))return new ei;n2.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}kf.inherits(ei,n2);a2.exports=ei;ei.blockSize=1024;ei.outSize=384;ei.hmacStrength=192;ei.padLength=128;ei.prototype._digest=function(e){return e==="hex"?kf.toHex32(this.h.slice(0,12),"big"):kf.split32(this.h.slice(0,12),"big")}});var o2=M(Vn=>{"use strict";Vn.sha1=W1();Vn.sha224=Q1();Vn.sha256=Pf();Vn.sha384=s2();Vn.sha512=qf()});var l2=M(d2=>{"use strict";var Ji=cr(),Sx=On(),Js=Ji.rotl32,f2=Ji.sum32,Ba=Ji.sum32_3,u2=Ji.sum32_4,c2=Sx.BlockHash;function kr(){if(!(this instanceof kr))return new kr;c2.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ji.inherits(kr,c2);d2.ripemd160=kr;kr.blockSize=512;kr.outSize=160;kr.hmacStrength=192;kr.padLength=64;kr.prototype._update=function(e,r){for(var i=this.h[0],n=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],f=i,u=n,c=a,d=s,b=o,S=0;S<80;S++){var v=f2(Js(u2(i,h2(S,n,a,s),e[Ax[S]+r],Ex(S)),Ix[S]),o);i=o,o=s,s=Js(a,10),a=n,n=v,v=f2(Js(u2(f,h2(79-S,u,c,d),e[Bx[S]+r],_x(S)),Cx[S]),b),f=b,b=d,d=Js(c,10),c=u,u=v}v=Ba(this.h[1],a,d),this.h[1]=Ba(this.h[2],s,b),this.h[2]=Ba(this.h[3],o,f),this.h[3]=Ba(this.h[4],i,u),this.h[4]=Ba(this.h[0],n,c),this.h[0]=v};kr.prototype._digest=function(e){return e==="hex"?Ji.toHex32(this.h,"little"):Ji.split32(this.h,"little")};function h2(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function Ex(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function _x(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Ax=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Bx=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ix=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Cx=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var b2=M((rS,p2)=>{"use strict";var Tx=cr(),Mx=xi();function Hn(t,e,r){if(!(this instanceof Hn))return new Hn(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Tx.toArray(e,r))}p2.exports=Hn;Hn.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Mx(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Hn.prototype.update=function(e,r){return this.inner.update(e,r),this};Hn.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var Zs=M(y2=>{var Tt=y2;Tt.utils=cr();Tt.common=On();Tt.sha=o2();Tt.ripemd=l2();Tt.hmac=b2();Tt.sha1=Tt.sha.sha1;Tt.sha256=Tt.sha.sha256;Tt.sha224=Tt.sha.sha224;Tt.sha384=Tt.sha.sha384;Tt.sha512=Tt.sha.sha512;Tt.ripemd160=Tt.ripemd.ripemd160});var g2=M((nS,v2)=>{v2.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var Xs=M(w2=>{"use strict";var Kf=w2,Ei=Zs(),Of=Tf(),Rx=Ht(),x2=Rx.assert;function m2(t){t.type==="short"?this.curve=new Of.short(t):t.type==="edwards"?this.curve=new Of.edwards(t):this.curve=new Of.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,x2(this.g.validate(),"Invalid curve"),x2(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}Kf.PresetCurve=m2;function _i(t,e){Object.defineProperty(Kf,t,{configurable:!0,enumerable:!0,get:function(){var r=new m2(e);return Object.defineProperty(Kf,t,{configurable:!0,enumerable:!0,value:r}),r}})}_i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ei.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});_i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ei.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});_i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ei.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});_i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ei.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});_i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ei.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});_i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ei.sha256,gRed:!1,g:["9"]});_i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ei.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Ff;try{Ff=g2()}catch(t){Ff=void 0}_i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ei.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Ff]})});var _2=M((sS,E2)=>{"use strict";var Px=Zs(),Zi=Sf(),S2=xi();function Ai(t){if(!(this instanceof Ai))return new Ai(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Zi.toArray(t.entropy,t.entropyEnc||"hex"),r=Zi.toArray(t.nonce,t.nonceEnc||"hex"),i=Zi.toArray(t.pers,t.persEnc||"hex");S2(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}E2.exports=Ai;Ai.prototype._init=function(e,r,i){var n=e.concat(r).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};Ai.prototype._hmac=function(){return new Px.hmac(this.hash,this.K)};Ai.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),!!e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Ai.prototype.reseed=function(e,r,i,n){typeof r!="string"&&(n=i,i=r,r=null),e=Zi.toArray(e,r),i=Zi.toArray(i,n),S2(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};Ai.prototype.generate=function(e,r,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(n=i,i=r,r=null),i&&(i=Zi.toArray(i,n||"hex"),this._update(i));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(i),this._reseed++,Zi.encode(s,r)}});var B2=M((oS,A2)=>{"use strict";var Lx=Mr(),Nx=Ht(),Uf=Nx.assert;function Pt(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}A2.exports=Pt;Pt.fromPublic=function(e,r,i){return r instanceof Pt?r:new Pt(e,{pub:r,pubEnc:i})};Pt.fromPrivate=function(e,r,i){return r instanceof Pt?r:new Pt(e,{priv:r,privEnc:i})};Pt.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Pt.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Pt.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Pt.prototype._importPrivate=function(e,r){this.priv=new Lx(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Pt.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Uf(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Uf(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Pt.prototype.derive=function(e){return e.validate()||Uf(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Pt.prototype.sign=function(e,r,i){return this.ec.sign(e,this,r,i)};Pt.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Pt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var T2=M((fS,C2)=>{"use strict";var Qs=Mr(),zf=Ht(),Dx=zf.assert;function e0(t,e){if(t instanceof e0)return t;this._importDER(t,e)||(Dx(t.r&&t.s,"Signature without r or s"),this.r=new Qs(t.r,16),this.s=new Qs(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}C2.exports=e0;function qx(){this.place=0}function Vf(t,e){var r=t[e.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,a=0,s=e.place;a<i;a++,s++)n<<=8,n|=t[s],n>>>=0;return n<=127?!1:(e.place=s,n)}function I2(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}e0.prototype._importDER=function(e,r){e=zf.toArray(e,r);var i=new qx;if(e[i.place++]!==48)return!1;var n=Vf(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var a=Vf(e,i);if(a===!1)return!1;var s=e.slice(i.place,a+i.place);if(i.place+=a,e[i.place++]!==2)return!1;var o=Vf(e,i);if(o===!1||e.length!==o+i.place)return!1;var f=e.slice(i.place,o+i.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new Qs(s),this.s=new Qs(f),this.recoveryParam=null,!0};function Hf(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}e0.prototype.toDER=function(e){var r=this.r.toArray(),i=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),i[0]&128&&(i=[0].concat(i)),r=I2(r),i=I2(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];Hf(n,r.length),n=n.concat(r),n.push(2),Hf(n,i.length);var a=n.concat(i),s=[48];return Hf(s,a.length),s=s.concat(a),zf.encode(s,e)}});var L2=M((uS,P2)=>{"use strict";var Xi=Mr(),M2=_2(),kx=Ht(),Gf=Xs(),Kx=Bf(),R2=kx.assert,jf=B2(),t0=T2();function er(t){if(!(this instanceof er))return new er(t);typeof t=="string"&&(R2(Object.prototype.hasOwnProperty.call(Gf,t),"Unknown curve "+t),t=Gf[t]),t instanceof Gf.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}P2.exports=er;er.prototype.keyPair=function(e){return new jf(this,e)};er.prototype.keyFromPrivate=function(e,r){return jf.fromPrivate(this,e,r)};er.prototype.keyFromPublic=function(e,r){return jf.fromPublic(this,e,r)};er.prototype.genKeyPair=function(e){e||(e={});for(var r=new M2({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Kx(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new Xi(2));;){var a=new Xi(r.generate(i));if(!(a.cmp(n)>0))return a.iaddn(1),this.keyFromPrivate(a)}};er.prototype._truncateToN=function(e,r){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};er.prototype.sign=function(e,r,i,n){typeof i=="object"&&(n=i,i=null),n||(n={}),r=this.keyFromPrivate(r,i),e=this._truncateToN(new Xi(e,16));for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),o=e.toArray("be",a),f=new M2({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new Xi(1)),c=0;;c++){var d=n.k?n.k(c):new Xi(f.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(u)>=0)){var b=this.g.mul(d);if(!b.isInfinity()){var S=b.getX(),v=S.umod(this.n);if(v.cmpn(0)!==0){var _=d.invm(this.n).mul(v.mul(r.getPrivate()).iadd(e));if(_=_.umod(this.n),_.cmpn(0)!==0){var T=(b.getY().isOdd()?1:0)|(S.cmp(v)!==0?2:0);return n.canonical&&_.cmp(this.nh)>0&&(_=this.n.sub(_),T^=1),new t0({r:v,s:_,recoveryParam:T})}}}}}};er.prototype.verify=function(e,r,i,n){e=this._truncateToN(new Xi(e,16)),i=this.keyFromPublic(i,n),r=new t0(r,"hex");var a=r.r,s=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),f=o.mul(e).umod(this.n),u=o.mul(a).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(f,i.getPublic(),u),c.isInfinity()?!1:c.eqXToP(a)):(c=this.g.mulAdd(f,i.getPublic(),u),c.isInfinity()?!1:c.getX().umod(this.n).cmp(a)===0)};er.prototype.recoverPubKey=function(t,e,r,i){R2((3&r)===r,"The recovery param is more than two bits"),e=new t0(e,i);var n=this.n,a=new Xi(t),s=e.r,o=e.s,f=r&1,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?s=this.curve.pointFromX(s.add(this.curve.n),f):s=this.curve.pointFromX(s,f);var c=e.r.invm(n),d=n.sub(a).mul(c).umod(n),b=o.mul(c).umod(n);return this.g.mulAdd(d,s,b)};er.prototype.getKeyRecoveryParam=function(t,e,r,i){if(e=new t0(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var a;try{a=this.recoverPubKey(t,e,n)}catch(s){continue}if(a.eq(r))return n}throw new Error("Unable to find valid recovery factor")}});var k2=M((cS,q2)=>{"use strict";var Ia=Ht(),N2=Ia.assert,D2=Ia.parseBytes,Gn=Ia.cachedProperty;function Bt(t,e){this.eddsa=t,this._secret=D2(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=D2(e.pub)}Bt.fromPublic=function(e,r){return r instanceof Bt?r:new Bt(e,{pub:r})};Bt.fromSecret=function(e,r){return r instanceof Bt?r:new Bt(e,{secret:r})};Bt.prototype.secret=function(){return this._secret};Gn(Bt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Gn(Bt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Gn(Bt,"privBytes",function(){var e=this.eddsa,r=this.hash(),i=e.encodingLength-1,n=r.slice(0,e.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n});Gn(Bt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Gn(Bt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Gn(Bt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Bt.prototype.sign=function(e){return N2(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Bt.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Bt.prototype.getSecret=function(e){return N2(this._secret,"KeyPair is public only"),Ia.encode(this.secret(),e)};Bt.prototype.getPublic=function(e){return Ia.encode(this.pubBytes(),e)};q2.exports=Bt});var O2=M((hS,K2)=>{"use strict";var Ox=Mr(),r0=Ht(),Fx=r0.assert,i0=r0.cachedProperty,Ux=r0.parseBytes;function Qi(t,e){this.eddsa=t,typeof e!="object"&&(e=Ux(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Fx(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Ox&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}i0(Qi,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});i0(Qi,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});i0(Qi,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});i0(Qi,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Qi.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Qi.prototype.toHex=function(){return r0.encode(this.toBytes(),"hex").toUpperCase()};K2.exports=Qi});var H2=M((dS,V2)=>{"use strict";var zx=Zs(),Vx=Xs(),jn=Ht(),Hx=jn.assert,F2=jn.parseBytes,U2=k2(),z2=O2();function Ut(t){if(Hx(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Ut))return new Ut(t);t=Vx[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=zx.sha512}V2.exports=Ut;Ut.prototype.sign=function(e,r){e=F2(e);var i=this.keyFromSecret(r),n=this.hashInt(i.messagePrefix(),e),a=this.g.mul(n),s=this.encodePoint(a),o=this.hashInt(s,i.pubBytes(),e).mul(i.priv()),f=n.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:f,Rencoded:s})};Ut.prototype.verify=function(e,r,i){e=F2(e),r=this.makeSignature(r);var n=this.keyFromPublic(i),a=this.hashInt(r.Rencoded(),n.pubBytes(),e),s=this.g.mul(r.S()),o=r.R().add(n.pub().mul(a));return o.eq(s)};Ut.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return jn.intFromLE(e.digest()).umod(this.curve.n)};Ut.prototype.keyFromPublic=function(e){return U2.fromPublic(this,e)};Ut.prototype.keyFromSecret=function(e){return U2.fromSecret(this,e)};Ut.prototype.makeSignature=function(e){return e instanceof z2?e:new z2(this,e)};Ut.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Ut.prototype.decodePoint=function(e){e=jn.parseBytes(e);var r=e.length-1,i=e.slice(0,r).concat(e[r]&~128),n=(e[r]&128)!=0,a=jn.intFromLE(i);return this.curve.pointFromY(a,n)};Ut.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Ut.prototype.decodeInt=function(e){return jn.intFromLE(e)};Ut.prototype.isPoint=function(e){return e instanceof this.pointClass}});var j2=M(G2=>{"use strict";var en=G2;en.version=x1().version;en.utils=Ht();en.rand=Bf();en.curve=Tf();en.curves=Xs();en.ec=L2();en.eddsa=H2()});var W2=M((pS,Y2)=>{var Gx=j2().ec,Kr=new Gx("secp256k1"),de=Kr.curve,_e=de.n.constructor;function jx(t,e){let r=new _e(e);if(r.cmp(de.p)>=0)return null;r=r.toRed(de.red);let i=r.redSqr().redIMul(r).redIAdd(de.b).redSqrt();return t===3!==i.isOdd()&&(i=i.redNeg()),Kr.keyPair({pub:{x:r,y:i}})}function Yx(t,e,r){let i=new _e(e),n=new _e(r);if(i.cmp(de.p)>=0||n.cmp(de.p)>=0||(i=i.toRed(de.red),n=n.toRed(de.red),(t===6||t===7)&&n.isOdd()!==(t===7)))return null;let a=i.redSqr().redIMul(i);return n.redSqr().redISub(a.redIAdd(de.b)).isZero()?Kr.keyPair({pub:{x:i,y:n}}):null}function Bi(t){let e=t[0];switch(e){case 2:case 3:return t.length!==33?null:jx(e,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:Yx(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function tn(t,e){let r=e.encode(null,t.length===33);for(let i=0;i<t.length;++i)t[i]=r[i]}Y2.exports={contextRandomize(){return 0},privateKeyVerify(t){let e=new _e(t);return e.cmp(de.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){let e=new _e(t),r=de.n.sub(e).umod(de.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){let r=new _e(e);if(r.cmp(de.n)>=0||(r.iadd(new _e(t)),r.cmp(de.n)>=0&&r.isub(de.n),r.isZero()))return 1;let i=r.toArrayLike(Uint8Array,"be",32);return t.set(i),0},privateKeyTweakMul(t,e){let r=new _e(e);if(r.cmp(de.n)>=0||r.isZero())return 1;r.imul(new _e(t)),r.cmp(de.n)>=0&&(r=r.umod(de.n));let i=r.toArrayLike(Uint8Array,"be",32);return t.set(i),0},publicKeyVerify(t){return Bi(t)===null?1:0},publicKeyCreate(t,e){let r=new _e(e);if(r.cmp(de.n)>=0||r.isZero())return 1;let i=Kr.keyFromPrivate(e).getPublic();return tn(t,i),0},publicKeyConvert(t,e){let r=Bi(e);if(r===null)return 1;let i=r.getPublic();return tn(t,i),0},publicKeyNegate(t,e){let r=Bi(e);if(r===null)return 1;let i=r.getPublic();return i.y=i.y.redNeg(),tn(t,i),0},publicKeyCombine(t,e){let r=new Array(e.length);for(let n=0;n<e.length;++n)if(r[n]=Bi(e[n]),r[n]===null)return 1;let i=r[0].getPublic();for(let n=1;n<r.length;++n)i=i.add(r[n].pub);return i.isInfinity()?2:(tn(t,i),0)},publicKeyTweakAdd(t,e,r){let i=Bi(e);if(i===null)return 1;if(r=new _e(r),r.cmp(de.n)>=0)return 2;let n=i.getPublic().add(de.g.mul(r));return n.isInfinity()?2:(tn(t,n),0)},publicKeyTweakMul(t,e,r){let i=Bi(e);if(i===null)return 1;if(r=new _e(r),r.cmp(de.n)>=0||r.isZero())return 2;let n=i.getPublic().mul(r);return tn(t,n),0},signatureNormalize(t){let e=new _e(t.subarray(0,32)),r=new _e(t.subarray(32,64));return e.cmp(de.n)>=0||r.cmp(de.n)>=0?1:(r.cmp(Kr.nh)===1&&t.set(de.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){let r=e.subarray(0,32),i=e.subarray(32,64);if(new _e(r).cmp(de.n)>=0||new _e(i).cmp(de.n)>=0)return 1;let{output:n}=t,a=n.subarray(4,4+33);a[0]=0,a.set(r,1);let s=33,o=0;for(;s>1&&a[o]===0&&!(a[o+1]&128);--s,++o);if(a=a.subarray(o),a[0]&128||s>1&&a[0]===0&&!(a[1]&128))return 1;let f=n.subarray(6+33,6+33+33);f[0]=0,f.set(i,1);let u=33,c=0;for(;u>1&&f[c]===0&&!(f[c+1]&128);--u,++c);return f=f.subarray(c),f[0]&128||u>1&&f[0]===0&&!(f[1]&128)?1:(t.outputlen=6+s+u,n[0]=48,n[1]=t.outputlen-2,n[2]=2,n[3]=a.length,n.set(a,4),n[4+s]=2,n[5+s]=f.length,n.set(f,6+s),0)},signatureImport(t,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return 1;let i=e[5+r];if(i===0||6+r+i!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||i>1&&e[r+6]===0&&!(e[r+7]&128))return 1;let n=e.subarray(4,4+r);if(n.length===33&&n[0]===0&&(n=n.subarray(1)),n.length>32)return 1;let a=e.subarray(6+r);if(a.length===33&&a[0]===0&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let s=new _e(n);s.cmp(de.n)>=0&&(s=new _e(0));let o=new _e(e.subarray(6+r));return o.cmp(de.n)>=0&&(o=new _e(0)),t.set(s.toArrayLike(Uint8Array,"be",32),0),t.set(o.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,i,n){if(n){let o=n;n=f=>{let u=o(e,r,null,i,f);if(!(u instanceof Uint8Array&&u.length===32))throw new Error("This is the way");return new _e(u)}}let a=new _e(r);if(a.cmp(de.n)>=0||a.isZero())return 1;let s;try{s=Kr.sign(e,r,{canonical:!0,k:n,pers:i})}catch(o){return 1}return t.signature.set(s.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(s.s.toArrayLike(Uint8Array,"be",32),32),t.recid=s.recoveryParam,0},ecdsaVerify(t,e,r){let i={r:t.subarray(0,32),s:t.subarray(32,64)},n=new _e(i.r),a=new _e(i.s);if(n.cmp(de.n)>=0||a.cmp(de.n)>=0)return 1;if(a.cmp(Kr.nh)===1||n.isZero()||a.isZero())return 3;let s=Bi(r);if(s===null)return 2;let o=s.getPublic();return Kr.verify(e,i,o)?0:3},ecdsaRecover(t,e,r,i){let n={r:e.slice(0,32),s:e.slice(32,64)},a=new _e(n.r),s=new _e(n.s);if(a.cmp(de.n)>=0||s.cmp(de.n)>=0)return 1;if(a.isZero()||s.isZero())return 2;let o;try{o=Kr.recoverPubKey(i,n,r)}catch(f){return 2}return tn(t,o),0},ecdh(t,e,r,i,n,a,s){let o=Bi(e);if(o===null)return 1;let f=new _e(r);if(f.cmp(de.n)>=0||f.isZero())return 2;let u=o.getPublic().mul(f);if(n===void 0){let c=u.encode(null,!0),d=Kr.hash().update(c).digest();for(let b=0;b<32;++b)t[b]=d[b]}else{a||(a=new Uint8Array(32));let c=u.getX().toArray("be",32);for(let v=0;v<32;++v)a[v]=c[v];s||(s=new Uint8Array(32));let d=u.getY().toArray("be",32);for(let v=0;v<32;++v)s[v]=d[v];let b=n(a,s,i);if(!(b instanceof Uint8Array&&b.length===t.length))return 2;t.set(b)}return 0}}});var J2=M((bS,$2)=>{$2.exports=g1()(W2())});var Q2=M((yS,X2)=>{"use strict";var lr=J2(),{sha256:Z2}=(Mi(),ni);X2.exports=t=>{let e=32;function r(){let c;do c=t(32);while(!lr.privateKeyVerify(c));return c}async function i(c,d){let{digest:b}=await Z2.digest(d),S=lr.ecdsaSign(b,c);return lr.signatureExport(S.signature)}async function n(c,d,b){let{digest:S}=await Z2.digest(b);return d=lr.signatureImport(d),lr.ecdsaVerify(d,S,c)}function a(c){if(!lr.publicKeyVerify(c))throw new Error("Invalid public key");return lr.publicKeyConvert(c,!0)}function s(c){return lr.publicKeyConvert(c,!1)}function o(c){if(!lr.privateKeyVerify(c))throw new Error("Invalid private key")}function f(c){if(!lr.publicKeyVerify(c))throw new Error("Invalid public key")}function u(c){return o(c),lr.publicKeyCreate(c)}return{generateKey:r,privateKeyLength:e,hashAndSign:i,hashAndVerify:n,compressPublicKey:a,decompressPublicKey:s,validatePrivateKey:o,validatePublicKey:f,computePublicKey:u}}});var ib=M((vS,rb)=>{"use strict";var{sha256:eb}=(Mi(),ni),Wx=vr(),{equals:tb}=(Tn(),Cn),{toString:$x}=(Vr(),zr),Jx=qs();rb.exports=(t,e,r)=>{r=r||Q2()(e);class i{constructor(u){r.validatePublicKey(u),this._key=u}verify(u,c){return r.hashAndVerify(this._key,c,u)}marshal(){return r.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(u){return tb(this.bytes,u.bytes)}async hash(){let{bytes:u}=await eb.digest(this.bytes);return u}}class n{constructor(u,c){this._key=u,this._publicKey=c||r.computePublicKey(u),r.validatePrivateKey(this._key),r.validatePublicKey(this._publicKey)}sign(u){return r.hashAndSign(this._key,u)}get public(){return new i(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(u){return tb(this.bytes,u.bytes)}async hash(){let{bytes:u}=await eb.digest(this.bytes);return u}async id(){let u=await this.public.hash();return $x(u,"base58btc")}async export(u,c="libp2p-key"){if(c==="libp2p-key")return Jx.export(this.bytes,u);throw Wx(new Error(`export format '${c}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function a(f){return new n(f)}function s(f){return new i(f)}async function o(){let f=await r.generateKey();return new n(f)}return{Secp256k1PublicKey:i,Secp256k1PrivateKey:n,unmarshalSecp256k1PrivateKey:a,unmarshalSecp256k1PublicKey:s,generateKeyPair:o}}});var ab=M((gS,nb)=>{"use strict";nb.exports={SHA1:20,SHA256:32,SHA512:64}});var fb=M(ob=>{"use strict";var sb=ya(),Zx=ab(),Xx={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"},Qx=async(t,e)=>{let r=await sb.get().subtle.sign({name:"HMAC"},t,e);return new Uint8Array(r,r.byteOffset,r.byteLength)};ob.create=async function(t,e){let r=Xx[t],i=await sb.get().subtle.importKey("raw",e,{name:"HMAC",hash:{name:r}},!1,["sign"]);return{async digest(n){return Qx(i,n)},length:Zx[t]}}});var lb=M((mS,db)=>{"use strict";var ub=vr(),{concat:cb}=(ba(),pa),{fromString:em}=(yi(),bi),tm=fb(),hb={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};db.exports=async(t,e,r)=>{let i=hb[t];if(!i){let P=Object.keys(hb).join(" / ");throw ub(new Error(`unknown cipher type '${t}'. Must be ${P}`),"ERR_INVALID_CIPHER_TYPE")}if(!e)throw ub(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");let n=i.keySize,a=i.ivSize,s=20,o=em("key expansion"),f=2*(a+n+s),u=await tm.create(e,r),c=await u.digest(o),d=[],b=0;for(;b<f;){let P=await u.digest(cb([c,o])),L=P.length;b+L>f&&(L=f-b),d.push(P),b+=L,c=await u.digest(c)}let S=f/2,v=cb(d),_=v.slice(0,S),T=v.slice(S,f),C=P=>({iv:P.slice(0,a),cipherKey:P.slice(a,a+n),macKey:P.slice(a+n)});return{k1:C(_),k2:C(T)}}});var bb=M((wS,pb)=>{"use strict";var rm=vr();pb.exports=function(t,e){if(!t.includes(e)){let r=t.join(" / ");throw rm(new Error(`Unknown curve: ${e}. Must be ${r}`),"ERR_INVALID_CURVE")}}});var wb=M(mb=>{"use strict";var im=vr(),Ca=ya(),{base64urlToBuffer:yb}=Ds(),nm=bb(),{toString:Yf}=(Vr(),zr),{concat:am}=(ba(),pa),{equals:sm}=(Tn(),Cn),vb={"P-256":256,"P-384":384,"P-521":521};mb.generateEphmeralKeyPair=async function(t){nm(Object.keys(vb),t);let e=await Ca.get().subtle.generateKey({name:"ECDH",namedCurve:t},!0,["deriveBits"]),r=async(n,a)=>{let s;a?s=await Ca.get().subtle.importKey("jwk",fm(t,a),{name:"ECDH",namedCurve:t},!1,["deriveBits"]):s=e.privateKey;let o=[await Ca.get().subtle.importKey("jwk",xb(t,n),{name:"ECDH",namedCurve:t},!1,[]),s],f=await Ca.get().subtle.deriveBits({name:"ECDH",namedCurve:t,public:o[0]},o[1],vb[t]);return new Uint8Array(f,f.byteOffset,f.byteLength)},i=await Ca.get().subtle.exportKey("jwk",e.publicKey);return{key:om(i),genSharedKey:r}};var gb={"P-256":32,"P-384":48,"P-521":66};function om(t){let e=gb[t.crv];return am([Uint8Array.from([4]),yb(t.x,e),yb(t.y,e)],1+e*2)}function xb(t,e){let r=gb[t];if(sm(!e.slice(0,1),Uint8Array.from([4])))throw im(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:t,x:Yf(e.slice(1,r+1),"base64url"),y:Yf(e.slice(1+r),"base64url"),ext:!0}}var fm=(t,e)=>({...xb(t,e.public),d:Yf(e.private,"base64url")})});var Eb=M((ES,Sb)=>{"use strict";var um=wb();Sb.exports=async t=>um.generateEphmeralKeyPair(t)});var Bb=M((_S,Ab)=>{"use strict";var Or=bs();Sn();_p();var Wf=ge(),Ta=vr(),{fromString:cm}=(yi(),bi),hm=Tp(),tr={rsa:c1(),ed25519:y1(),secp256k1:ib()(Or,ls())},n0={message:"secp256k1 support requires libp2p-crypto-secp256k1 package",code:"ERR_MISSING_PACKAGE"};function Yn(t){let e=tr[t.toLowerCase()];if(!e){let r=Object.keys(tr).join(" / ");throw Ta(new Error(`invalid or unsupported key type ${t}. Must be ${r}`),"ERR_UNSUPPORTED_KEY_TYPE")}return e}var dm=async(t,e)=>Yn(t).generateKeyPair(e),lm=async(t,e,r)=>{let i=Yn(t);if(t.toLowerCase()!=="ed25519")throw Ta(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return i.generateKeyPairFromSeed(e,r)},pm=t=>{let e=Or.PublicKey.decode(t),r=e.Data;switch(e.Type){case Or.KeyType.RSA:return tr.rsa.unmarshalRsaPublicKey(r);case Or.KeyType.Ed25519:return tr.ed25519.unmarshalEd25519PublicKey(r);case Or.KeyType.Secp256k1:if(tr.secp256k1)return tr.secp256k1.unmarshalSecp256k1PublicKey(r);throw Ta(new Error(n0.message),n0.code);default:Yn(e.Type)}},bm=(t,e)=>(e=(e||"rsa").toLowerCase(),Yn(e),t.bytes),_b=async t=>{let e=Or.PrivateKey.decode(t),r=e.Data;switch(e.Type){case Or.KeyType.RSA:return tr.rsa.unmarshalRsaPrivateKey(r);case Or.KeyType.Ed25519:return tr.ed25519.unmarshalEd25519PrivateKey(r);case Or.KeyType.Secp256k1:if(tr.secp256k1)return tr.secp256k1.unmarshalSecp256k1PrivateKey(r);throw Ta(new Error(n0.message),n0.code);default:Yn(e.Type)}},ym=(t,e)=>(e=(e||"rsa").toLowerCase(),Yn(e),t.bytes),vm=async(t,e)=>{try{let n=await hm.import(t,e);return _b(n)}catch(n){}let r=Wf.pki.decryptRsaPrivateKey(t,e);if(r===null)throw Ta(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let i=Wf.asn1.toDer(Wf.pki.privateKeyToAsn1(r));return i=cm(i.getBytes(),"ascii"),tr.rsa.unmarshalRsaPrivateKey(i)};Ab.exports={supportedKeys:tr,keysPBM:Or,keyStretcher:lb(),generateEphemeralKeyPair:Eb(),generateKeyPair:dm,generateKeyPairFromSeed:lm,unmarshalPublicKey:pm,marshalPublicKey:bm,unmarshalPrivateKey:_b,marshalPrivateKey:ym,import:vm}});var Ib=M((AS,$f)=>{"use strict";function gm(t,{className:e,symbolName:r}){let i=Symbol.for(r),n={[e]:class extends t{constructor(...a){super(...a);Object.defineProperty(this,i,{value:!0})}get[Symbol.toStringTag](){return e}}}[e];return n[`is${e}`]=a=>!!(a&&a[i]),n}function xm(t,{className:e,symbolName:r,withoutNew:i}){let n=Symbol.for(r),a={[e]:function(...s){if(i&&!(this instanceof a))return new a(...s);let o=t.call(this,...s)||this;return o&&!o[n]&&Object.defineProperty(o,n,{value:!0}),o}}[e];return a.prototype=Object.create(t.prototype),a.prototype.constructor=a,Object.defineProperty(a.prototype,Symbol.toStringTag,{get(){return e}}),a[`is${e}`]=s=>!!(s&&s[n]),a}$f.exports=gm;$f.exports.proto=xm});var Mb=M((BS,Tb)=>{"use strict";var Wn=as(),Cb=Wn.Reader,mm=Wn.Writer,vt=Wn.util,Ma=Wn.roots["libp2p-peer-id"]||(Wn.roots["libp2p-peer-id"]={});Ma.PeerIdProto=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.id=vt.newBuffer([]),t.prototype.pubKey=vt.newBuffer([]),t.prototype.privKey=vt.newBuffer([]),t.encode=function(r,i){return i||(i=mm.create()),i.uint32(10).bytes(r.id),r.pubKey!=null&&Object.hasOwnProperty.call(r,"pubKey")&&i.uint32(18).bytes(r.pubKey),r.privKey!=null&&Object.hasOwnProperty.call(r,"privKey")&&i.uint32(26).bytes(r.privKey),i},t.decode=function(r,i){r instanceof Cb||(r=Cb.create(r));for(var n=i===void 0?r.len:r.pos+i,a=new Ma.PeerIdProto;r.pos<n;){var s=r.uint32();switch(s>>>3){case 1:a.id=r.bytes();break;case 2:a.pubKey=r.bytes();break;case 3:a.privKey=r.bytes();break;default:r.skipType(s&7);break}}if(!a.hasOwnProperty("id"))throw vt.ProtocolError("missing required 'id'",{instance:a});return a},t.fromObject=function(r){if(r instanceof Ma.PeerIdProto)return r;var i=new Ma.PeerIdProto;return r.id!=null&&(typeof r.id=="string"?vt.base64.decode(r.id,i.id=vt.newBuffer(vt.base64.length(r.id)),0):r.id.length&&(i.id=r.id)),r.pubKey!=null&&(typeof r.pubKey=="string"?vt.base64.decode(r.pubKey,i.pubKey=vt.newBuffer(vt.base64.length(r.pubKey)),0):r.pubKey.length&&(i.pubKey=r.pubKey)),r.privKey!=null&&(typeof r.privKey=="string"?vt.base64.decode(r.privKey,i.privKey=vt.newBuffer(vt.base64.length(r.privKey)),0):r.privKey.length&&(i.privKey=r.privKey)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(i.bytes===String?n.id="":(n.id=[],i.bytes!==Array&&(n.id=vt.newBuffer(n.id))),i.bytes===String?n.pubKey="":(n.pubKey=[],i.bytes!==Array&&(n.pubKey=vt.newBuffer(n.pubKey))),i.bytes===String?n.privKey="":(n.privKey=[],i.bytes!==Array&&(n.privKey=vt.newBuffer(n.privKey)))),r.id!=null&&r.hasOwnProperty("id")&&(n.id=i.bytes===String?vt.base64.encode(r.id,0,r.id.length):i.bytes===Array?Array.prototype.slice.call(r.id):r.id),r.pubKey!=null&&r.hasOwnProperty("pubKey")&&(n.pubKey=i.bytes===String?vt.base64.encode(r.pubKey,0,r.pubKey.length):i.bytes===Array?Array.prototype.slice.call(r.pubKey):r.pubKey),r.privKey!=null&&r.hasOwnProperty("privKey")&&(n.privKey=i.bytes===String?vt.base64.encode(r.privKey,0,r.privKey.length):i.bytes===Array?Array.prototype.slice.call(r.privKey):r.privKey),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,Wn.util.toJSONOptions)},t}();Tb.exports=Ma});var Qf=M((Lt,Kb)=>{"use strict";var{CID:Jf}=(V0(),$u),wm=(Jn(),$n),Sm=(q0(),Oa),Em=(sn(),an),_m=(Zn(),on),{base58btc:Zf}=(sn(),an),{base32:Am}=(Jn(),$n),{base16:Rb}=(D0(),Ka),Ra=(ta(),ea),Fr=Bb(),Bm=Ib(),{PeerIdProto:Pb}=Mb(),{equals:rn}=(Tn(),Cn),{fromString:Pa}=(yi(),bi),{toString:Im}=(Vr(),zr),{identity:a0}=(Ha(),ra),Lb={...wm,...Sm,...Em,..._m},Cm=Object.keys(Lb).reduce((t,e)=>t.or(Lb[e]),Am.decoder),Tm=112,Nb=114,Db=class{constructor(e,r,i){if(!(e instanceof Uint8Array))throw new Error("invalid id provided");if(r&&i&&!rn(r.public.bytes,i.bytes))throw new Error("inconsistent arguments");this._id=e,this._idB58String=Zf.encode(this.id).substring(1),this._privKey=r,this._pubKey=i}get id(){return this._id}set id(e){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(e){this._privKey=e}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{let e=Ra.decode(this.id);e.code===a0.code&&(this._pubKey=Fr.unmarshalPublicKey(e.digest))}catch(e){}return this._pubKey}set pubKey(e){this._pubKey=e}marshalPubKey(){if(this.pubKey)return Fr.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return Fr.marshalPrivateKey(this.privKey)}marshal(e){return Pb.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:e?null:this.marshalPrivKey()}).finish()}toPrint(){let e=this.toB58String();e.startsWith("Qm")&&(e=e.slice(2));let r=6;return e.length<r&&(r=e.length),"<peer.ID "+e.substr(0,r)+">"}toJSON(){return{id:this.toB58String(),privKey:kb(this.marshalPrivKey()),pubKey:kb(this.marshalPubKey())}}toHexString(){return Rb.encode(this.id).substring(1)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){let e=Jf.createV1(Nb,Ra.decode(this.id));Object.defineProperty(this,"_idCIDString",{value:e.toString(),enumerable:!1})}return this._idCIDString}equals(e){if(e instanceof Uint8Array)return rn(this.id,e);if(e.id)return rn(this.id,e.id);throw new Error("not valid Id")}isEqual(e){return this.equals(e)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&rn(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if(Ra.decode(this.id).code===a0.code)return!0}catch(e){}return!1}},Ur=Bm(Db,{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});Lt=Kb.exports=Ur;var La=t=>t.bytes.length<=42?Ra.create(a0.code,t.bytes).bytes:t.hash(),Xf=async(t,e)=>{let r=await La(e);return new Ur(r,t,e)};Lt.create=async t=>{t=t||{},t.bits=t.bits||2048,t.keyType=t.keyType||"RSA";let e=await Fr.generateKeyPair(t.keyType,t.bits);return Xf(e,e.public)};Lt.createFromHexString=t=>new Ur(Rb.decode("f"+t));Lt.createFromBytes=t=>{try{let e=Jf.decode(t);if(!qb(e))throw new Error("Supplied PeerID CID is invalid");return Lt.createFromCID(e)}catch{if(Ra.decode(t).code!==a0.code)throw new Error("Supplied PeerID CID is invalid");return new Ur(t)}};Lt.createFromB58String=t=>Lt.createFromBytes(Zf.decode("z"+t));var qb=t=>t.code===Nb||t.code===Tm;Lt.createFromCID=t=>{if(t=Jf.asCID(t),!t||!qb(t))throw new Error("Supplied PeerID CID is invalid");return new Ur(t.multihash.bytes)};Lt.createFromPubKey=async t=>{let e=t;if(typeof e=="string"&&(e=Pa(t,"base64pad")),!(e instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let r=await Fr.unmarshalPublicKey(e);return Xf(void 0,r)};Lt.createFromPrivKey=async t=>{if(typeof t=="string"&&(t=Pa(t,"base64pad")),!(t instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let e=await Fr.unmarshalPrivateKey(t);return Xf(e,e.public)};Lt.createFromJSON=async t=>{let e=Zf.decode("z"+t.id),r=t.privKey&&Pa(t.privKey,"base64pad"),i=t.pubKey&&Pa(t.pubKey,"base64pad"),n=i&&await Fr.unmarshalPublicKey(i);if(!r)return new Ur(e,void 0,n);let a=await Fr.unmarshalPrivateKey(r),s=await La(a.public),o;if(n&&(o=await La(n)),n&&!rn(s,o))throw new Error("Public and private key do not match");if(e&&!rn(s,e))throw new Error("Id and private key do not match");return new Ur(e,a,n)};Lt.createFromProtobuf=async t=>{typeof t=="string"&&(t=Pa(t,"base16"));let{id:e,privKey:r,pubKey:i}=Pb.decode(t);r=r?await Fr.unmarshalPrivateKey(r):!1,i=i?await Fr.unmarshalPublicKey(i):!1;let n,a;if(r&&(a=await La(r.public)),i&&(n=await La(i)),r){if(i&&!rn(a,n))throw new Error("Public and private key do not match");return new Ur(a,r,r.public)}if(i)return new Ur(n,void 0,i);if(e)return new Ur(e);throw new Error("Protobuf did not contain any usable key material")};Lt.parse=t=>((t.charAt(0)==="1"||t.charAt(0)==="Q")&&(t=`z${t}`),Lt.createFromBytes(Cm.decode(t)));Lt.isPeerId=t=>Boolean(typeof t=="object"&&t._id&&t._idB58String);function kb(t){if(t)return Im(t,"base64pad")}});var eu=M((IS,Ub)=>{"use strict";var Mm=ls(),Rm=al(),Ob=ko(),Fb=Qf(),{sha256:Pm}=(Mi(),ni),Lm=()=>Mm(8),Nm=(t,e)=>{let r;t instanceof Uint8Array?r=Fb.createFromBytes(t).id:r=Fb.parse(t).id;let i=new Uint8Array(r.length+e.length);return i.set(r,0),i.set(e,r.length),i},Dm=t=>Pm.encode(t),qm=(t,e)=>{let r;Array.isArray(e)?r=i=>e.indexOf(i)>-1:r=i=>e.has(i);for(let i of t)if(r(i))return!0;return!1},km=t=>Array.isArray(t)?t:[t],Km=(t,e)=>{let r=Object.assign({},t);return t.from instanceof Uint8Array&&(r.from=Rm(t.from,"base58btc")),e&&(r.receivedFrom=e),r},Om=t=>{let e=Object.assign({},t);return typeof t.from=="string"&&(e.from=Ob(t.from,"base58btc")),typeof t.data=="string"&&(e.data=Ob(t.data)),e};Ub.exports={randomSeqno:Lm,msgId:Nm,noSignMsgId:Dm,anyMatch:qm,ensureArray:km,normalizeInRpcMessage:Km,normalizeOutRpcMessage:Om}});var Vb=M((CS,zb)=>{"use strict";function Fm(t,e){e||(e=t.reduce((n,a)=>n+a.length,0));let r=new Uint8Array(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return r}zb.exports=Fm});var Wb=M((TS,Yb)=>{"use strict";var tu=Qf(),{RPC:Hb}=ho(),Gb=Vb(),Um=ko(),ru=Um("libp2p-pubsub:"),{normalizeOutRpcMessage:zm}=eu();async function Vm(t,e){let r=Gb([ru,Hb.Message.encode(zm(e)).finish()]),i=await t.privKey.sign(r);return{...e,signature:i,key:t.pubKey.bytes}}async function Hm(t){if(!t.signature)throw new Error("Message must contain a signature to be verified");if(!t.from)throw new Error("Message must contain a from property to be verified");let e=Gb([ru,Hb.Message.encode({...t,from:tu.createFromB58String(t.from).toBytes(),signature:void 0,key:void 0}).finish()]);return(await jb(t)).verify(e,t.signature)}async function jb(t){if(!t.from)throw new Error("Could not get the public key from the originator id");let e=tu.createFromB58String(t.from);if(t.key){let r=await tu.createFromPubKey(t.key);if(r.equals(e))return r.pubKey;throw new Error("Public Key does not match the originator")}else{if(e.pubKey)return e.pubKey;throw new Error("Could not get the public key from the originator id")}}Yb.exports={messagePublicKey:jb,signMessage:Vm,SignPrefix:ru,verifySignature:Hm}});var iu=M((MS,Zb)=>{"use strict";var $b=Za(),{EventEmitter:Gm}=W0(),zt=vr(),{pipe:jm}=J0(),Ym=Bc(),{codes:pr}=Cc(),{RPC:Jb}=ho(),Wm=Wd(),{SignaturePolicy:ti}=Jd(),Ii=eu(),{signMessage:$m,verifySignature:Jm}=Wb(),s0=class extends Gm{constructor({debugName:e,multicodecs:r,libp2p:i,globalSignaturePolicy:n=ti.StrictSign,canRelayMessage:a=!1,emitSelf:s=!1}){if(typeof e!="string")throw new Error("a debugname `string` is required");if(!r)throw new Error("multicodecs are required");if(!i)throw new Error("libp2p is required");super();if(this.log=Object.assign($b(e),{err:$b(`${e}:error`)}),this.multicodecs=Ii.ensureArray(r),this._libp2p=i,this.registrar=i.registrar,this.peerId=i.peerId,this.started=!1,this.topics=new Map,this.subscriptions=new Set,this.peers=new Map,!ti[n])throw zt(new Error("Invalid global signature policy"),pr.ERR_INVALID_SIGNATURE_POLICY);this.globalSignaturePolicy=n,this.canRelayMessage=a,this.emitSelf=s,this.topicValidators=new Map,this._registrarId=void 0,this._onIncomingStream=this._onIncomingStream.bind(this),this._onPeerConnected=this._onPeerConnected.bind(this),this._onPeerDisconnected=this._onPeerDisconnected.bind(this)}start(){if(this.started)return;this.log("starting"),this.registrar.handle(this.multicodecs,this._onIncomingStream);let e=new Ym({multicodecs:this.multicodecs,handlers:{onConnect:this._onPeerConnected,onDisconnect:this._onPeerDisconnected}});this._registrarId=this.registrar.register(e),this.log("started"),this.started=!0}stop(){!this.started||(this.registrar.unregister(this._registrarId),this.log("stopping"),this.peers.forEach(e=>e.close()),this.peers=new Map,this.subscriptions=new Set,this.started=!1,this.log("stopped"))}_onIncomingStream({protocol:e,stream:r,connection:i}){let n=i.remotePeer,a=n.toB58String(),s=this._addPeer(n,e),o=s.attachInboundStream(r);this._processMessages(a,o,s)}async _onPeerConnected(e,r){let i=e.toB58String();this.log("connected",i);try{let{stream:n,protocol:a}=await r.newStream(this.multicodecs);await this._addPeer(e,a).attachOutboundStream(n)}catch(n){this.log.err(n)}this._sendSubscriptions(i,Array.from(this.subscriptions),!0)}_onPeerDisconnected(e,r){let i=e.toB58String();this.log("connection ended",i,r?r.message:""),this._removePeer(e)}_addPeer(e,r){let i=e.toB58String(),n=this.peers.get(i);if(n)return n;this.log("new peer",i);let a=new Wm({id:e,protocol:r});return this.peers.set(i,a),a.once("close",()=>this._removePeer(e)),a}_removePeer(e){if(!e)return;let r=e.toB58String(),i=this.peers.get(r);if(!!i){i.removeAllListeners(),i.close(),this.log("delete peer",r),this.peers.delete(r);for(let n of this.topics.values())n.delete(r);return i}}async _processMessages(e,r,i){try{await jm(r,async n=>{for await(let a of n){let s=a instanceof Uint8Array?a:a.slice(),o=this._decodeRpc(s);await this._processRpc(e,i,o)}})}catch(n){this._onPeerDisconnected(i.id,n)}}async _processRpc(e,r,i){this.log("rpc from",e);let n=i.subscriptions,a=i.msgs;if(n.length&&(n.forEach(s=>{this._processRpcSubOpt(e,s)}),this.emit("pubsub:subscription-change",r.id,n)),!this._acceptFrom(e))return this.log("received message from unacceptable peer %s",e),!1;if(a.length)for(let s of a){if(!(this.canRelayMessage||s.topicIDs&&s.topicIDs.some(f=>this.subscriptions.has(f)))){this.log("received message we didn't subscribe to. Dropping.");continue}let o=Ii.normalizeInRpcMessage(s,e);await this._processRpcMessage(o)}return!0}_processRpcSubOpt(e,r){let i=r.topicID;if(!i)return;let n=this.topics.get(i);n||(n=new Set,this.topics.set(i,n)),r.subscribe?n.add(e):n.delete(e)}async _processRpcMessage(e){if(!(this.peerId.toB58String()===e.from&&!this.emitSelf)){try{await this.validate(e)}catch(r){this.log("Message is invalid, dropping it. %O",r);return}return this._emitMessage(e),this._publish(Ii.normalizeOutRpcMessage(e))}}_emitMessage(e){e.topicIDs.forEach(r=>{this.subscriptions.has(r)&&this.emit(r,e)})}getMsgId(e){let r=this.globalSignaturePolicy;switch(r){case ti.StrictSign:return Ii.msgId(e.from,e.seqno);case ti.StrictNoSign:return Ii.noSignMsgId(e.data);default:throw zt(new Error("Cannot get message id: unhandled signature policy: "+r),pr.ERR_UNHANDLED_SIGNATURE_POLICY)}}_acceptFrom(e){return!0}_decodeRpc(e){return Jb.decode(e)}_encodeRpc(e){return Jb.encode(e).finish()}_sendRpc(e,r){let i=this.peers.get(e);if(!i||!i.isWritable){let n=`Cannot send RPC to ${e} as there is no open stream to it available`;this.log.err(n);return}i.write(this._encodeRpc(r))}_sendSubscriptions(e,r,i){return this._sendRpc(e,{subscriptions:r.map(n=>({topicID:n,subscribe:i}))})}async validate(e){let r=this.globalSignaturePolicy;switch(r){case ti.StrictNoSign:if(e.from)throw zt(new Error("StrictNoSigning: from should not be present"),pr.ERR_UNEXPECTED_FROM);if(e.signature)throw zt(new Error("StrictNoSigning: signature should not be present"),pr.ERR_UNEXPECTED_SIGNATURE);if(e.key)throw zt(new Error("StrictNoSigning: key should not be present"),pr.ERR_UNEXPECTED_KEY);if(e.seqno)throw zt(new Error("StrictNoSigning: seqno should not be present"),pr.ERR_UNEXPECTED_SEQNO);break;case ti.StrictSign:if(!e.signature)throw zt(new Error("StrictSigning: Signing required and no signature was present"),pr.ERR_MISSING_SIGNATURE);if(!e.seqno)throw zt(new Error("StrictSigning: Signing required and no seqno was present"),pr.ERR_MISSING_SEQNO);if(!await Jm(e))throw zt(new Error("StrictSigning: Invalid message signature"),pr.ERR_INVALID_SIGNATURE);break;default:throw zt(new Error("Cannot validate message: unhandled signature policy: "+r),pr.ERR_UNHANDLED_SIGNATURE_POLICY)}for(let i of e.topicIDs){let n=this.topicValidators.get(i);n&&await n(i,e)}}_buildMessage(e){let r=this.globalSignaturePolicy;switch(r){case ti.StrictSign:return e.from=this.peerId.toB58String(),e.seqno=Ii.randomSeqno(),$m(this.peerId,e);case ti.StrictNoSign:return Promise.resolve(e);default:throw zt(new Error("Cannot build message: unhandled signature policy: "+r),pr.ERR_UNHANDLED_SIGNATURE_POLICY)}}getSubscribers(e){if(!this.started)throw zt(new Error("not started yet"),"ERR_NOT_STARTED_YET");if(!e||typeof e!="string")throw zt(new Error("a string topic must be provided"),"ERR_NOT_VALID_TOPIC");let r=this.topics.get(e);return r?Array.from(r):[]}async publish(e,r){if(!this.started)throw new Error("Pubsub has not started");this.log("publish",e,r);let n={receivedFrom:this.peerId.toB58String(),data:r,topicIDs:[e]},a=await this._buildMessage(n),s=Ii.normalizeInRpcMessage(a);this.emitSelf&&this._emitMessage(s),await this._publish(s)}_publish(e){throw zt(new Error("publish must be implemented by the subclass"),"ERR_NOT_IMPLEMENTED")}subscribe(e){if(!this.started)throw new Error("Pubsub has not started");this.subscriptions.has(e)||(this.subscriptions.add(e),this.peers.forEach((r,i)=>this._sendSubscriptions(i,[e],!0)))}unsubscribe(e){if(!this.started)throw new Error("Pubsub is not started");this.subscriptions.has(e)&&this.listenerCount(e)===0&&(this.subscriptions.delete(e),this.peers.forEach((r,i)=>this._sendSubscriptions(i,[e],!1)))}getTopics(){if(!this.started)throw new Error("Pubsub is not started");return Array.from(this.subscriptions)}};s0.utils=Ii;s0.SignaturePolicy=ti;Zb.exports=s0});var ey=M((RS,Qb)=>{"use strict";var Xb=Za(),Zm=Object.assign(Xb("libp2p:floodsub"),{error:Xb("libp2p:floodsub:err")});Qb.exports={log:Zm,multicodec:"/floodsub/1.0.0"}});var i9=M((PS,nu)=>{"use strict";var Xm="libp2p:floodsub",Qm=Cu(),{toString:e9}=(Vr(),zr),t9=iu(),{utils:r9}=iu(),{multicodec:ty}=ey(),ry=class extends t9{constructor(e,r={}){super({debugName:Xm,multicodecs:ty,libp2p:e,canRelayMessage:!0,...r});this.seenCache=new Qm}async _processRpcMessage(e){let r=await this.getMsgId(e),i=e9(r,"base64");this.seenCache.has(i)||(this.seenCache.put(i),await super._processRpcMessage(e))}_publish(e){return this._forwardMessage(e),Promise.resolve()}_forwardMessage(e){e.topicIDs.forEach(r=>{let i=this.topics.get(r);!i||i.forEach(n=>{this.log("publish msgs on topics",e.topicIDs,n),n!==this.peerId.toB58String()&&n!==e.receivedFrom&&this._sendRpc(n,{msgs:[r9.normalizeOutRpcMessage(e)]})})})}};nu.exports=ry;nu.exports.multicodec=ty});return i9();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
return Libp2pFloodsub}));
