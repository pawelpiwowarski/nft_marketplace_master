(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.IpfsHttpClient = factory()}(typeof self !== 'undefined' ? self : this, function () {
var IpfsHttpClient=(()=>{var Vd=Object.create;var et=Object.defineProperty;var Gd=Object.getOwnPropertyDescriptor;var Wd=Object.getOwnPropertyNames;var Jd=Object.getPrototypeOf,Kd=Object.prototype.hasOwnProperty;var Go=e=>et(e,"__esModule",{value:!0});var Wo=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,t)=>(typeof require!="undefined"?require:r)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var _=(e,r)=>()=>(e&&(r=e(e=0)),r);var w=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),I=(e,r)=>{Go(e);for(var t in r)et(e,t,{get:r[t],enumerable:!0})},Xd=(e,r,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of Wd(r))!Kd.call(e,n)&&n!=="default"&&et(e,n,{get:()=>r[n],enumerable:!(t=Gd(r,n))||t.enumerable});return e},y=e=>Xd(Go(et(e!=null?Vd(Jd(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);function Ko(e,r,t){r=r||[],t=t||0;for(var n=t;e>=np;)r[t++]=e&255|Jo,e/=128;for(;e&tp;)r[t++]=e&255|Jo,e>>>=7;return r[t]=e|0,Ko.bytes=t-n+1,r}function fn(e,r){var t=0,r=r||0,n=0,o=r,s,i=e.length;do{if(o>=i)throw fn.bytes=0,new RangeError("Could not decode varint");s=e[o++],t+=n<28?(s&Xo)<<n:(s&Xo)*Math.pow(2,n),n+=7}while(s>=sp);return fn.bytes=o-r,t}var ep,Jo,rp,tp,np,op,sp,Xo,ip,ap,cp,up,lp,fp,mp,dp,pp,hp,gp,yp,Er,Qo=_(()=>{ep=Ko,Jo=128,rp=127,tp=~rp,np=Math.pow(2,31);op=fn,sp=128,Xo=127;ip=Math.pow(2,7),ap=Math.pow(2,14),cp=Math.pow(2,21),up=Math.pow(2,28),lp=Math.pow(2,35),fp=Math.pow(2,42),mp=Math.pow(2,49),dp=Math.pow(2,56),pp=Math.pow(2,63),hp=function(e){return e<ip?1:e<ap?2:e<cp?3:e<up?4:e<lp?5:e<fp?6:e<mp?7:e<dp?8:e<pp?9:10},gp={encode:ep,decode:op,encodingLength:hp},yp=gp,Er=yp});var Pr,Ye,er,rt=_(()=>{Qo();Pr=e=>[Er.decode(e),Er.decode.bytes],Ye=(e,r,t=0)=>(Er.encode(e,r,t),r),er=e=>Er.encodingLength(e)});var Jb,Yo,he,es,rs,De=_(()=>{Jb=new Uint8Array(0),Yo=(e,r)=>{if(e===r)return!0;if(e.byteLength!==r.byteLength)return!1;for(let t=0;t<e.byteLength;t++)if(e[t]!==r[t])return!1;return!0},he=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},es=e=>new TextEncoder().encode(e),rs=e=>new TextDecoder().decode(e)});var tt={};I(tt,{Digest:()=>rr,create:()=>Tr,decode:()=>mn,equals:()=>dn});var Tr,mn,dn,rr,vr=_(()=>{De();rt();Tr=(e,r)=>{let t=r.byteLength,n=er(e),o=n+er(t),s=new Uint8Array(o+t);return Ye(e,s,0),Ye(t,s,n),s.set(r,o),new rr(e,t,r,s)},mn=e=>{let r=he(e),[t,n]=Pr(r),[o,s]=Pr(r.subarray(n)),i=r.subarray(n+s);if(i.byteLength!==o)throw new Error("Incorrect length");return new rr(t,o,i,r)},dn=(e,r)=>e===r?!0:e.code===r.code&&e.size===r.size&&Yo(e.bytes,r.bytes),rr=class{constructor(r,t,n,o){this.code=r,this.size=t,this.digest=n,this.bytes=o}}});function bp(e,r){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var o=0;o<e.length;o++){var s=e.charAt(o),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=o}var a=e.length,c=e.charAt(0),f=Math.log(a)/Math.log(256),m=Math.log(256)/Math.log(a);function h(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var U=0,N=0,z=0,G=C.length;z!==G&&C[z]===0;)z++,U++;for(var ie=(G-z)*m+1>>>0,H=new Uint8Array(ie);z!==G;){for(var pe=C[z],ae=0,Y=ie-1;(pe!==0||ae<N)&&Y!==-1;Y--,ae++)pe+=256*H[Y]>>>0,H[Y]=pe%a>>>0,pe=pe/a>>>0;if(pe!==0)throw new Error("Non-zero carry");N=ae,z++}for(var ce=ie-N;ce!==ie&&H[ce]===0;)ce++;for(var Ze=c.repeat(U);ce<ie;++ce)Ze+=e.charAt(H[ce]);return Ze}function S(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var U=0;if(C[U]!==" "){for(var N=0,z=0;C[U]===c;)N++,U++;for(var G=(C.length-U)*f+1>>>0,ie=new Uint8Array(G);C[U];){var H=t[C.charCodeAt(U)];if(H===255)return;for(var pe=0,ae=G-1;(H!==0||pe<z)&&ae!==-1;ae--,pe++)H+=a*ie[ae]>>>0,ie[ae]=H%256>>>0,H=H/256>>>0;if(H!==0)throw new Error("Non-zero carry");z=pe,U++}if(C[U]!==" "){for(var Y=G-z;Y!==G&&ie[Y]===0;)Y++;for(var ce=new Uint8Array(N+(G-Y)),Ze=N;Y!==G;)ce[Ze++]=ie[Y++];return ce}}}function k(C){var U=S(C);if(U)return U;throw new Error(`Non-${r} character`)}return{encode:h,decodeUnsafe:S,decode:k}}var wp,jp,ns,os=_(()=>{wp=bp,jp=wp,ns=jp});var ss,is,nt,as,ot,Oe,xp,Sp,D,Ee=_(()=>{os();De();ss=class{constructor(r,t,n){this.name=r,this.prefix=t,this.baseEncode=n}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}},is=class{constructor(r,t,n){this.name=r,this.prefix=t,this.baseDecode=n}decode(r){if(typeof r=="string")switch(r[0]){case this.prefix:return this.baseDecode(r.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(r){let t={[this.prefix]:this,...r.decoders||{[r.prefix]:r}};return new nt(t)}},nt=class{constructor(r){this.decoders=r}or(r){let t=r.decoders||{[r.prefix]:r};return new nt({...this.decoders,...t})}decode(r){let t=r[0],n=this.decoders[t];if(n)return n.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},as=class{constructor(r,t,n,o){this.name=r,this.prefix=t,this.baseEncode=n,this.baseDecode=o,this.encoder=new ss(r,t,n),this.decoder=new is(r,t,o)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}},ot=({name:e,prefix:r,encode:t,decode:n})=>new as(e,r,t,n),Oe=({prefix:e,name:r,alphabet:t})=>{let{encode:n,decode:o}=ns(t,r);return ot({prefix:e,name:r,encode:n,decode:s=>he(o(s))})},xp=(e,r,t,n)=>{let o={};for(let m=0;m<r.length;++m)o[r[m]]=m;let s=e.length;for(;e[s-1]==="=";)--s;let i=new Uint8Array(s*t/8|0),a=0,c=0,f=0;for(let m=0;m<s;++m){let h=o[e[m]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<t|h,a+=t,a>=8&&(a-=8,i[f++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return i},Sp=(e,r,t)=>{let n=r[r.length-1]==="=",o=(1<<t)-1,s="",i=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],i+=8;i>t;)i-=t,s+=r[o&a>>i];if(i&&(s+=r[o&a<<t-i]),n)for(;s.length*t&7;)s+="=";return s},D=({name:e,prefix:r,bitsPerChar:t,alphabet:n})=>ot({prefix:r,name:e,encode(o){return Sp(o,n,t)},decode(o){return xp(o,n,t,e)}})});var Cr={};I(Cr,{base58btc:()=>Pe,base58flickr:()=>Ep});var Pe,Ep,Ar=_(()=>{Ee();Pe=Oe({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ep=Oe({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var st={};I(st,{base32:()=>tr,base32hex:()=>Cp,base32hexpad:()=>Bp,base32hexpadupper:()=>Up,base32hexupper:()=>Ap,base32pad:()=>Tp,base32padupper:()=>vp,base32upper:()=>Pp,base32z:()=>_p});var tr,Pp,Tp,vp,Cp,Ap,Bp,Up,_p,it=_(()=>{Ee();tr=D({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Pp=D({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Tp=D({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),vp=D({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Cp=D({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ap=D({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Bp=D({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Up=D({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_p=D({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var pn={};I(pn,{CID:()=>p});var p,kp,Np,Ip,Br,Dp,cs,us,at,ct,Op,Rp,Lp,T=_(()=>{rt();vr();Ar();it();De();p=class{constructor(r,t,n,o){this.code=t,this.version=r,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:ct,byteLength:ct,code:at,version:at,multihash:at,bytes:at,_baseCache:ct,asCID:ct})}toV0(){switch(this.version){case 0:return this;default:{let{code:r,multihash:t}=this;if(r!==Br)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Dp)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return p.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:r,digest:t}=this.multihash,n=Tr(r,t);return p.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(r){return r&&this.code===r.code&&this.version===r.version&&dn(this.multihash,r.multihash)}toString(r){let{bytes:t,version:n,_baseCache:o}=this;switch(n){case 0:return Np(t,o,r||Pe.encoder);default:return Ip(t,o,r||tr.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(r){return Rp(/^0\.0/,Lp),!!(r&&(r[us]||r.asCID===r))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(r){if(r instanceof p)return r;if(r!=null&&r.asCID===r){let{version:t,code:n,multihash:o,bytes:s}=r;return new p(t,n,o,s||cs(t,n,o.bytes))}else if(r!=null&&r[us]===!0){let{version:t,multihash:n,code:o}=r,s=mn(n);return p.create(t,o,s)}else return null}static create(r,t,n){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(r){case 0:{if(t!==Br)throw new Error(`Version 0 CID must use dag-pb (code: ${Br}) block encoding`);return new p(r,t,n,n.bytes)}case 1:{let o=cs(r,t,n.bytes);return new p(r,t,n,o)}default:throw new Error("Invalid version")}}static createV0(r){return p.create(0,Br,r)}static createV1(r,t){return p.create(1,r,t)}static decode(r){let[t,n]=p.decodeFirst(r);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(r){let t=p.inspectBytes(r),n=t.size-t.multihashSize,o=he(r.subarray(n,n+t.multihashSize));if(o.byteLength!==t.multihashSize)throw new Error("Incorrect length");let s=o.subarray(t.multihashSize-t.digestSize),i=new rr(t.multihashCode,t.digestSize,s,o);return[t.version===0?p.createV0(i):p.createV1(t.codec,i),r.subarray(t.size)]}static inspectBytes(r){let t=0,n=()=>{let[h,S]=Pr(r.subarray(t));return t+=S,h},o=n(),s=Br;if(o===18?(o=0,t=0):o===1&&(s=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let i=t,a=n(),c=n(),f=t+c,m=f-i;return{version:o,codec:s,multihashCode:a,digestSize:c,multihashSize:m,size:f}}static parse(r,t){let[n,o]=kp(r,t),s=p.decode(o);return s._baseCache.set(n,r),s}},kp=(e,r)=>{switch(e[0]){case"Q":{let t=r||Pe;return[Pe.prefix,t.decode(`${Pe.prefix}${e}`)]}case Pe.prefix:{let t=r||Pe;return[Pe.prefix,t.decode(e)]}case tr.prefix:{let t=r||tr;return[tr.prefix,t.decode(e)]}default:{if(r==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],r.decode(e)]}}},Np=(e,r,t)=>{let{prefix:n}=t;if(n!==Pe.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);let o=r.get(n);if(o==null){let s=t.encode(e).slice(1);return r.set(n,s),s}else return o},Ip=(e,r,t)=>{let{prefix:n}=t,o=r.get(n);if(o==null){let s=t.encode(e);return r.set(n,s),s}else return o},Br=112,Dp=18,cs=(e,r,t)=>{let n=er(e),o=n+er(r),s=new Uint8Array(o+t.byteLength);return Ye(e,s,0),Ye(r,s,n),s.set(t,o),s},us=Symbol.for("@ipld/js-cid/CID"),at={writable:!1,configurable:!1,enumerable:!0},ct={writable:!1,enumerable:!1,configurable:!1},Op="0.0.0-dev",Rp=(e,r)=>{if(e.test(Op))console.warn(r);else throw new Error(r)},Lp=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var Rr,Ci,wt=_(()=>{vr();Rr=({name:e,code:r,encode:t})=>new Ci(e,r,t),Ci=class{constructor(r,t,n){this.name=r,this.code=t,this.encode=n}async digest(r){if(r instanceof Uint8Array){let t=await this.encode(r);return Tr(this.code,t)}else throw Error("Unknown type, must be binary type")}}});var kn={};I(kn,{identity:()=>jt});var jt,Nn=_(()=>{wt();De();jt=Rr({name:"identity",code:0,encode:e=>he(e)})});var In={};I(In,{identity:()=>Bh});var Bh,Bi=_(()=>{Ee();De();Bh=ot({prefix:"\0",name:"identity",encode:e=>rs(e),decode:e=>es(e)})});var Dn={};I(Dn,{base2:()=>Uh});var Uh,Ui=_(()=>{Ee();Uh=D({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var On={};I(On,{base8:()=>_h});var _h,_i=_(()=>{Ee();_h=D({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var Rn={};I(Rn,{base10:()=>kh});var kh,ki=_(()=>{Ee();kh=Oe({prefix:"9",name:"base10",alphabet:"0123456789"})});var Ln={};I(Ln,{base16:()=>Nh,base16upper:()=>Ih});var Nh,Ih,Ni=_(()=>{Ee();Nh=D({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ih=D({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var $n={};I($n,{base36:()=>Dh,base36upper:()=>Oh});var Dh,Oh,Ii=_(()=>{Ee();Dh=Oe({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Oh=Oe({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var zn={};I(zn,{base64:()=>Rh,base64pad:()=>Lh,base64url:()=>$h,base64urlpad:()=>zh});var Rh,Lh,$h,zh,Di=_(()=>{Ee();Rh=D({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Lh=D({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$h=D({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),zh=D({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var Fn={};I(Fn,{sha256:()=>Fh,sha512:()=>Mh});var Oi,Fh,Mh,Ri=_(()=>{wt();Oi=e=>async r=>new Uint8Array(await crypto.subtle.digest(e,r)),Fh=Rr({name:"sha2-256",code:18,encode:Oi("SHA-256")}),Mh=Rr({name:"sha2-512",code:19,encode:Oi("SHA-512")})});var Mn={};I(Mn,{code:()=>Hh,decode:()=>Gh,encode:()=>Vh,name:()=>qh});var qh,Hh,Vh,Gh,Li=_(()=>{De();qh="raw",Hh=85,Vh=e=>he(e),Gh=e=>he(e)});var qn={};I(qn,{code:()=>Xh,decode:()=>Zh,encode:()=>Qh,name:()=>Kh});var Wh,Jh,Kh,Xh,Qh,Zh,$i=_(()=>{Wh=new TextEncoder,Jh=new TextDecoder,Kh="json",Xh=512,Qh=e=>Wh.encode(JSON.stringify(e)),Zh=e=>JSON.parse(Jh.decode(e))});var zi=_(()=>{T();rt();De();wt();vr()});var Lr,Fi,Mi,Hn=_(()=>{Bi();Ui();_i();ki();Ni();it();Ii();Ar();Di();Ri();Nn();Li();$i();zi();Lr={...In,...Dn,...On,...Rn,...Ln,...st,...$n,...Cr,...zn},Fi={...Fn,...kn},Mi={raw:Mn,json:qn}});var Vi=w((rj,Hi)=>{"use strict";var qi="[a-fA-F\\d:]",$e=e=>e&&e.includeBoundaries?`(?:(?<=\\s|^)(?=${qi})|(?<=${qi})(?=\\s|$))`:"",be="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",R="[a-fA-F\\d]{1,4}",xt=`
(?:
(?:${R}:){7}(?:${R}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${R}:){6}(?:${be}|:${R}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${R}:){5}(?::${be}|(?::${R}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${R}:){4}(?:(?::${R}){0,1}:${be}|(?::${R}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${R}:){3}(?:(?::${R}){0,2}:${be}|(?::${R}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${R}:){2}(?:(?::${R}){0,3}:${be}|(?::${R}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${R}:){1}(?:(?::${R}){0,4}:${be}|(?::${R}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${R}){0,5}:${be}|(?::${R}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),Yh=new RegExp(`(?:^${be}$)|(?:^${xt}$)`),eg=new RegExp(`^${be}$`),rg=new RegExp(`^${xt}$`),Vn=e=>e&&e.exact?Yh:new RegExp(`(?:${$e(e)}${be}${$e(e)})|(?:${$e(e)}${xt}${$e(e)})`,"g");Vn.v4=e=>e&&e.exact?eg:new RegExp(`${$e(e)}${be}${$e(e)}`,"g");Vn.v6=e=>e&&e.exact?rg:new RegExp(`${$e(e)}${xt}${$e(e)}`,"g");Hi.exports=Vn});var Wi=w((tj,Gi)=>{"use strict";var Gn=Vi(),cr=e=>Gn({exact:!0}).test(e);cr.v4=e=>Gn.v4({exact:!0}).test(e);cr.v6=e=>Gn.v6({exact:!0}).test(e);cr.version=e=>cr(e)?cr.v4(e)?4:6:void 0;Gi.exports=cr});function Ji(e,r,t,n){return{name:e,prefix:r,encoder:{name:e,prefix:r,encode:t},decoder:{decode:n}}}var Ki,Wn,tg,St,Jn=_(()=>{Hn();Ki=Ji("utf8","u",e=>{let r=new TextDecoder("utf8");return"u"+r.decode(e)},e=>new TextEncoder().encode(e.substring(1))),Wn=Ji("ascii","a",e=>{let r="a";for(let t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return r},e=>{e=e.substring(1);let r=new Uint8Array(e.length);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return r}),tg={utf8:Ki,"utf-8":Ki,hex:Lr.base16,latin1:Wn,ascii:Wn,binary:Wn,...Lr},St=tg});var $r={};I($r,{toString:()=>He});function He(e,r="utf8"){let t=St[r];if(!t)throw new Error(`Unsupported encoding "${r}"`);return t.encoder.encode(e).substring(1)}var ze=_(()=>{Jn()});var ea=w((ij,Yi)=>{"use strict";var Kn=Wi(),{toString:Xi}=(ze(),$r),ng=Kn,Xn=Kn.v4,Qi=Kn.v6,Zi=function(e,r,t){t=~~t;let n;if(Xn(e))n=r||new Uint8Array(t+4),e.split(/\./g).map(function(o){n[t++]=parseInt(o,10)&255});else if(Qi(e)){let o=e.split(":",8),s;for(s=0;s<o.length;s++){let i=Xn(o[s]),a;i&&(a=Zi(o[s]),o[s]=Xi(a.slice(0,2),"base16")),a&&++s<8&&o.splice(s,0,Xi(a.slice(2,4),"base16"))}if(o[0]==="")for(;o.length<8;)o.unshift("0");else if(o[o.length-1]==="")for(;o.length<8;)o.push("0");else if(o.length<8){for(s=0;s<o.length&&o[s]!=="";s++);let i=[s,"1"];for(s=9-o.length;s>0;s--)i.push("0");o.splice.apply(o,i)}for(n=r||new Uint8Array(t+16),s=0;s<o.length;s++){let i=parseInt(o[s],16);n[t++]=i>>8&255,n[t++]=i&255}}if(!n)throw Error("Invalid ip address: "+e);return n},og=function(e,r,t){r=~~r,t=t||e.length-r;let n=[],o,s=new DataView(e.buffer);if(t===4){for(let i=0;i<t;i++)n.push(e[r+i]);o=n.join(".")}else if(t===16){for(let i=0;i<t;i+=2)n.push(s.getUint16(r+i).toString(16));o=n.join(":"),o=o.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),o=o.replace(/:{3,4}/,"::")}return o};Yi.exports={isIP:ng,isV4:Xn,isV6:Qi,toBytes:Zi,toString:og}});var Et=w((aj,ta)=>{"use strict";function X(e){if(typeof e=="number"){if(X.codes[e])return X.codes[e];throw new Error("no protocol with code: "+e)}else if(typeof e=="string"){if(X.names[e])return X.names[e];throw new Error("no protocol with name: "+e)}throw new Error("invalid protocol id type: "+e)}var fe=-1;X.lengthPrefixedVarSize=fe;X.V=fe;X.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,fe,"ip6zone"],[53,fe,"dns","resolvable"],[54,fe,"dns4","resolvable"],[55,fe,"dns6","resolvable"],[56,fe,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,fe,"unix",!1,"path"],[421,fe,"ipfs"],[421,fe,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,fe,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,fe,"memory"]];X.names={};X.codes={};X.table.map(e=>{let r=ra.apply(null,e);return X.codes[r.code]=r,X.names[r.name]=r,null});X.object=ra;function ra(e,r,t,n,o){return{code:e,size:r,name:t,resolvable:Boolean(n),path:Boolean(o)}}ta.exports=X});var sa=w((cj,oa)=>{oa.exports=Qn;var na=128,sg=127,ig=~sg,ag=Math.pow(2,31);function Qn(e,r,t){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw Qn.bytes=0,new RangeError("Could not encode varint");r=r||[],t=t||0;for(var n=t;e>=ag;)r[t++]=e&255|na,e/=128;for(;e&ig;)r[t++]=e&255|na,e>>>=7;return r[t]=e|0,Qn.bytes=t-n+1,r}});var ca=w((uj,aa)=>{aa.exports=Zn;var cg=128,ia=127;function Zn(e,r){var t=0,r=r||0,n=0,o=r,s,i=e.length;do{if(o>=i||n>49)throw Zn.bytes=0,new RangeError("Could not decode varint");s=e[o++],t+=n<28?(s&ia)<<n:(s&ia)*Math.pow(2,n),n+=7}while(s>=cg);return Zn.bytes=o-r,t}});var la=w((lj,ua)=>{var ug=Math.pow(2,7),lg=Math.pow(2,14),fg=Math.pow(2,21),mg=Math.pow(2,28),dg=Math.pow(2,35),pg=Math.pow(2,42),hg=Math.pow(2,49),gg=Math.pow(2,56),yg=Math.pow(2,63);ua.exports=function(e){return e<ug?1:e<lg?2:e<fg?3:e<mg?4:e<dg?5:e<pg?6:e<hg?7:e<gg?8:e<yg?9:10}});var Pt=w((fj,fa)=>{fa.exports={encode:sa(),decode:ca(),encodingLength:la()}});var ma={};I(ma,{fromString:()=>oe});function oe(e,r="utf8"){let t=St[r];if(!t)throw new Error(`Unsupported encoding "${r}"`);return t.decoder.decode(`${t.prefix}${e}`)}var Ve=_(()=>{Jn()});var Yn={};I(Yn,{concat:()=>bg});function bg(e,r){r||(r=e.reduce((o,s)=>o+s.length,0));let t=new Uint8Array(r),n=0;for(let o of e)t.set(o,n),n+=o.length;return t}var eo=_(()=>{});var ja=w((dj,wa)=>{"use strict";var Tt=ea(),da=Et(),{CID:wg}=(T(),pn),{base32:pa}=(it(),st),{base58btc:jg}=(Ar(),Cr),xg=(vr(),tt),ur=Pt(),{toString:vt}=(ze(),$r),{fromString:ha}=(Ve(),ma),{concat:Ct}=(eo(),Yn);wa.exports=zr;function zr(e,r){return r instanceof Uint8Array?zr.toString(e,r):zr.toBytes(e,r)}zr.toString=function(r,t){switch(da(r).code){case 4:case 41:return Sg(t);case 6:case 273:case 33:case 132:return ya(t).toString();case 53:case 54:case 55:case 56:case 400:case 777:return Pg(t);case 421:return vg(t);case 444:return ba(t);case 445:return ba(t);default:return vt(t,"base16")}};zr.toBytes=function(r,t){switch(da(r).code){case 4:return ga(t);case 41:return ga(t);case 6:case 273:case 33:case 132:return ro(parseInt(t,10));case 53:case 54:case 55:case 56:case 400:case 777:return Eg(t);case 421:return Tg(t);case 444:return Cg(t);case 445:return Ag(t);default:return ha(t,"base16")}};function ga(e){if(!Tt.isIP(e))throw new Error("invalid ip address");return Tt.toBytes(e)}function Sg(e){let r=Tt.toString(e);if(!r||!Tt.isIP(r))throw new Error("invalid ip address");return r}function ro(e){let r=new ArrayBuffer(2);return new DataView(r).setUint16(0,e),new Uint8Array(r)}function ya(e){return new DataView(e.buffer).getUint16(e.byteOffset)}function Eg(e){let r=ha(e),t=Uint8Array.from(ur.encode(r.length));return Ct([t,r],t.length+r.length)}function Pg(e){let r=ur.decode(e);if(e=e.slice(ur.decode.bytes),e.length!==r)throw new Error("inconsistent lengths");return vt(e)}function Tg(e){let r;e[0]==="Q"||e[0]==="1"?r=xg.decode(jg.decode(`z${e}`)).bytes:r=wg.parse(e).multihash.bytes;let t=Uint8Array.from(ur.encode(r.length));return Ct([t,r],t.length+r.length)}function vg(e){let r=ur.decode(e),t=e.slice(ur.decode.bytes);if(t.length!==r)throw new Error("inconsistent lengths");return vt(t,"base58btc")}function Cg(e){let r=e.split(":");if(r.length!==2)throw new Error("failed to parse onion addr: "+r+" does not contain a port number");if(r[0].length!==16)throw new Error("failed to parse onion addr: "+r[0]+" not a Tor onion address.");let t=pa.decode("b"+r[0]),n=parseInt(r[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let o=ro(n);return Ct([t,o],t.length+o.length)}function Ag(e){let r=e.split(":");if(r.length!==2)throw new Error("failed to parse onion addr: "+r+" does not contain a port number");if(r[0].length!==56)throw new Error("failed to parse onion addr: "+r[0]+" not a Tor onion3 address.");let t=pa.decode("b"+r[0]),n=parseInt(r[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let o=ro(n);return Ct([t,o],t.length+o.length)}function ba(e){let r=e.slice(0,e.length-2),t=e.slice(e.length-2),n=vt(r,"base32"),o=ya(t);return n+":"+o}});var ka=w((pj,_a)=>{"use strict";var xa=ja(),to=Et(),Fr=Pt(),{concat:Sa}=(eo(),Yn),{toString:Bg}=(ze(),$r);_a.exports={stringToStringTuples:Ea,stringTuplesToString:Pa,tuplesToStringTuples:va,stringTuplesToTuples:Ta,bytesToTuples:no,tuplesToBytes:Ca,bytesToString:Ug,stringToBytes:Ba,fromString:_g,fromBytes:Ua,validateBytes:oo,isValidBytes:kg,cleanPath:At,ParseError:so,protoFromTuple:Mr,sizeForAddr:Aa};function Ea(e){let r=[],t=e.split("/").slice(1);if(t.length===1&&t[0]==="")return[];for(let n=0;n<t.length;n++){let o=t[n],s=to(o);if(s.size===0){r.push([o]);continue}if(n++,n>=t.length)throw so("invalid address: "+e);if(s.path){r.push([o,At(t.slice(n).join("/"))]);break}r.push([o,t[n]])}return r}function Pa(e){let r=[];return e.map(t=>{let n=Mr(t);return r.push(n.name),t.length>1&&r.push(t[1]),null}),At(r.join("/"))}function Ta(e){return e.map(r=>{Array.isArray(r)||(r=[r]);let t=Mr(r);return r.length>1?[t.code,xa.toBytes(t.code,r[1])]:[t.code]})}function va(e){return e.map(r=>{let t=Mr(r);return r[1]?[t.code,xa.toString(t.code,r[1])]:[t.code]})}function Ca(e){return Ua(Sa(e.map(r=>{let t=Mr(r),n=Uint8Array.from(Fr.encode(t.code));return r.length>1&&(n=Sa([n,r[1]])),n})))}function Aa(e,r){return e.size>0?e.size/8:e.size===0?0:Fr.decode(r)+Fr.decode.bytes}function no(e){let r=[],t=0;for(;t<e.length;){let n=Fr.decode(e,t),o=Fr.decode.bytes,s=to(n),i=Aa(s,e.slice(t+o));if(i===0){r.push([n]),t+=o;continue}let a=e.slice(t+o,t+o+i);if(t+=i+o,t>e.length)throw so("Invalid address Uint8Array: "+Bg(e,"base16"));r.push([n,a])}return r}function Ug(e){let r=no(e),t=va(r);return Pa(t)}function Ba(e){e=At(e);let r=Ea(e),t=Ta(r);return Ca(t)}function _g(e){return Ba(e)}function Ua(e){let r=oo(e);if(r)throw r;return Uint8Array.from(e)}function oo(e){try{no(e)}catch(r){return r}}function kg(e){return oo(e)===void 0}function At(e){return"/"+e.trim().split("/").filter(r=>r).join("/")}function so(e){return new Error("Error parsing address: "+e)}function Mr(e){return to(e[0])}});var Da=w((hj,Ia)=>{"use strict";function Na(e,r){for(let t in r)Object.defineProperty(e,t,{value:r[t],enumerable:!0,configurable:!0});return e}function Ng(e,r,t){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof r=="object"&&(t=r,r=""),r&&(t.code=r);try{return Na(e,t)}catch(n){t.message=e.message,t.stack=e.stack;let o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(e)),Na(new o,t)}}Ia.exports=Ng});var Oa={};I(Oa,{equals:()=>Ig});function Ig(e,r){if(e===r)return!0;if(e.byteLength!==r.byteLength)return!1;for(let t=0;t<e.byteLength;t++)if(e[t]!==r[t])return!1;return!0}var Ra=_(()=>{});var F=w((gj,za)=>{"use strict";var we=ka(),lr=Et(),La=Pt(),{CID:Dg}=(T(),pn),{base58btc:Og}=(Ar(),Cr),Rg=Da(),Lg=Symbol.for("nodejs.util.inspect.custom"),{toString:Bt}=(ze(),$r),{equals:$g}=(Ra(),Oa),io=new Map,$a=Symbol.for("@multiformats/js-multiaddr/multiaddr"),W=class{constructor(r){if(r==null&&(r=""),Object.defineProperty(this,$a,{value:!0}),r instanceof Uint8Array)this.bytes=we.fromBytes(r);else if(typeof r=="string"){if(r.length>0&&r.charAt(0)!=="/")throw new Error(`multiaddr "${r}" must start with a "/"`);this.bytes=we.fromString(r)}else if(W.isMultiaddr(r))this.bytes=we.fromBytes(r.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return we.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){let r={},t=this.toString().split("/");return r.family=t[1]==="ip4"?4:6,r.host=t[2],r.transport=t[3],r.port=parseInt(t[4]),r}protos(){return this.protoCodes().map(r=>Object.assign({},lr(r)))}protoCodes(){let r=[],t=this.bytes,n=0;for(;n<t.length;){let o=La.decode(t,n),s=La.decode.bytes,i=lr(o);n+=we.sizeForAddr(i,t.slice(n+s))+s,r.push(o)}return r}protoNames(){return this.protos().map(r=>r.name)}tuples(){return we.bytesToTuples(this.bytes)}stringTuples(){let r=we.bytesToTuples(this.bytes);return we.tuplesToStringTuples(r)}encapsulate(r){return r=new W(r),new W(this.toString()+r.toString())}decapsulate(r){let t=r.toString(),n=this.toString(),o=n.lastIndexOf(t);if(o<0)throw new Error("Address "+this+" does not contain subaddress: "+r);return new W(n.slice(0,o))}decapsulateCode(r){let t=this.tuples();for(let n=t.length-1;n>=0;n--)if(t[n][0]===r)return new W(we.tuplesToBytes(t.slice(0,n)));return this}getPeerId(){try{let t=this.stringTuples().filter(n=>n[0]===lr.names.ipfs.code).pop();if(t&&t[1]){let n=t[1];return n[0]==="Q"||n[0]==="1"?Bt(Og.decode(`z${n}`),"base58btc"):Bt(Dg.parse(n).multihash.bytes,"base58btc")}return null}catch(r){return null}}getPath(){let r=null;try{r=this.stringTuples().filter(t=>!!lr(t[0]).path)[0][1],r||(r=null)}catch(t){r=null}return r}equals(r){return $g(this.bytes,r.bytes)}async resolve(){let r=this.protos().find(o=>o.resolvable);if(!r)return[this];let t=io.get(r.name);if(!t)throw Rg(new Error(`no available resolver for ${r.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await t(this)).map(o=>new W(o))}nodeAddress(){let r=this.protoCodes(),t=this.protoNames(),n=this.toString().split("/").slice(1);if(n.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(r[0]!==4&&r[0]!==41&&r[0]!==54&&r[0]!==55)throw new Error(`no protocol with name: "'${t[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(n[2]!=="tcp"&&n[2]!=="udp")throw new Error(`no protocol with name: "'${t[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:r[0]===41||r[0]===55?6:4,address:n[1],port:parseInt(n[3])}}isThinWaistAddress(r){let t=(r||this).protos();return!(t.length!==2||t[0].code!==4&&t[0].code!==41||t[1].code!==6&&t[1].code!==273)}static fromNodeAddress(r,t){if(!r)throw new Error("requires node address object");if(!t)throw new Error("requires transport protocol");let n;switch(r.family){case 4:n="ip4";break;case 6:n="ip6";break;default:throw Error(`Invalid addr family. Got '${r.family}' instead of 4 or 6`)}return new W("/"+[n,r.address,t,r.port].join("/"))}static isName(r){return W.isMultiaddr(r)?r.protos().some(t=>t.resolvable):!1}static isMultiaddr(r){return r instanceof W||Boolean(r&&r[$a])}[Lg](){return"<Multiaddr "+Bt(this.bytes,"base16")+" - "+we.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+Bt(this.bytes,"base16")+" - "+we.bytesToString(this.bytes)+">"}};W.protocols=lr;W.resolvers=io;function zg(e){return new W(e)}za.exports={Multiaddr:W,multiaddr:zg,protocols:lr,resolvers:io}});var Ma=w((yj,Fa)=>{function Fg(){return typeof window!="undefined"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process!="undefined"&&typeof process.versions=="object"&&!!process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0}Fa.exports=Fg});var ao=w((bj,qa)=>{"use strict";var Mg=Ma(),Ut=typeof window=="object"&&typeof document=="object"&&document.nodeType===9,qr=Mg(),qg=Ut&&!qr,Hg=qr&&!Ut,Vg=qr&&Ut,Gg=typeof Wo=="function"&&typeof process!="undefined"&&typeof process.release!="undefined"&&process.release.name==="node"&&!qr,Wg=typeof importScripts=="function"&&typeof self!="undefined"&&typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,Jg=typeof process!="undefined"&&typeof process.env!="undefined"&&!1,Kg=typeof navigator!="undefined"&&navigator.product==="ReactNative";qa.exports={isTest:Jg,isElectron:qr,isElectronMain:Hg,isElectronRenderer:Vg,isNode:Gg,isBrowser:qg,isWebWorker:Wg,isEnvWithDom:Ut,isReactNative:Kg}});var Wa=w((jj,Ga)=>{var fr=1e3,mr=fr*60,dr=mr*60,Ge=dr*24,Qg=Ge*7,Zg=Ge*365.25;Ga.exports=function(e,r){r=r||{};var t=typeof e;if(t==="string"&&e.length>0)return Yg(e);if(t==="number"&&isFinite(e))return r.long?ry(e):ey(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Yg(e){if(e=String(e),!(e.length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!r){var t=parseFloat(r[1]),n=(r[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*Zg;case"weeks":case"week":case"w":return t*Qg;case"days":case"day":case"d":return t*Ge;case"hours":case"hour":case"hrs":case"hr":case"h":return t*dr;case"minutes":case"minute":case"mins":case"min":case"m":return t*mr;case"seconds":case"second":case"secs":case"sec":case"s":return t*fr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function ey(e){var r=Math.abs(e);return r>=Ge?Math.round(e/Ge)+"d":r>=dr?Math.round(e/dr)+"h":r>=mr?Math.round(e/mr)+"m":r>=fr?Math.round(e/fr)+"s":e+"ms"}function ry(e){var r=Math.abs(e);return r>=Ge?_t(e,r,Ge,"day"):r>=dr?_t(e,r,dr,"hour"):r>=mr?_t(e,r,mr,"minute"):r>=fr?_t(e,r,fr,"second"):e+" ms"}function _t(e,r,t,n){var o=r>=t*1.5;return Math.round(e/t)+" "+n+(o?"s":"")}});var Ka=w((xj,Ja)=>{function ty(e){t.debug=t,t.default=t,t.coerce=c,t.disable=s,t.enable=o,t.enabled=i,t.humanize=Wa(),t.destroy=f,Object.keys(e).forEach(m=>{t[m]=e[m]}),t.names=[],t.skips=[],t.formatters={};function r(m){let h=0;for(let S=0;S<m.length;S++)h=(h<<5)-h+m.charCodeAt(S),h|=0;return t.colors[Math.abs(h)%t.colors.length]}t.selectColor=r;function t(m){let h,S=null,k,C;function U(...N){if(!U.enabled)return;let z=U,G=Number(new Date),ie=G-(h||G);z.diff=ie,z.prev=h,z.curr=G,h=G,N[0]=t.coerce(N[0]),typeof N[0]!="string"&&N.unshift("%O");let H=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,(ae,Y)=>{if(ae==="%%")return"%";H++;let ce=t.formatters[Y];if(typeof ce=="function"){let Ze=N[H];ae=ce.call(z,Ze),N.splice(H,1),H--}return ae}),t.formatArgs.call(z,N),(z.log||t.log).apply(z,N)}return U.namespace=m,U.useColors=t.useColors(),U.color=t.selectColor(m),U.extend=n,U.destroy=t.destroy,Object.defineProperty(U,"enabled",{enumerable:!0,configurable:!1,get:()=>S!==null?S:(k!==t.namespaces&&(k=t.namespaces,C=t.enabled(m)),C),set:N=>{S=N}}),typeof t.init=="function"&&t.init(U),U}function n(m,h){let S=t(this.namespace+(typeof h=="undefined"?":":h)+m);return S.log=this.log,S}function o(m){t.save(m),t.namespaces=m,t.names=[],t.skips=[];let h,S=(typeof m=="string"?m:"").split(/[\s,]+/),k=S.length;for(h=0;h<k;h++)!S[h]||(m=S[h].replace(/\*/g,".*?"),m[0]==="-"?t.skips.push(new RegExp("^"+m.substr(1)+"$")):t.names.push(new RegExp("^"+m+"$")))}function s(){let m=[...t.names.map(a),...t.skips.map(a).map(h=>"-"+h)].join(",");return t.enable(""),m}function i(m){if(m[m.length-1]==="*")return!0;let h,S;for(h=0,S=t.skips.length;h<S;h++)if(t.skips[h].test(m))return!1;for(h=0,S=t.names.length;h<S;h++)if(t.names[h].test(m))return!0;return!1}function a(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}function c(m){return m instanceof Error?m.stack||m.message:m}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}Ja.exports=ty});var co=w((se,kt)=>{se.formatArgs=oy;se.save=sy;se.load=iy;se.useColors=ny;se.storage=ay();se.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();se.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function ny(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function oy(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+kt.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;e.splice(1,0,r,"color: inherit");let t=0,n=0;e[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(t++,o==="%c"&&(n=t))}),e.splice(n,0,r)}se.log=console.debug||console.log||(()=>{});function sy(e){try{e?se.storage.setItem("debug",e):se.storage.removeItem("debug")}catch(r){}}function iy(){let e;try{e=se.storage.getItem("debug")}catch(r){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function ay(){try{return localStorage}catch(e){}}kt.exports=Ka()(se);var{formatters:cy}=kt.exports;cy.j=function(e){try{return JSON.stringify(e)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}}});var uo=w(Nt=>{"use strict";var Xa=class extends Error{constructor(r="Request timed out"){super(r);this.name="TimeoutError"}};Nt.TimeoutError=Xa;var Qa=class extends Error{constructor(r="The operation was aborted."){super(r);this.name="AbortError"}};Nt.AbortError=Qa;var Za=class extends Error{constructor(r){super(r.statusText);this.name="HTTPError",this.response=r}};Nt.HTTPError=Za});var Ya=w(()=>{});var Hr=w((pr,ec)=>{"use strict";var uy=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof _e!="undefined")return _e;throw new Error("unable to locate global object")},_e=uy();ec.exports=pr=_e.fetch;_e.fetch&&(pr.default=_e.fetch.bind(_e));pr.Headers=_e.Headers;pr.Request=_e.Request;pr.Response=_e.Response});var rc=w((Tj,lo)=>{"use strict";globalThis.fetch&&globalThis.Headers&&globalThis.Request&&globalThis.Response?lo.exports={default:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response}:lo.exports={default:Hr().default,Headers:Hr().Headers,Request:Hr().Request,Response:Hr().Response}});var tc=w((vj,fo)=>{"use strict";var{isElectronMain:ly}=ao();ly?fo.exports=Ya():fo.exports=rc()});var ic=w((Cj,sc)=>{"use strict";var{TimeoutError:fy,AbortError:my}=uo(),{Response:nc,Request:dy,Headers:mo,default:py}=tc(),hy=(e,r={})=>{let t=new XMLHttpRequest;t.open(r.method||"GET",e.toString(),!0);let{timeout:n,headers:o}=r;if(n&&n>0&&n<1/0&&(t.timeout=n),r.overrideMimeType!=null&&t.overrideMimeType(r.overrideMimeType),o)for(let[s,i]of new mo(o))t.setRequestHeader(s,i);return r.signal&&(r.signal.onabort=()=>t.abort()),r.onUploadProgress&&(t.upload.onprogress=r.onUploadProgress),t.responseType="arraybuffer",new Promise((s,i)=>{let a=c=>{switch(c.type){case"error":{s(nc.error());break}case"load":{s(new oc(t.responseURL,t.response,{status:t.status,statusText:t.statusText,headers:by(t.getAllResponseHeaders())}));break}case"timeout":{i(new fy);break}case"abort":{i(new my);break}default:break}};t.onerror=a,t.onload=a,t.ontimeout=a,t.onabort=a,t.send(r.body)})},gy=py,yy=(e,r={})=>r.onUploadProgress!=null?hy(e,r):gy(e,r),by=e=>{let r=new mo;for(let t of e.trim().split(/[\r\n]+/)){let n=t.indexOf(": ");n>0&&r.set(t.slice(0,n),t.slice(n+1))}return r},oc=class extends nc{constructor(r,t,n){super(t,n);Object.defineProperty(this,"url",{value:r})}};sc.exports={fetch:yy,Request:dy,Headers:mo}});var cc=w((Aj,ac)=>{"use strict";ac.exports=e=>{if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let r=Object.getPrototypeOf(e);return r===null||r===Object.prototype}});var ho=w((mc,dc)=>{"use strict";var It=cc(),{hasOwnProperty:uc}=Object.prototype,{propertyIsEnumerable:wy}=Object,hr=(e,r,t)=>Object.defineProperty(e,r,{value:t,writable:!0,enumerable:!0,configurable:!0}),jy=mc,lc={concatArrays:!1,ignoreUndefined:!1},Dt=e=>{let r=[];for(let t in e)uc.call(e,t)&&r.push(t);if(Object.getOwnPropertySymbols){let t=Object.getOwnPropertySymbols(e);for(let n of t)wy.call(e,n)&&r.push(n)}return r};function gr(e){return Array.isArray(e)?xy(e):It(e)?Sy(e):e}function xy(e){let r=e.slice(0,0);return Dt(e).forEach(t=>{hr(r,t,gr(e[t]))}),r}function Sy(e){let r=Object.getPrototypeOf(e)===null?Object.create(null):{};return Dt(e).forEach(t=>{hr(r,t,gr(e[t]))}),r}var fc=(e,r,t,n)=>(t.forEach(o=>{typeof r[o]=="undefined"&&n.ignoreUndefined||(o in e&&e[o]!==Object.getPrototypeOf(e)?hr(e,o,po(e[o],r[o],n)):hr(e,o,gr(r[o])))}),e),Ey=(e,r,t)=>{let n=e.slice(0,0),o=0;return[e,r].forEach(s=>{let i=[];for(let a=0;a<s.length;a++)!uc.call(s,a)||(i.push(String(a)),s===e?hr(n,o++,s[a]):hr(n,o++,gr(s[a])));n=fc(n,s,Dt(s).filter(a=>!i.includes(a)),t)}),n};function po(e,r,t){return t.concatArrays&&Array.isArray(e)&&Array.isArray(r)?Ey(e,r,t):!It(r)||!It(e)?gr(r):fc(e,r,Dt(r),t)}dc.exports=function(...e){let r=po(gr(lc),this!==jy&&this||{},lc),t={_:{}};for(let n of e)if(n!==void 0){if(!It(n))throw new TypeError("`"+n+"` is not an Option Object");t=po(t,{_:n},r)}return t._}});var go=w((Bj,gc)=>{"use strict";var Py=typeof navigator!="undefined"&&navigator.product==="ReactNative";function Ty(){return Py?"http://localhost":self.location?self.location.protocol+"//"+self.location.host:""}var Vr=self.URL,pc=Ty(),hc=class{constructor(r="",t=pc){this.super=new Vr(r,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(r){this.super.hash=r}set host(r){this.super.host=r}set hostname(r){this.super.hostname=r}set href(r){this.super.href=r}set password(r){this.super.password=r}set pathname(r){this.super.pathname=r}set port(r){this.super.port=r}set protocol(r){this.super.protocol=r}set search(r){this.super.search=r}set username(r){this.super.username=r}static createObjectURL(r){return Vr.createObjectURL(r)}static revokeObjectURL(r){Vr.revokeObjectURL(r)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function vy(e){if(typeof e=="string")return new Vr(e).toString();if(!(e instanceof Vr)){let r=e.username&&e.password?`${e.username}:${e.password}@`:"",t=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",o=e.protocol?e.protocol+"//":"",s=e.host||"",i=e.hostname||"",a=e.search||(e.query?"?"+e.query:""),c=e.hash||"",f=e.pathname||"",m=e.path||f+a;return`${o}${r||t}${s||i+n}${m}${c}`}}gc.exports={URLWithLegacySupport:hc,URLSearchParams:self.URLSearchParams,defaultBase:pc,format:vy}});var wc=w((Uj,bc)=>{"use strict";var{URLWithLegacySupport:yc,format:Cy}=go();bc.exports=(e,r={},t={},n)=>{let o=r.protocol?r.protocol.replace(":",""):"http";o=(t[o]||n||o)+":";let s;try{s=new yc(e)}catch(a){s={}}let i=Object.assign({},r,{protocol:o||s.protocol,host:r.host||s.host});return new yc(e,Cy(i)).toString()}});var xc=w((_j,jc)=>{"use strict";var{URLWithLegacySupport:Ay,format:By,URLSearchParams:Uy,defaultBase:_y}=go(),ky=wc();jc.exports={URL:Ay,URLSearchParams:Uy,format:By,relative:ky,defaultBase:_y}});var Ec=w((kj,Ot)=>{"use strict";var{AbortController:Sc,AbortSignal:Ny}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;Ot.exports=Sc;Ot.exports.AbortSignal=Ny;Ot.exports.default=Sc});var Q=w((Nj,yo)=>{"use strict";var Rt;globalThis.AbortController&&globalThis.AbortSignal?Rt=globalThis:Rt=Ec();yo.exports.AbortSignal=Rt.AbortSignal;yo.exports.AbortController=Rt.AbortController});var wo=w((Ij,bo)=>{var{AbortController:Iy}=Q();function Pc(e){let r=new Iy;function t(){r.abort();for(let n of e)!n||!n.removeEventListener||n.removeEventListener("abort",t)}for(let n of e)if(!(!n||!n.addEventListener)){if(n.aborted){t();break}n.addEventListener("abort",t)}return r.signal}bo.exports=Pc;bo.exports.anySignal=Pc});var xo=w((Dj,Uc)=>{"use strict";var{fetch:Dy,Request:Oy,Headers:Ry}=ic(),{TimeoutError:jo,HTTPError:Tc}=uo(),vc=ho().bind({ignoreUndefined:!0}),{URL:Cc,URLSearchParams:Ac}=xc(),{AbortController:Ly}=Q(),$y=wo(),zy=(e,r,t)=>{if(r===void 0)return e;let n=Date.now(),o=()=>Date.now()-n>=r;return new Promise((s,i)=>{let a=setTimeout(()=>{o()&&(i(new jo),t.abort())},r),c=f=>h=>{if(clearTimeout(a),o()){i(new jo);return}f(h)};e.then(c(s),c(i))})},Fy={throwHttpErrors:!0,credentials:"same-origin"},J=class{constructor(r={}){this.opts=vc(Fy,r)}async fetch(r,t={}){let n=vc(this.opts,t),o=new Ry(n.headers);if(typeof r!="string"&&!(r instanceof Cc||r instanceof Oy))throw new TypeError("`resource` must be a string, URL, or Request");let s=new Cc(r.toString(),n.base),{searchParams:i,transformSearchParams:a,json:c}=n;i&&(typeof a=="function"?s.search=a(new Ac(n.searchParams)):s.search=new Ac(n.searchParams)),c&&(n.body=JSON.stringify(n.json),o.set("content-type","application/json"));let f=new Ly,m=$y([f.signal,n.signal]),h=await zy(Dy(s.toString(),{...n,signal:m,timeout:void 0,headers:o}),n.timeout,f);if(!h.ok&&n.throwHttpErrors)throw n.handleError&&await n.handleError(h),new Tc(h);return h.iterator=function(){return Bc(h.body)},h.ndjson=async function*(){for await(let S of My(h.iterator()))t.transform?yield t.transform(S):yield S},h}post(r,t={}){return this.fetch(r,{...t,method:"POST"})}get(r,t={}){return this.fetch(r,{...t,method:"GET"})}put(r,t={}){return this.fetch(r,{...t,method:"PUT"})}delete(r,t={}){return this.fetch(r,{...t,method:"DELETE"})}options(r,t={}){return this.fetch(r,{...t,method:"OPTIONS"})}},My=async function*(e){let r=new TextDecoder,t="";for await(let n of e){t+=r.decode(n,{stream:!0});let o=t.split(/\r?\n/);for(let s=0;s<o.length-1;s++){let i=o[s].trim();i.length>0&&(yield JSON.parse(i))}t=o[o.length-1]}t+=r.decode(),t=t.trim(),t.length!==0&&(yield JSON.parse(t))},Bc=e=>{if(Vy(e)){let r=e[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{next:r.next.bind(r),return(t){return e.destroy(),typeof r.return=="function"?r.return():Promise.resolve({done:!0,value:t})}}}}}if(Hy(e)){let r=e.getReader();return async function*(){try{for(;;){let{done:t,value:n}=await r.read();if(t)return;n&&(yield n)}}finally{r.releaseLock()}}()}if(qy(e))return e;throw new TypeError("Body can't be converted to AsyncIterable")},qy=e=>typeof e=="object"&&e!==null&&typeof e[Symbol.asyncIterator]=="function",Hy=e=>e&&typeof e.getReader=="function",Vy=e=>Object.prototype.hasOwnProperty.call(e,"readable")&&Object.prototype.hasOwnProperty.call(e,"writable");J.HTTPError=Tc;J.TimeoutError=jo;J.streamToAsyncIterator=Bc;J.post=(e,r)=>new J(r).post(e,r);J.get=(e,r)=>new J(r).get(e,r);J.put=(e,r)=>new J(r).put(e,r);J.delete=(e,r)=>new J(r).delete(e,r);J.options=(e,r)=>new J(r).options(e,r);Uc.exports=J});var Ic=w((Rj,Nc)=>{var{Multiaddr:Gy}=F(),Lt=(e,r)=>r,Wy=(e,r,t,n)=>{if(n&&n.assumeHttp===!1)return`tcp://${e}:${r}`;let o="tcp",s=`:${r}`;return t[t.length-1].protocol==="tcp"&&(o=r==="443"?"https":"http",s=r==="443"||r==="80"?"":s),`${o}://${e}${s}`},Jy={ip4:Lt,ip6:(e,r,t,n)=>n.length===1&&n[0].protocol==="ip6"?r:`[${r}]`,tcp:(e,r,t,n,o)=>n.some(s=>["http","https","ws","wss"].includes(s.protocol))?`${e}:${r}`:Wy(e,r,n,o),udp:(e,r)=>`udp://${e}:${r}`,dnsaddr:Lt,dns4:Lt,dns6:Lt,ipfs:(e,r)=>`${e}/ipfs/${r}`,p2p:(e,r)=>`${e}/p2p/${r}`,http:e=>`http://${e}`,https:e=>`https://${e}`,ws:e=>`ws://${e}`,wss:e=>`wss://${e}`,"p2p-websocket-star":e=>`${e}/p2p-websocket-star`,"p2p-webrtc-star":e=>`${e}/p2p-webrtc-star`,"p2p-webrtc-direct":e=>`${e}/p2p-webrtc-direct`};Nc.exports=(e,r)=>{let t=new Gy(e),n=e.toString().split("/").slice(1);return t.tuples().map(o=>({protocol:n.shift(),content:o[1]?n.shift():null})).reduce((o,s,i,a)=>{let c=Jy[s.protocol];if(!c)throw new Error(`Unsupported protocol ${s.protocol}`);return c(o,s.content,i,a,r)},"")}});var Ke=w((Kj,Mc)=>{"use strict";function Fc(e,r){for(let t in r)Object.defineProperty(e,t,{value:r[t],enumerable:!0,configurable:!0});return e}function nb(e,r,t){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof r=="object"&&(t=r,r=""),r&&(t.code=r);try{return Fc(e,t)}catch(n){t.message=e.message,t.stack=e.stack;let o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(e)),Fc(new o,t)}}Mc.exports=nb});var yr=w((E1,Kc)=>{"use strict";function Jc(e,r){for(let t in r)Object.defineProperty(e,t,{value:r[t],enumerable:!0,configurable:!0});return e}function sb(e,r,t){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof r=="object"&&(t=r,r=""),r&&(t.code=r);try{return Jc(e,t)}catch(n){t.message=e.message,t.stack=e.stack;let o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(e)),Jc(new o,t)}}Kc.exports=sb});var Gr=w((P1,Xc)=>{"use strict";function ib(e){let[r,t]=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>r.next(),push:o=>{n.push(o)},next:()=>n.length?{done:!1,value:n.shift()}:r.next(),[t](){return this}}}Xc.exports=ib});var br=w((T1,Qc)=>{"use strict";async function*ab(e,r={}){let t=e.getReader();try{for(;;){let n=await t.read();if(n.done)return;yield n.value}}finally{r.preventCancel!==!0&&t.cancel(),t.releaseLock()}}Qc.exports=ab});var Po=w((v1,Zc)=>{"use strict";var cb=async e=>{let r=[];for await(let t of e)r.push(t);return r};Zc.exports=cb});var To=w((U1,su)=>{"use strict";var ub=async function*(e,r){for await(let t of e)yield r(t)};su.exports=ub});var cu=w((_1,au)=>{"use strict";function iu(e,r){for(let t in r)Object.defineProperty(e,t,{value:r[t],enumerable:!0,configurable:!0});return e}function lb(e,r,t){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof r=="object"&&(t=r,r=""),r&&(t.code=r);try{return iu(e,t)}catch(n){t.message=e.message,t.stack=e.stack;let o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(e)),iu(new o,t)}}au.exports=lb});var lu=w((k1,uu)=>{"use strict";uu.exports=fb;function fb(e,r){for(var t=new Array(arguments.length-1),n=0,o=2,s=!0;o<arguments.length;)t[n++]=arguments[o++];return new Promise(function(a,c){t[n]=function(m){if(s)if(s=!1,m)c(m);else{for(var h=new Array(arguments.length-1),S=0;S<h.length;)h[S++]=arguments[S];a.apply(null,h)}};try{e.apply(r||null,t)}catch(f){s&&(s=!1,c(f))}})}});var pu=w(du=>{"use strict";var qt=du;qt.length=function(r){var t=r.length;if(!t)return 0;for(var n=0;--t%4>1&&r.charAt(t)==="=";)++n;return Math.ceil(r.length*3)/4-n};var wr=new Array(64),fu=new Array(123);for(je=0;je<64;)fu[wr[je]=je<26?je+65:je<52?je+71:je<62?je-4:je-59|43]=je++;var je;qt.encode=function(r,t,n){for(var o=null,s=[],i=0,a=0,c;t<n;){var f=r[t++];switch(a){case 0:s[i++]=wr[f>>2],c=(f&3)<<4,a=1;break;case 1:s[i++]=wr[c|f>>4],c=(f&15)<<2,a=2;break;case 2:s[i++]=wr[c|f>>6],s[i++]=wr[f&63],a=0;break}i>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),i=0)}return a&&(s[i++]=wr[c],s[i++]=61,a===1&&(s[i++]=61)),o?(i&&o.push(String.fromCharCode.apply(String,s.slice(0,i))),o.join("")):String.fromCharCode.apply(String,s.slice(0,i))};var mu="invalid encoding";qt.decode=function(r,t,n){for(var o=n,s=0,i,a=0;a<r.length;){var c=r.charCodeAt(a++);if(c===61&&s>1)break;if((c=fu[c])===void 0)throw Error(mu);switch(s){case 0:i=c,s=1;break;case 1:t[n++]=i<<2|(c&48)>>4,i=c,s=2;break;case 2:t[n++]=(i&15)<<4|(c&60)>>2,i=c,s=3;break;case 3:t[n++]=(i&3)<<6|c,s=0;break}}if(s===1)throw Error(mu);return n-o};qt.test=function(r){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(r)}});var gu=w((I1,hu)=>{"use strict";hu.exports=Ht;function Ht(){this._listeners={}}Ht.prototype.on=function(r,t,n){return(this._listeners[r]||(this._listeners[r]=[])).push({fn:t,ctx:n||this}),this};Ht.prototype.off=function(r,t){if(r===void 0)this._listeners={};else if(t===void 0)this._listeners[r]=[];else for(var n=this._listeners[r],o=0;o<n.length;)n[o].fn===t?n.splice(o,1):++o;return this};Ht.prototype.emit=function(r){var t=this._listeners[r];if(t){for(var n=[],o=1;o<arguments.length;)n.push(arguments[o++]);for(o=0;o<t.length;)t[o].fn.apply(t[o++].ctx,n)}return this}});var Eu=w((D1,Su)=>{"use strict";Su.exports=yu(yu);function yu(e){return typeof Float32Array!="undefined"?function(){var r=new Float32Array([-0]),t=new Uint8Array(r.buffer),n=t[3]===128;function o(c,f,m){r[0]=c,f[m]=t[0],f[m+1]=t[1],f[m+2]=t[2],f[m+3]=t[3]}function s(c,f,m){r[0]=c,f[m]=t[3],f[m+1]=t[2],f[m+2]=t[1],f[m+3]=t[0]}e.writeFloatLE=n?o:s,e.writeFloatBE=n?s:o;function i(c,f){return t[0]=c[f],t[1]=c[f+1],t[2]=c[f+2],t[3]=c[f+3],r[0]}function a(c,f){return t[3]=c[f],t[2]=c[f+1],t[1]=c[f+2],t[0]=c[f+3],r[0]}e.readFloatLE=n?i:a,e.readFloatBE=n?a:i}():function(){function r(n,o,s,i){var a=o<0?1:0;if(a&&(o=-o),o===0)n(1/o>0?0:2147483648,s,i);else if(isNaN(o))n(2143289344,s,i);else if(o>34028234663852886e22)n((a<<31|2139095040)>>>0,s,i);else if(o<11754943508222875e-54)n((a<<31|Math.round(o/1401298464324817e-60))>>>0,s,i);else{var c=Math.floor(Math.log(o)/Math.LN2),f=Math.round(o*Math.pow(2,-c)*8388608)&8388607;n((a<<31|c+127<<23|f)>>>0,s,i)}}e.writeFloatLE=r.bind(null,bu),e.writeFloatBE=r.bind(null,wu);function t(n,o,s){var i=n(o,s),a=(i>>31)*2+1,c=i>>>23&255,f=i&8388607;return c===255?f?NaN:a*(1/0):c===0?a*1401298464324817e-60*f:a*Math.pow(2,c-150)*(f+8388608)}e.readFloatLE=t.bind(null,ju),e.readFloatBE=t.bind(null,xu)}(),typeof Float64Array!="undefined"?function(){var r=new Float64Array([-0]),t=new Uint8Array(r.buffer),n=t[7]===128;function o(c,f,m){r[0]=c,f[m]=t[0],f[m+1]=t[1],f[m+2]=t[2],f[m+3]=t[3],f[m+4]=t[4],f[m+5]=t[5],f[m+6]=t[6],f[m+7]=t[7]}function s(c,f,m){r[0]=c,f[m]=t[7],f[m+1]=t[6],f[m+2]=t[5],f[m+3]=t[4],f[m+4]=t[3],f[m+5]=t[2],f[m+6]=t[1],f[m+7]=t[0]}e.writeDoubleLE=n?o:s,e.writeDoubleBE=n?s:o;function i(c,f){return t[0]=c[f],t[1]=c[f+1],t[2]=c[f+2],t[3]=c[f+3],t[4]=c[f+4],t[5]=c[f+5],t[6]=c[f+6],t[7]=c[f+7],r[0]}function a(c,f){return t[7]=c[f],t[6]=c[f+1],t[5]=c[f+2],t[4]=c[f+3],t[3]=c[f+4],t[2]=c[f+5],t[1]=c[f+6],t[0]=c[f+7],r[0]}e.readDoubleLE=n?i:a,e.readDoubleBE=n?a:i}():function(){function r(n,o,s,i,a,c){var f=i<0?1:0;if(f&&(i=-i),i===0)n(0,a,c+o),n(1/i>0?0:2147483648,a,c+s);else if(isNaN(i))n(0,a,c+o),n(2146959360,a,c+s);else if(i>17976931348623157e292)n(0,a,c+o),n((f<<31|2146435072)>>>0,a,c+s);else{var m;if(i<22250738585072014e-324)m=i/5e-324,n(m>>>0,a,c+o),n((f<<31|m/4294967296)>>>0,a,c+s);else{var h=Math.floor(Math.log(i)/Math.LN2);h===1024&&(h=1023),m=i*Math.pow(2,-h),n(m*4503599627370496>>>0,a,c+o),n((f<<31|h+1023<<20|m*1048576&1048575)>>>0,a,c+s)}}}e.writeDoubleLE=r.bind(null,bu,0,4),e.writeDoubleBE=r.bind(null,wu,4,0);function t(n,o,s,i,a){var c=n(i,a+o),f=n(i,a+s),m=(f>>31)*2+1,h=f>>>20&2047,S=4294967296*(f&1048575)+c;return h===2047?S?NaN:m*(1/0):h===0?m*5e-324*S:m*Math.pow(2,h-1075)*(S+4503599627370496)}e.readDoubleLE=t.bind(null,ju,0,4),e.readDoubleBE=t.bind(null,xu,4,0)}(),e}function bu(e,r,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24}function wu(e,r,t){r[t]=e>>>24,r[t+1]=e>>>16&255,r[t+2]=e>>>8&255,r[t+3]=e&255}function ju(e,r){return(e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24)>>>0}function xu(e,r){return(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3])>>>0}});var Pu=w((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}});var vu=w(Tu=>{"use strict";var vo=Tu;vo.length=function(r){for(var t=0,n=0,o=0;o<r.length;++o)n=r.charCodeAt(o),n<128?t+=1:n<2048?t+=2:(n&64512)==55296&&(r.charCodeAt(o+1)&64512)==56320?(++o,t+=4):t+=3;return t};vo.read=function(r,t,n){var o=n-t;if(o<1)return"";for(var s=null,i=[],a=0,c;t<n;)c=r[t++],c<128?i[a++]=c:c>191&&c<224?i[a++]=(c&31)<<6|r[t++]&63:c>239&&c<365?(c=((c&7)<<18|(r[t++]&63)<<12|(r[t++]&63)<<6|r[t++]&63)-65536,i[a++]=55296+(c>>10),i[a++]=56320+(c&1023)):i[a++]=(c&15)<<12|(r[t++]&63)<<6|r[t++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,i)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,i.slice(0,a))),s.join("")):String.fromCharCode.apply(String,i.slice(0,a))};vo.write=function(r,t,n){for(var o=n,s,i,a=0;a<r.length;++a)s=r.charCodeAt(a),s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)==55296&&((i=r.charCodeAt(a+1))&64512)==56320?(s=65536+((s&1023)<<10)+(i&1023),++a,t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128);return n-o}});var Au=w((R1,Cu)=>{"use strict";Cu.exports=mb;function mb(e,r,t){var n=t||8192,o=n>>>1,s=null,i=n;return function(c){if(c<1||c>o)return e(c);i+c>n&&(s=e(n),i=0);var f=r.call(s,i,i+=c);return i&7&&(i=(i|7)+1),f}}});var Uu=w((L1,Bu)=>{"use strict";Bu.exports=q;var Jr=Me();function q(e,r){this.lo=e>>>0,this.hi=r>>>0}var Xe=q.zero=new q(0,0);Xe.toNumber=function(){return 0};Xe.zzEncode=Xe.zzDecode=function(){return this};Xe.length=function(){return 1};var db=q.zeroHash="\0\0\0\0\0\0\0\0";q.fromNumber=function(r){if(r===0)return Xe;var t=r<0;t&&(r=-r);var n=r>>>0,o=(r-n)/4294967296>>>0;return t&&(o=~o>>>0,n=~n>>>0,++n>4294967295&&(n=0,++o>4294967295&&(o=0))),new q(n,o)};q.from=function(r){if(typeof r=="number")return q.fromNumber(r);if(Jr.isString(r))if(Jr.Long)r=Jr.Long.fromString(r);else return q.fromNumber(parseInt(r,10));return r.low||r.high?new q(r.low>>>0,r.high>>>0):Xe};q.prototype.toNumber=function(r){if(!r&&this.hi>>>31){var t=~this.lo+1>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+n*4294967296)}return this.lo+this.hi*4294967296};q.prototype.toLong=function(r){return Jr.Long?new Jr.Long(this.lo|0,this.hi|0,Boolean(r)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(r)}};var Fe=String.prototype.charCodeAt;q.fromHash=function(r){return r===db?Xe:new q((Fe.call(r,0)|Fe.call(r,1)<<8|Fe.call(r,2)<<16|Fe.call(r,3)<<24)>>>0,(Fe.call(r,4)|Fe.call(r,5)<<8|Fe.call(r,6)<<16|Fe.call(r,7)<<24)>>>0)};q.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};q.prototype.zzEncode=function(){var r=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^r)>>>0,this.lo=(this.lo<<1^r)>>>0,this};q.prototype.zzDecode=function(){var r=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^r)>>>0,this.hi=(this.hi>>>1^r)>>>0,this};q.prototype.length=function(){var r=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?t===0?r<16384?r<128?1:2:r<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}});var Me=w(Co=>{"use strict";var j=Co;j.asPromise=lu();j.base64=pu();j.EventEmitter=gu();j.float=Eu();j.inquire=Pu();j.utf8=vu();j.pool=Au();j.LongBits=Uu();j.isNode=Boolean(typeof globalThis!="undefined"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);j.global=j.isNode&&globalThis||typeof window!="undefined"&&window||typeof self!="undefined"&&self||Co;j.emptyArray=Object.freeze?Object.freeze([]):[];j.emptyObject=Object.freeze?Object.freeze({}):{};j.isInteger=Number.isInteger||function(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r};j.isString=function(r){return typeof r=="string"||r instanceof String};j.isObject=function(r){return r&&typeof r=="object"};j.isset=j.isSet=function(r,t){var n=r[t];return n!=null&&r.hasOwnProperty(t)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};j.Buffer=function(){try{var e=j.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(r){return null}}();j._Buffer_from=null;j._Buffer_allocUnsafe=null;j.newBuffer=function(r){return typeof r=="number"?j.Buffer?j._Buffer_allocUnsafe(r):new j.Array(r):j.Buffer?j._Buffer_from(r):typeof Uint8Array=="undefined"?r:new Uint8Array(r)};j.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;j.Long=j.global.dcodeIO&&j.global.dcodeIO.Long||j.global.Long||j.inquire("long");j.key2Re=/^true|false|0|1$/;j.key32Re=/^-?(?:0|[1-9][0-9]*)$/;j.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;j.longToHash=function(r){return r?j.LongBits.from(r).toHash():j.LongBits.zeroHash};j.longFromHash=function(r,t){var n=j.LongBits.fromHash(r);return j.Long?j.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))};function _u(e,r,t){for(var n=Object.keys(r),o=0;o<n.length;++o)(e[n[o]]===void 0||!t)&&(e[n[o]]=r[n[o]]);return e}j.merge=_u;j.lcFirst=function(r){return r.charAt(0).toLowerCase()+r.substring(1)};function ku(e){function r(t,n){if(!(this instanceof r))return new r(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,r):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&_u(this,n)}return(r.prototype=Object.create(Error.prototype)).constructor=r,Object.defineProperty(r.prototype,"name",{get:function(){return e}}),r.prototype.toString=function(){return this.name+": "+this.message},r}j.newError=ku;j.ProtocolError=ku("ProtocolError");j.oneOfGetter=function(r){for(var t={},n=0;n<r.length;++n)t[r[n]]=1;return function(){for(var o=Object.keys(this),s=o.length-1;s>-1;--s)if(t[o[s]]===1&&this[o[s]]!==void 0&&this[o[s]]!==null)return o[s]}};j.oneOfSetter=function(r){return function(t){for(var n=0;n<r.length;++n)r[n]!==t&&delete this[r[n]]}};j.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};j._configure=function(){var e=j.Buffer;if(!e){j._Buffer_from=j._Buffer_allocUnsafe=null;return}j._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},j._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}});var Io=w((z1,Ou)=>{"use strict";Ou.exports=A;var de=Me(),Ao,Vt=de.LongBits,Nu=de.base64,Iu=de.utf8;function Kr(e,r,t){this.fn=e,this.len=r,this.next=void 0,this.val=t}function Bo(){}function pb(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function A(){this.len=0,this.head=new Kr(Bo,0,0),this.tail=this.head,this.states=null}var Du=function(){return de.Buffer?function(){return(A.create=function(){return new Ao})()}:function(){return new A}};A.create=Du();A.alloc=function(r){return new de.Array(r)};de.Array!==Array&&(A.alloc=de.pool(A.alloc,de.Array.prototype.subarray));A.prototype._push=function(r,t,n){return this.tail=this.tail.next=new Kr(r,t,n),this.len+=t,this};function Uo(e,r,t){r[t]=e&255}function hb(e,r,t){for(;e>127;)r[t++]=e&127|128,e>>>=7;r[t]=e}function _o(e,r){this.len=e,this.next=void 0,this.val=r}_o.prototype=Object.create(Kr.prototype);_o.prototype.fn=hb;A.prototype.uint32=function(r){return this.len+=(this.tail=this.tail.next=new _o((r=r>>>0)<128?1:r<16384?2:r<2097152?3:r<268435456?4:5,r)).len,this};A.prototype.int32=function(r){return r<0?this._push(ko,10,Vt.fromNumber(r)):this.uint32(r)};A.prototype.sint32=function(r){return this.uint32((r<<1^r>>31)>>>0)};function ko(e,r,t){for(;e.hi;)r[t++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)r[t++]=e.lo&127|128,e.lo=e.lo>>>7;r[t++]=e.lo}A.prototype.uint64=function(r){var t=Vt.from(r);return this._push(ko,t.length(),t)};A.prototype.int64=A.prototype.uint64;A.prototype.sint64=function(r){var t=Vt.from(r).zzEncode();return this._push(ko,t.length(),t)};A.prototype.bool=function(r){return this._push(Uo,1,r?1:0)};function No(e,r,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24}A.prototype.fixed32=function(r){return this._push(No,4,r>>>0)};A.prototype.sfixed32=A.prototype.fixed32;A.prototype.fixed64=function(r){var t=Vt.from(r);return this._push(No,4,t.lo)._push(No,4,t.hi)};A.prototype.sfixed64=A.prototype.fixed64;A.prototype.float=function(r){return this._push(de.float.writeFloatLE,4,r)};A.prototype.double=function(r){return this._push(de.float.writeDoubleLE,8,r)};var gb=de.Array.prototype.set?function(r,t,n){t.set(r,n)}:function(r,t,n){for(var o=0;o<r.length;++o)t[n+o]=r[o]};A.prototype.bytes=function(r){var t=r.length>>>0;if(!t)return this._push(Uo,1,0);if(de.isString(r)){var n=A.alloc(t=Nu.length(r));Nu.decode(r,n,0),r=n}return this.uint32(t)._push(gb,t,r)};A.prototype.string=function(r){var t=Iu.length(r);return t?this.uint32(t)._push(Iu.write,t,r):this._push(Uo,1,0)};A.prototype.fork=function(){return this.states=new pb(this),this.head=this.tail=new Kr(Bo,0,0),this.len=0,this};A.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Kr(Bo,0,0),this.len=0),this};A.prototype.ldelim=function(){var r=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=r.next,this.tail=t,this.len+=n),this};A.prototype.finish=function(){for(var r=this.head.next,t=this.constructor.alloc(this.len),n=0;r;)r.fn(r.val,t,n),n+=r.len,r=r.next;return t};A._configure=function(e){Ao=e,A.create=Du(),Ao._configure()}});var $u=w((F1,Lu)=>{"use strict";Lu.exports=Ae;var Ru=Io();(Ae.prototype=Object.create(Ru.prototype)).constructor=Ae;var qe=Me();function Ae(){Ru.call(this)}Ae._configure=function(){Ae.alloc=qe._Buffer_allocUnsafe,Ae.writeBytesBuffer=qe.Buffer&&qe.Buffer.prototype instanceof Uint8Array&&qe.Buffer.prototype.set.name==="set"?function(r,t,n){t.set(r,n)}:function(r,t,n){if(r.copy)r.copy(t,n,0,r.length);else for(var o=0;o<r.length;)t[n++]=r[o++]}};Ae.prototype.bytes=function(r){qe.isString(r)&&(r=qe._Buffer_from(r,"base64"));var t=r.length>>>0;return this.uint32(t),t&&this._push(Ae.writeBytesBuffer,t,r),this};function yb(e,r,t){e.length<40?qe.utf8.write(e,r,t):r.utf8Write?r.utf8Write(e,t):r.write(e,t)}Ae.prototype.string=function(r){var t=qe.Buffer.byteLength(r);return this.uint32(t),t&&this._push(yb,t,r),this};Ae._configure()});var Ro=w((M1,Hu)=>{"use strict";Hu.exports=O;var Be=Me(),Do,zu=Be.LongBits,bb=Be.utf8;function xe(e,r){return RangeError("index out of range: "+e.pos+" + "+(r||1)+" > "+e.len)}function O(e){this.buf=e,this.pos=0,this.len=e.length}var Fu=typeof Uint8Array!="undefined"?function(r){if(r instanceof Uint8Array||Array.isArray(r))return new O(r);throw Error("illegal buffer")}:function(r){if(Array.isArray(r))return new O(r);throw Error("illegal buffer")},Mu=function(){return Be.Buffer?function(t){return(O.create=function(o){return Be.Buffer.isBuffer(o)?new Do(o):Fu(o)})(t)}:Fu};O.create=Mu();O.prototype._slice=Be.Array.prototype.subarray||Be.Array.prototype.slice;O.prototype.uint32=function(){var r=4294967295;return function(){if(r=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(r=(r|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(r=(r|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(r=(r|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(r=(r|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return r;if((this.pos+=5)>this.len)throw this.pos=this.len,xe(this,10);return r}}();O.prototype.int32=function(){return this.uint32()|0};O.prototype.sint32=function(){var r=this.uint32();return r>>>1^-(r&1)|0};function Oo(){var e=new zu(0,0),r=0;if(this.len-this.pos>4){for(;r<4;++r)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<r*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;r=0}else{for(;r<3;++r){if(this.pos>=this.len)throw xe(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<r*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<r*7)>>>0,e}if(this.len-this.pos>4){for(;r<5;++r)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<r*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;r<5;++r){if(this.pos>=this.len)throw xe(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<r*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}O.prototype.bool=function(){return this.uint32()!==0};function Gt(e,r){return(e[r-4]|e[r-3]<<8|e[r-2]<<16|e[r-1]<<24)>>>0}O.prototype.fixed32=function(){if(this.pos+4>this.len)throw xe(this,4);return Gt(this.buf,this.pos+=4)};O.prototype.sfixed32=function(){if(this.pos+4>this.len)throw xe(this,4);return Gt(this.buf,this.pos+=4)|0};function qu(){if(this.pos+8>this.len)throw xe(this,8);return new zu(Gt(this.buf,this.pos+=4),Gt(this.buf,this.pos+=4))}O.prototype.float=function(){if(this.pos+4>this.len)throw xe(this,4);var r=Be.float.readFloatLE(this.buf,this.pos);return this.pos+=4,r};O.prototype.double=function(){if(this.pos+8>this.len)throw xe(this,4);var r=Be.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,r};O.prototype.bytes=function(){var r=this.uint32(),t=this.pos,n=this.pos+r;if(n>this.len)throw xe(this,r);return this.pos+=r,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)};O.prototype.string=function(){var r=this.bytes();return bb.read(r,0,r.length)};O.prototype.skip=function(r){if(typeof r=="number"){if(this.pos+r>this.len)throw xe(this,r);this.pos+=r}else do if(this.pos>=this.len)throw xe(this);while(this.buf[this.pos++]&128);return this};O.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!=4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};O._configure=function(e){Do=e,O.create=Mu(),Do._configure();var r=Be.Long?"toLong":"toNumber";Be.merge(O.prototype,{int64:function(){return Oo.call(this)[r](!1)},uint64:function(){return Oo.call(this)[r](!0)},sint64:function(){return Oo.call(this).zzDecode()[r](!1)},fixed64:function(){return qu.call(this)[r](!0)},sfixed64:function(){return qu.call(this)[r](!1)}})}});var Ju=w((q1,Wu)=>{"use strict";Wu.exports=Qe;var Vu=Ro();(Qe.prototype=Object.create(Vu.prototype)).constructor=Qe;var Gu=Me();function Qe(e){Vu.call(this,e)}Qe._configure=function(){Gu.Buffer&&(Qe.prototype._slice=Gu.Buffer.prototype.slice)};Qe.prototype.string=function(){var r=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+r,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+r,this.len))};Qe._configure()});var Xu=w((H1,Ku)=>{"use strict";Ku.exports=Xr;var Lo=Me();(Xr.prototype=Object.create(Lo.EventEmitter.prototype)).constructor=Xr;function Xr(e,r,t){if(typeof e!="function")throw TypeError("rpcImpl must be a function");Lo.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(r),this.responseDelimited=Boolean(t)}Xr.prototype.rpcCall=function e(r,t,n,o,s){if(!o)throw TypeError("request must be specified");var i=this;if(!s)return Lo.asPromise(e,i,r,t,n,o);if(!i.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return i.rpcImpl(r,t[i.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(c,f){if(c)return i.emit("error",c,r),s(c);if(f===null){i.end(!0);return}if(!(f instanceof n))try{f=n[i.responseDelimited?"decodeDelimited":"decode"](f)}catch(m){return i.emit("error",m,r),s(m)}return i.emit("data",f,r),s(null,f)})}catch(a){i.emit("error",a,r),setTimeout(function(){s(a)},0);return}};Xr.prototype.end=function(r){return this.rpcImpl&&(r||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var Zu=w(Qu=>{"use strict";var wb=Qu;wb.Service=Xu()});var el=w((G1,Yu)=>{"use strict";Yu.exports={}});var nl=w(tl=>{"use strict";var Z=tl;Z.build="minimal";Z.Writer=Io();Z.BufferWriter=$u();Z.Reader=Ro();Z.BufferReader=Ju();Z.util=Me();Z.rpc=Zu();Z.roots=el();Z.configure=rl;function rl(){Z.util._configure(),Z.Writer._configure(Z.BufferWriter),Z.Reader._configure(Z.BufferReader)}rl()});var sl=w((J1,ol)=>{"use strict";ol.exports=nl()});var zl=w((Ox,$l)=>{"use strict";var Pb=async e=>{for await(let r of e)return r};$l.exports=Pb});var Zr=w((Rx,Fl)=>{"use strict";var Tb=async e=>{let r;for await(let t of e)r=t;return r};Fl.exports=Tb});var vf=w((UE,Tf)=>{Tf.exports=e=>{if(e[Symbol.asyncIterator])return e;if(e.getReader)return async function*(){let r=e.getReader();try{for(;;){let{done:t,value:n}=await r.read();if(t)return;yield n}}finally{r.releaseLock()}}();throw new Error("unknown stream")}});var ld=w((pT,ud)=>{"use strict";var cd=br();function Ib(e){return typeof e.stream=="function"?cd(e.stream()):cd(new Response(e).body)}ud.exports=Ib});var $d=w(()=>{});var Fd=w((Sv,zd)=>{"use strict";var Ob=xo(),Rb=(e,r)=>({path:decodeURIComponent(new URL(e).pathname.split("/").pop()||""),content:Lb(e,r)});async function*Lb(e,r){yield*(await new Ob().get(e,r)).iterator()}zd.exports=Rb});var Fb={};I(Fb,{CID:()=>p,create:()=>$b,globSource:()=>zb,multiaddr:()=>qd.Multiaddr,urlSource:()=>Hd.default});var Qd=e=>Promise.reject(new Error(`No base found for "${e}"`)),cn=class{constructor(r){this._basesByName={},this._basesByPrefix={},this._loadBase=r.loadBase||Qd;for(let t of r.bases)this.addBase(t)}addBase(r){if(this._basesByName[r.name]||this._basesByPrefix[r.prefix])throw new Error(`Codec already exists for codec "${r.name}"`);this._basesByName[r.name]=r,this._basesByPrefix[r.prefix]=r}removeBase(r){delete this._basesByName[r.name],delete this._basesByPrefix[r.prefix]}async getBase(r){if(this._basesByName[r])return this._basesByName[r];if(this._basesByPrefix[r])return this._basesByPrefix[r];let t=await this._loadBase(r);return this._basesByName[t.name]==null&&this._basesByPrefix[t.prefix]==null&&this.addBase(t),t}listBases(){return Object.values(this._basesByName)}};var Zd=e=>Promise.reject(new Error(`No codec found for "${e}"`)),un=class{constructor(r){this._codecsByName={},this._codecsByCode={},this._loadCodec=r.loadCodec||Zd;for(let t of r.codecs)this.addCodec(t)}addCodec(r){if(this._codecsByName[r.name]||this._codecsByCode[r.code])throw new Error(`Resolver already exists for codec "${r.name}"`);this._codecsByName[r.name]=r,this._codecsByCode[r.code]=r}removeCodec(r){delete this._codecsByName[r.name],delete this._codecsByCode[r.code]}async getCodec(r){let t=typeof r=="string"?this._codecsByName:this._codecsByCode;if(t[r])return t[r];let n=await this._loadCodec(r);return t[r]==null&&this.addCodec(n),n}listCodecs(){return Object.values(this._codecsByName)}};var Yd=e=>Promise.reject(new Error(`No hasher found for "${e}"`)),ln=class{constructor(r){this._hashersByName={},this._hashersByCode={},this._loadHasher=r.loadHasher||Yd;for(let t of r.hashers)this.addHasher(t)}addHasher(r){if(this._hashersByName[r.name]||this._hashersByCode[r.code])throw new Error(`Resolver already exists for codec "${r.name}"`);this._hashersByName[r.name]=r,this._hashersByCode[r.code]=r}removeHasher(r){delete this._hashersByName[r.name],delete this._hashersByCode[r.code]}async getHasher(r){let t=typeof r=="string"?this._hashersByName:this._hashersByCode;if(t[r])return t[r];let n=await this._loadHasher(r);return t[r]==null&&this.addHasher(n),n}listHashers(){return Object.values(this._hashersByName)}};var wn={};I(wn,{code:()=>Xp,createLink:()=>ws,createNode:()=>bs,decode:()=>Zp,encode:()=>Qp,name:()=>Kp,prepare:()=>yn,validate:()=>bn});T();var $p=new TextDecoder;function hn(e,r){let t=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(r>=e.length)throw new Error("protobuf: unexpected end of data");let o=e[r++];if(t+=n<28?(o&127)<<n:(o&127)*2**n,o<128)break}return[t,r]}function ut(e,r){let t;[t,r]=hn(e,r);let n=r+t;if(t<0||n<0)throw new Error("protobuf: invalid length");if(n>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(r,n),n]}function ls(e,r){let t;return[t,r]=hn(e,r),[t&7,t>>3,r]}function zp(e){let r={},t=e.length,n=0;for(;n<t;){let o,s;if([o,s,n]=ls(e,n),s===1){if(r.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(r.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(r.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[r.Hash,n]=ut(e,n)}else if(s===2){if(r.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(r.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let i;[i,n]=ut(e,n),r.Name=$p.decode(i)}else if(s===3){if(r.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(o!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[r.Tsize,n]=hn(e,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${s}`)}if(n>t)throw new Error("protobuf: (PBLink) unexpected end of data");return r}function fs(e){let r=e.length,t=0,n,o=!1,s;for(;t<r;){let a,c;if([a,c,t]=ls(e,t),a!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${a}`);if(c===1){if(s)throw new Error("protobuf: (PBNode) duplicate Data section");[s,t]=ut(e,t),n&&(o=!0)}else if(c===2){if(o)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let f;[f,t]=ut(e,t),n.push(zp(f))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${c}`)}if(t>r)throw new Error("protobuf: (PBNode) unexpected end of data");let i={};return s&&(i.Data=s),i.Links=n||[],i}var ms=new TextEncoder,ds=2**32,Fp=2**31;function Mp(e,r){let t=r.length;if(typeof e.Tsize=="number"){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");t=Ur(r,t,e.Tsize)-1,r[t]=24}if(typeof e.Name=="string"){let n=ms.encode(e.Name);t-=n.length,r.set(n,t),t=Ur(r,t,n.length)-1,r[t]=18}return e.Hash&&(t-=e.Hash.length,r.set(e.Hash,t),t=Ur(r,t,e.Hash.length)-1,r[t]=10),r.length-t}function ps(e){let r=Hp(e),t=new Uint8Array(r),n=r;if(e.Data&&(n-=e.Data.length,t.set(e.Data,n),n=Ur(t,n,e.Data.length)-1,t[n]=10),e.Links)for(let o=e.Links.length-1;o>=0;o--){let s=Mp(e.Links[o],t.subarray(0,n));n-=s,n=Ur(t,n,s)-1,t[n]=18}return t}function qp(e){let r=0;if(e.Hash){let t=e.Hash.length;r+=1+t+nr(t)}if(typeof e.Name=="string"){let t=ms.encode(e.Name).length;r+=1+t+nr(t)}return typeof e.Tsize=="number"&&(r+=1+nr(e.Tsize)),r}function Hp(e){let r=0;if(e.Data){let t=e.Data.length;r+=1+t+nr(t)}if(e.Links)for(let t of e.Links){let n=qp(t);r+=1+n+nr(n)}return r}function Ur(e,r,t){r-=nr(t);let n=r;for(;t>=Fp;)e[r++]=t&127|128,t/=128;for(;t>=128;)e[r++]=t&127|128,t>>>=7;return e[r]=t,n}function nr(e){return e%2==0&&e++,Math.floor((Vp(e)+6)/7)}function Vp(e){let r=0;return e>=ds&&(e=Math.floor(e/ds),r=32),e>=1<<16&&(e>>>=16,r+=16),e>=1<<8&&(e>>>=8,r+=8),r+Gp[e]}var Gp=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];T();var Wp=["Data","Links"],Jp=["Hash","Name","Tsize"],gn=new TextEncoder;function hs(e,r){if(e===r)return 0;let t=e.Name?gn.encode(e.Name):[],n=r.Name?gn.encode(r.Name):[],o=t.length,s=n.length;for(let i=0,a=Math.min(o,s);i<a;++i)if(t[i]!==n[i]){o=t[i],s=n[i];break}return o<s?-1:s<o?1:0}function gs(e,r){return!Object.keys(e).some(t=>!r.includes(t))}function ys(e){if(typeof e.asCID=="object"){let t=p.asCID(e);if(!t)throw new TypeError("Invalid DAG-PB form");return{Hash:t}}if(typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");let r={};if(e.Hash){let t=p.asCID(e.Hash);try{t||(typeof e.Hash=="string"?t=p.parse(e.Hash):e.Hash instanceof Uint8Array&&(t=p.decode(e.Hash)))}catch(n){throw new TypeError(`Invalid DAG-PB form: ${n.message}`)}t&&(r.Hash=t)}if(!r.Hash)throw new TypeError("Invalid DAG-PB form");return typeof e.Name=="string"&&(r.Name=e.Name),typeof e.Tsize=="number"&&(r.Tsize=e.Tsize),r}function yn(e){if((e instanceof Uint8Array||typeof e=="string")&&(e={Data:e}),typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");let r={};if(e.Data!==void 0)if(typeof e.Data=="string")r.Data=gn.encode(e.Data);else if(e.Data instanceof Uint8Array)r.Data=e.Data;else throw new TypeError("Invalid DAG-PB form");if(e.Links!==void 0)if(Array.isArray(e.Links))r.Links=e.Links.map(ys),r.Links.sort(hs);else throw new TypeError("Invalid DAG-PB form");else r.Links=[];return r}function bn(e){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!gs(e,Wp))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(e.Data!==void 0&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let r=0;r<e.Links.length;r++){let t=e.Links[r];if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!gs(t,Jp))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!t.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(t.Hash.asCID!==t.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(t.Name!==void 0&&typeof t.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(t.Tsize!==void 0&&(typeof t.Tsize!="number"||t.Tsize%1!=0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(r>0&&hs(t,e.Links[r-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function bs(e,r=[]){return yn({Data:e,Links:r})}function ws(e,r,t){return ys({Hash:t,Name:e,Tsize:r})}var Kp="dag-pb",Xp=112;function Qp(e){bn(e);let r={};return e.Links&&(r.Links=e.Links.map(t=>{let n={};return t.Hash&&(n.Hash=t.Hash.bytes),t.Name!==void 0&&(n.Name=t.Name),t.Tsize!==void 0&&(n.Tsize=t.Tsize),n})),e.Data&&(r.Data=e.Data),ps(r)}function Zp(e){let r=fs(e),t={};return r.Data&&(t.Data=r.Data),r.Links&&(t.Links=r.Links.map(n=>{let o={};try{o.Hash=p.decode(n.Hash)}catch(s){}if(!o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return n.Name!==void 0&&(o.Name=n.Name),n.Tsize!==void 0&&(o.Tsize=n.Tsize),o})),t}var _n={};I(_n,{code:()=>vh,decode:()=>Ah,encode:()=>Ch,name:()=>Th});var Yp=["string","number","bigint","symbol"],eh=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function js(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";let r=typeof e;if(Yp.includes(r))return r;if(r==="function")return"Function";if(Array.isArray(e))return"Array";if(rh(e))return"Buffer";let t=th(e);return t||"Object"}function rh(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function th(e){let r=Object.prototype.toString.call(e).slice(8,-1);if(eh.includes(r))return r}var d=class{constructor(r,t,n){this.major=r,this.majorEncoded=r<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(r){return this.major<r.major?-1:this.major>r.major?1:0}};d.uint=new d(0,"uint",!0);d.negint=new d(1,"negint",!0);d.bytes=new d(2,"bytes",!0);d.string=new d(3,"string",!0);d.array=new d(4,"array",!1);d.map=new d(5,"map",!1);d.tag=new d(6,"tag",!1);d.float=new d(7,"float",!0);d.false=new d(7,"false",!0);d.true=new d(7,"true",!0);d.null=new d(7,"null",!0);d.undefined=new d(7,"undefined",!0);d.break=new d(7,"break",!0);var b=class{constructor(r,t,n){this.type=r,this.value=t,this.encodedLength=n,this.encodedBytes=void 0}toString(){return`Token[${this.type}].${this.value}`}};var or=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",nh=new TextDecoder,oh=new TextEncoder;function lt(e){return or&&globalThis.Buffer.isBuffer(e)}function jn(e){return e instanceof Uint8Array?lt(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}var xs=or?(e,r,t)=>t-r>64?globalThis.Buffer.from(e.subarray(r,t)).toString("utf8"):Cs(e,r,t):(e,r,t)=>t-r>64?nh.decode(e.subarray(r,t)):Cs(e,r,t),Ss=or?e=>e.length>64?globalThis.Buffer.from(e):vs(e):e=>e.length>64?oh.encode(e):vs(e),Te=e=>Uint8Array.from(e),ft=or?(e,r,t)=>lt(e)?new Uint8Array(e.subarray(r,t)):e.slice(r,t):(e,r,t)=>e.slice(r,t),Es=or?(e,r)=>(e=e.map(t=>t instanceof Uint8Array?t:globalThis.Buffer.from(t)),jn(globalThis.Buffer.concat(e,r))):(e,r)=>{let t=new Uint8Array(r),n=0;for(let o of e)n+o.length>t.length&&(o=o.subarray(0,t.length-n)),t.set(o,n),n+=o.length;return t},Ps=or?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Ts(e,r){if(lt(e)&&lt(r))return e.compare(r);for(let t=0;t<e.length;t++)if(e[t]!==r[t])return e[t]<r[t]?-1:1;return 0}function vs(e,r=1/0){let t,n=e.length,o=null,s=[];for(let i=0;i<n;++i){if(t=e.charCodeAt(i),t>55295&&t<57344){if(!o){if(t>56319){(r-=3)>-1&&s.push(239,191,189);continue}else if(i+1===n){(r-=3)>-1&&s.push(239,191,189);continue}o=t;continue}if(t<56320){(r-=3)>-1&&s.push(239,191,189),o=t;continue}t=(o-55296<<10|t-56320)+65536}else o&&(r-=3)>-1&&s.push(239,191,189);if(o=null,t<128){if((r-=1)<0)break;s.push(t)}else if(t<2048){if((r-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((r-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((r-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function Cs(e,r,t){let n=[];for(;r<t;){let o=e[r],s=null,i=o>239?4:o>223?3:o>191?2:1;if(r+i<=t){let a,c,f,m;switch(i){case 1:o<128&&(s=o);break;case 2:a=e[r+1],(a&192)==128&&(m=(o&31)<<6|a&63,m>127&&(s=m));break;case 3:a=e[r+1],c=e[r+2],(a&192)==128&&(c&192)==128&&(m=(o&15)<<12|(a&63)<<6|c&63,m>2047&&(m<55296||m>57343)&&(s=m));break;case 4:a=e[r+1],c=e[r+2],f=e[r+3],(a&192)==128&&(c&192)==128&&(f&192)==128&&(m=(o&15)<<18|(a&63)<<12|(c&63)<<6|f&63,m>65535&&m<1114112&&(s=m))}}s===null?(s=65533,i=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),r+=i}return sh(n)}var As=4096;function sh(e){let r=e.length;if(r<=As)return String.fromCharCode.apply(String,e);let t="",n=0;for(;n<r;)t+=String.fromCharCode.apply(String,e.slice(n,n+=As));return t}var ih=256,mt=class{constructor(r=ih){this.chunkSize=r,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.chunks=[],this.cursor=0,this.maxCursor=-1,this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(r){let t=this.chunks[this.chunks.length-1];if(this.cursor+r.length<=this.maxCursor+1){let o=t.length-(this.maxCursor-this.cursor)-1;t.set(r,o)}else{if(t){let o=t.length-(this.maxCursor-this.cursor)-1;o<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,o),this.maxCursor=this.cursor-1)}r.length<64&&r.length<this.chunkSize?(t=Ps(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,this._initReuseChunk===null&&(this._initReuseChunk=t),t.set(r,0)):(this.chunks.push(r),this.maxCursor+=r.length)}this.cursor+=r.length}toBytes(r=!1){let t;if(this.chunks.length===1){let n=this.chunks[0];r&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=ft(n,0,this.cursor)}else t=Es(this.chunks,this.cursor);return r&&this.reset(),t}};var E="CBOR decode error:",xn="CBOR encode error:",_r=[];_r[23]=1;_r[24]=2;_r[25]=3;_r[26]=5;_r[27]=9;function Ue(e,r,t){if(e.length-r<t)throw new Error(`${E} not enough data for type`)}var M=[24,256,65536,4294967296,BigInt("18446744073709551616")];function ee(e,r,t){Ue(e,r,1);let n=e[r];if(t.strict===!0&&n<M[0])throw new Error(`${E} integer encoded in more bytes than necessary (strict decode)`);return n}function re(e,r,t){Ue(e,r,2);let n=e[r]<<8|e[r+1];if(t.strict===!0&&n<M[1])throw new Error(`${E} integer encoded in more bytes than necessary (strict decode)`);return n}function te(e,r,t){Ue(e,r,4);let n=e[r]*16777216+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];if(t.strict===!0&&n<M[2])throw new Error(`${E} integer encoded in more bytes than necessary (strict decode)`);return n}function ne(e,r,t){Ue(e,r,8);let n=e[r]*16777216+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3],o=e[r+4]*16777216+(e[r+5]<<16)+(e[r+6]<<8)+e[r+7],s=(BigInt(n)<<BigInt(32))+BigInt(o);if(t.strict===!0&&s<M[3])throw new Error(`${E} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(t.allowBigInt===!0)return s;throw new Error(`${E} integers outside of the safe integer range are not supported`)}function Bs(e,r,t,n){return new b(d.uint,ee(e,r+1,n),2)}function Us(e,r,t,n){return new b(d.uint,re(e,r+1,n),3)}function _s(e,r,t,n){return new b(d.uint,te(e,r+1,n),5)}function ks(e,r,t,n){return new b(d.uint,ne(e,r+1,n),9)}function ue(e,r){return K(e,0,r.value)}function K(e,r,t){if(t<M[0]){let n=Number(t);e.push([r|n])}else if(t<M[1]){let n=Number(t);e.push([r|24,n])}else if(t<M[2]){let n=Number(t);e.push([r|25,n>>>8,n&255])}else if(t<M[3]){let n=Number(t);e.push([r|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(t);if(n<M[4]){let o=[r|27,0,0,0,0,0,0,0],s=Number(n&BigInt(4294967295)),i=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=s&255,s=s>>8,o[7]=s&255,s=s>>8,o[6]=s&255,s=s>>8,o[5]=s&255,o[4]=i&255,i=i>>8,o[3]=i&255,i=i>>8,o[2]=i&255,i=i>>8,o[1]=i&255,e.push(o)}else throw new Error(`${E} encountered BigInt larger than allowable range`)}}ue.encodedSize=function(r){return K.encodedSize(r.value)};K.encodedSize=function(r){return r<M[0]?1:r<M[1]?2:r<M[2]?3:r<M[3]?5:9};ue.compareTokens=function(r,t){return r.value<t.value?-1:r.value>t.value?1:0};function Ns(e,r,t,n){return new b(d.negint,-1-ee(e,r+1,n),2)}function Is(e,r,t,n){return new b(d.negint,-1-re(e,r+1,n),3)}function Ds(e,r,t,n){return new b(d.negint,-1-te(e,r+1,n),5)}var Sn=BigInt(-1),Os=BigInt(1);function Rs(e,r,t,n){let o=ne(e,r+1,n);if(typeof o!="bigint"){let s=-1-o;if(s>=Number.MIN_SAFE_INTEGER)return new b(d.negint,s,9)}if(n.allowBigInt!==!0)throw new Error(`${E} integers outside of the safe integer range are not supported`);return new b(d.negint,Sn-BigInt(o),9)}function dt(e,r){let t=r.value,n=typeof t=="bigint"?t*Sn-Os:t*-1-1;K(e,r.type.majorEncoded,n)}dt.encodedSize=function(r){let t=r.value,n=typeof t=="bigint"?t*Sn-Os:t*-1-1;return n<M[0]?1:n<M[1]?2:n<M[2]?3:n<M[3]?5:9};dt.compareTokens=function(r,t){return r.value<t.value?1:r.value>t.value?-1:0};function kr(e,r,t,n){Ue(e,r,t+n);let o=ft(e,r+t,r+t+n);return new b(d.bytes,o,t+n)}function Ls(e,r,t,n){return kr(e,r,1,t)}function $s(e,r,t,n){return kr(e,r,2,ee(e,r+1,n))}function zs(e,r,t,n){return kr(e,r,3,re(e,r+1,n))}function Fs(e,r,t,n){return kr(e,r,5,te(e,r+1,n))}function Ms(e,r,t,n){let o=ne(e,r+1,n);if(typeof o=="bigint")throw new Error(`${E} 64-bit integer bytes lengths not supported`);return kr(e,r,9,o)}function pt(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===d.string?Ss(e.value):e.value),e.encodedBytes}function sr(e,r){let t=pt(r);K(e,r.type.majorEncoded,t.length),e.push(t)}sr.encodedSize=function(r){let t=pt(r);return K.encodedSize(t.length)+t.length};sr.compareTokens=function(r,t){return ah(pt(r),pt(t))};function ah(e,r){return e.length<r.length?-1:e.length>r.length?1:Ts(e,r)}function Nr(e,r,t,n){let o=t+n;return Ue(e,r,o),new b(d.string,xs(e,r+t,r+o),o)}function qs(e,r,t,n){return Nr(e,r,1,t)}function Hs(e,r,t,n){return Nr(e,r,2,ee(e,r+1,n))}function Vs(e,r,t,n){return Nr(e,r,3,re(e,r+1,n))}function Gs(e,r,t,n){return Nr(e,r,5,te(e,r+1,n))}function Ws(e,r,t,n){let o=ne(e,r+1,n);if(typeof o=="bigint")throw new Error(`${E} 64-bit integer string lengths not supported`);return Nr(e,r,9,o)}var Js=sr;function ir(e,r,t,n){return new b(d.array,n,t)}function Ks(e,r,t,n){return ir(e,r,1,t)}function Xs(e,r,t,n){return ir(e,r,2,ee(e,r+1,n))}function Qs(e,r,t,n){return ir(e,r,3,re(e,r+1,n))}function Zs(e,r,t,n){return ir(e,r,5,te(e,r+1,n))}function Ys(e,r,t,n){let o=ne(e,r+1,n);if(typeof o=="bigint")throw new Error(`${E} 64-bit integer array lengths not supported`);return ir(e,r,9,o)}function ei(e,r,t,n){if(n.allowIndefinite===!1)throw new Error(`${E} indefinite length items not allowed`);return ir(e,r,1,1/0)}function En(e,r){K(e,d.array.majorEncoded,r.value)}En.compareTokens=ue.compareTokens;function ar(e,r,t,n){return new b(d.map,n,t)}function ri(e,r,t,n){return ar(e,r,1,t)}function ti(e,r,t,n){return ar(e,r,2,ee(e,r+1,n))}function ni(e,r,t,n){return ar(e,r,3,re(e,r+1,n))}function oi(e,r,t,n){return ar(e,r,5,te(e,r+1,n))}function si(e,r,t,n){let o=ne(e,r+1,n);if(typeof o=="bigint")throw new Error(`${E} 64-bit integer map lengths not supported`);return ar(e,r,9,o)}function ii(e,r,t,n){if(n.allowIndefinite===!1)throw new Error(`${E} indefinite length items not allowed`);return ar(e,r,1,1/0)}function Pn(e,r){K(e,d.map.majorEncoded,r.value)}Pn.compareTokens=ue.compareTokens;function ai(e,r,t,n){return new b(d.tag,t,1)}function ci(e,r,t,n){return new b(d.tag,ee(e,r+1,n),2)}function ui(e,r,t,n){return new b(d.tag,re(e,r+1,n),3)}function li(e,r,t,n){return new b(d.tag,te(e,r+1,n),5)}function fi(e,r,t,n){return new b(d.tag,ne(e,r+1,n),9)}function Tn(e,r){K(e,d.tag.majorEncoded,r.value)}Tn.compareTokens=ue.compareTokens;var ch=20,uh=21,lh=22,fh=23;function mi(e,r,t,n){if(n.allowUndefined===!1)throw new Error(`${E} undefined values are not supported`);return new b(d.undefined,void 0,1)}function di(e,r,t,n){if(n.allowIndefinite===!1)throw new Error(`${E} indefinite length items not allowed`);return new b(d.break,void 0,1)}function vn(e,r,t){if(t){if(t.allowNaN===!1&&Number.isNaN(e))throw new Error(`${E} NaN values are not supported`);if(t.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${E} Infinity values are not supported`)}return new b(d.float,e,r)}function pi(e,r,t,n){return vn(Cn(e,r+1),3,n)}function hi(e,r,t,n){return vn(An(e,r+1),5,n)}function gi(e,r,t,n){return vn(ji(e,r+1),9,n)}function ht(e,r,t){let n=r.value;if(n===!1)e.push([d.float.majorEncoded|ch]);else if(n===!0)e.push([d.float.majorEncoded|uh]);else if(n===null)e.push([d.float.majorEncoded|lh]);else if(n===void 0)e.push([d.float.majorEncoded|fh]);else{let o,s=!1;(!t||t.float64!==!0)&&(bi(n),o=Cn(ge,1),n===o||Number.isNaN(n)?(ge[0]=249,e.push(ge.slice(0,3)),s=!0):(wi(n),o=An(ge,1),n===o&&(ge[0]=250,e.push(ge.slice(0,5)),s=!0))),s||(mh(n),o=ji(ge,1),ge[0]=251,e.push(ge.slice(0,9)))}}ht.encodedSize=function(r,t){let n=r.value;if(n===!1||n===!0||n===null||n===void 0)return 1;let o;if(!t||t.float64!==!0){if(bi(n),o=Cn(ge,1),n===o||Number.isNaN(n))return 3;if(wi(n),o=An(ge,1),n===o)return 5}return 9};var yi=new ArrayBuffer(9),le=new DataView(yi,1),ge=new Uint8Array(yi,0);function bi(e){if(e===1/0)le.setUint16(0,31744,!1);else if(e===-1/0)le.setUint16(0,64512,!1);else if(Number.isNaN(e))le.setUint16(0,32256,!1);else{le.setFloat32(0,e);let r=le.getUint32(0),t=(r&2139095040)>>23,n=r&8388607;if(t===255)le.setUint16(0,31744,!1);else if(t===0)le.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{let o=t-127;o<-24?le.setUint16(0,0):o<-14?le.setUint16(0,(r&2147483648)>>16|1<<24+o,!1):le.setUint16(0,(r&2147483648)>>16|o+15<<10|n>>13,!1)}}}function Cn(e,r){if(e.length-r<2)throw new Error(`${E} not enough data for float16`);let t=(e[r]<<8)+e[r+1];if(t===31744)return 1/0;if(t===64512)return-1/0;if(t===32256)return NaN;let n=t>>10&31,o=t&1023,s;return n===0?s=o*2**-24:n!==31?s=(o+1024)*2**(n-25):s=o===0?1/0:NaN,t&32768?-s:s}function wi(e){le.setFloat32(0,e,!1)}function An(e,r){if(e.length-r<4)throw new Error(`${E} not enough data for float32`);let t=(e.byteOffset||0)+r;return new DataView(e.buffer,t,4).getFloat32(0,!1)}function mh(e){le.setFloat64(0,e,!1)}function ji(e,r){if(e.length-r<8)throw new Error(`${E} not enough data for float64`);let t=(e.byteOffset||0)+r;return new DataView(e.buffer,t,8).getFloat64(0,!1)}ht.compareTokens=ue.compareTokens;function B(e,r,t){throw new Error(`${E} encountered invalid minor (${t}) for major ${e[r]>>>5}`)}function gt(e){return()=>{throw new Error(`${E} ${e}`)}}var g=[];for(let e=0;e<=23;e++)g[e]=B;g[24]=Bs;g[25]=Us;g[26]=_s;g[27]=ks;g[28]=B;g[29]=B;g[30]=B;g[31]=B;for(let e=32;e<=55;e++)g[e]=B;g[56]=Ns;g[57]=Is;g[58]=Ds;g[59]=Rs;g[60]=B;g[61]=B;g[62]=B;g[63]=B;for(let e=64;e<=87;e++)g[e]=Ls;g[88]=$s;g[89]=zs;g[90]=Fs;g[91]=Ms;g[92]=B;g[93]=B;g[94]=B;g[95]=gt("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)g[e]=qs;g[120]=Hs;g[121]=Vs;g[122]=Gs;g[123]=Ws;g[124]=B;g[125]=B;g[126]=B;g[127]=gt("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)g[e]=Ks;g[152]=Xs;g[153]=Qs;g[154]=Zs;g[155]=Ys;g[156]=B;g[157]=B;g[158]=B;g[159]=ei;for(let e=160;e<=183;e++)g[e]=ri;g[184]=ti;g[185]=ni;g[186]=oi;g[187]=si;g[188]=B;g[189]=B;g[190]=B;g[191]=ii;for(let e=192;e<=215;e++)g[e]=ai;g[216]=ci;g[217]=ui;g[218]=li;g[219]=fi;g[220]=B;g[221]=B;g[222]=B;g[223]=B;for(let e=224;e<=243;e++)g[e]=gt("simple values are not supported");g[244]=B;g[245]=B;g[246]=B;g[247]=mi;g[248]=gt("simple values are not supported");g[249]=pi;g[250]=hi;g[251]=gi;g[252]=B;g[253]=B;g[254]=B;g[255]=di;var ye=[];for(let e=0;e<24;e++)ye[e]=new b(d.uint,e,1);for(let e=-1;e>=-24;e--)ye[31-e]=new b(d.negint,e,1);ye[64]=new b(d.bytes,new Uint8Array(0),1);ye[96]=new b(d.string,"",1);ye[128]=new b(d.array,0,1);ye[160]=new b(d.map,0,1);ye[244]=new b(d.false,!1,1);ye[245]=new b(d.true,!0,1);ye[246]=new b(d.null,null,1);function xi(e){switch(e.type){case d.false:return Te([244]);case d.true:return Te([245]);case d.null:return Te([246]);case d.bytes:return e.value.length?void 0:Te([64]);case d.string:return e.value===""?Te([96]):void 0;case d.array:return e.value===0?Te([128]):void 0;case d.map:return e.value===0?Te([160]):void 0;case d.uint:return e.value<24?Te([Number(e.value)]):void 0;case d.negint:if(e.value>=-24)return Te([31-Number(e.value)])}}var dh={float64:!1,mapSorter:hh,quickEncodeToken:xi},ve=[];ve[d.uint.major]=ue;ve[d.negint.major]=dt;ve[d.bytes.major]=sr;ve[d.string.major]=Js;ve[d.array.major]=En;ve[d.map.major]=Pn;ve[d.tag.major]=Tn;ve[d.float.major]=ht;var Si=new mt,Ir=class{constructor(r,t){this.obj=r,this.parent=t}includes(r){let t=this;do if(t.obj===r)return!0;while(t=t.parent);return!1}static createCheck(r,t){if(r&&r.includes(t))throw new Error(`${xn} object contains circular references`);return new Ir(t,r)}},Re={null:new b(d.null,null),undefined:new b(d.undefined,void 0),true:new b(d.true,!0),false:new b(d.false,!1),emptyArray:new b(d.array,0),emptyMap:new b(d.map,0)},Le={number(e,r,t,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new b(d.float,e):e>=0?new b(d.uint,e):new b(d.negint,e)},bigint(e,r,t,n){return e>=BigInt(0)?new b(d.uint,e):new b(d.negint,e)},Uint8Array(e,r,t,n){return new b(d.bytes,e)},string(e,r,t,n){return new b(d.string,e)},boolean(e,r,t,n){return e?Re.true:Re.false},null(e,r,t,n){return Re.null},undefined(e,r,t,n){return Re.undefined},ArrayBuffer(e,r,t,n){return new b(d.bytes,new Uint8Array(e))},DataView(e,r,t,n){return new b(d.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,r,t,n){if(!e.length)return t.addBreakTokens===!0?[Re.emptyArray,new b(d.break)]:Re.emptyArray;n=Ir.createCheck(n,e);let o=[],s=0;for(let i of e)o[s++]=yt(i,t,n);return t.addBreakTokens?[new b(d.array,e.length),o,new b(d.break)]:[new b(d.array,e.length),o]},Object(e,r,t,n){let o=r!=="Object",s=o?e.keys():Object.keys(e),i=o?e.size:s.length;if(!i)return t.addBreakTokens===!0?[Re.emptyMap,new b(d.break)]:Re.emptyMap;n=Ir.createCheck(n,e);let a=[],c=0;for(let f of s)a[c++]=[yt(f,t,n),yt(o?e.get(f):e[f],t,n)];return ph(a,t),t.addBreakTokens?[new b(d.map,i),a,new b(d.break)]:[new b(d.map,i),a]}};Le.Map=Le.Object;Le.Buffer=Le.Uint8Array;for(let e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Le[`${e}Array`]=Le.DataView;function yt(e,r={},t){let n=js(e),o=r&&r.typeEncoders&&r.typeEncoders[n]||Le[n];if(typeof o=="function"){let i=o(e,n,r,t);if(i!=null)return i}let s=Le[n];if(!s)throw new Error(`${xn} unsupported type: ${n}`);return s(e,n,r,t)}function ph(e,r){r.mapSorter&&e.sort(r.mapSorter)}function hh(e,r){let t=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(r[0])?r[0][0]:r[0];if(t.type!==n.type)return t.type.compare(n.type);let o=t.type.major,s=ve[o].compareTokens(t,n);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function Ei(e,r,t,n){if(Array.isArray(r))for(let o of r)Ei(e,o,t,n);else t[r.type.major](e,r,n)}function gh(e,r,t){let n=yt(e,t);if(!Array.isArray(n)&&t.quickEncodeToken){let o=t.quickEncodeToken(n);if(o)return o;let s=r[n.type.major];if(s.encodedSize){let i=s.encodedSize(n,t),a=new mt(i);if(s(a,n,t),a.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return jn(a.chunks[0])}}return Ei(Si,n,r,t),Si.toBytes(!0)}function Bn(e,r){return r=Object.assign({},dh,r),gh(e,ve,r)}var yh={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},Pi=class{constructor(r,t={}){this.pos=0,this.data=r,this.options=t}done(){return this.pos>=this.data.length}next(){let r=this.data[this.pos],t=ye[r];if(t===void 0){let n=g[r];if(!n)throw new Error(`${E} no decoder for major type ${r>>>5} (byte 0x${r.toString(16).padStart(2,"0")})`);let o=r&31;t=n(this.data,this.pos,o,this.options)}return this.pos+=t.encodedLength,t}},Dr=Symbol.for("DONE"),bt=Symbol.for("BREAK");function bh(e,r,t){let n=[];for(let o=0;o<e.value;o++){let s=Or(r,t);if(s===bt){if(e.value===1/0)break;throw new Error(`${E} got unexpected break to lengthed array`)}if(s===Dr)throw new Error(`${E} found array but not enough entries (got ${o}, expected ${e.value})`);n[o]=s}return n}function wh(e,r,t){let n=t.useMaps===!0,o=n?void 0:{},s=n?new Map:void 0;for(let i=0;i<e.value;i++){let a=Or(r,t);if(a===bt){if(e.value===1/0)break;throw new Error(`${E} got unexpected break to lengthed map`)}if(a===Dr)throw new Error(`${E} found map but not enough entries (got ${i} [no key], expected ${e.value})`);if(n!==!0&&typeof a!="string")throw new Error(`${E} non-string keys not supported (got ${typeof a})`);let c=Or(r,t);if(c===Dr)throw new Error(`${E} found map but not enough entries (got ${i} [no value], expected ${e.value})`);n?s.set(a,c):o[a]=c}return n?s:o}function Or(e,r){if(e.done())return Dr;let t=e.next();if(t.type===d.break)return bt;if(t.type.terminal)return t.value;if(t.type===d.array)return bh(t,e,r);if(t.type===d.map)return wh(t,e,r);if(t.type===d.tag){if(r.tags&&typeof r.tags[t.value]=="function"){let n=Or(e,r);return r.tags[t.value](n)}throw new Error(`${E} tag not supported (${t.value})`)}throw new Error("unsupported")}function Un(e,r){if(!(e instanceof Uint8Array))throw new Error(`${E} data to decode must be a Uint8Array`);r=Object.assign({},yh,r);let t=r.tokenizer||new Pi(e,r),n=Or(t,r);if(n===Dr)throw new Error(`${E} did not find any content to decode`);if(n===bt)throw new Error(`${E} got unexpected break`);if(!t.done())throw new Error(`${E} too many terminals, data makes no sense`);return n}T();var Ti=42;function jh(e){if(e.asCID!==e)return null;let r=p.asCID(e);if(!r)return null;let t=new Uint8Array(r.bytes.byteLength+1);return t.set(r.bytes,1),[new b(d.tag,Ti),new b(d.bytes,t)]}function xh(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function Sh(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var Eh={float64:!0,typeEncoders:{Object:jh,undefined:xh,number:Sh}};function Ph(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return p.decode(e.subarray(1))}var vi={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};vi.tags[Ti]=Ph;var Th="dag-cbor",vh=113,Ch=e=>Bn(e,Eh),Ah=e=>Un(e,vi);Nn();Hn();T();var Eo=y(F()),Ce=y(ao());var Xg=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/uig;v.nanosecond=v.ns=1/1e6;v.\u00B5s=v.\u03BCs=v.us=v.microsecond=1/1e3;v.millisecond=v.ms=v[""]=1;v.second=v.sec=v.s=v.ms*1e3;v.minute=v.min=v.m=v.s*60;v.hour=v.hr=v.h=v.m*60;v.day=v.d=v.h*24;v.week=v.wk=v.w=v.d*7;v.month=v.b=v.d*(365.25/12);v.year=v.yr=v.y=v.d*365.25;function v(e="",r="ms"){var t=null;return e=(e+"").replace(/(\d)[,_](\d)/g,"$1$2"),e.replace(Xg,function(n,o,s){s=Ha(s),s&&(t=(t||0)+parseFloat(o,10)*s)}),t&&t/(Ha(r)||1)}function Ha(e){return v[e]||v[e.toLowerCase().replace(/s$/,"")]}var Va=v;var Lc=y(co()),We=y(xo());var _c=y(ho()),kc=_c.default;var Dc=y(F()),Oc=y(Ic());function So(e){try{e=(0,Oc.default)(new Dc.Multiaddr(e))}catch(r){}return e=e.toString(),e}var Rc=()=>{};var $c=(0,Lc.default)("ipfs-http-client:lib:error-handler"),Ky=kc.bind({ignoreUndefined:!0}),Xy=Ce.isBrowser||Ce.isWebWorker?location.protocol:"http",Qy=Ce.isBrowser||Ce.isWebWorker?location.hostname:"localhost",Zy=Ce.isBrowser||Ce.isWebWorker?location.port:"5001",Yy=(e={})=>{let r,t={},n;if(typeof e=="string"||Eo.Multiaddr.isMultiaddr(e))r=new URL(So(e));else if(e instanceof URL)r=e;else if(typeof e.url=="string"||Eo.Multiaddr.isMultiaddr(e.url))r=new URL(So(e.url)),t=e;else if(e.url instanceof URL)r=e.url,t=e;else{t=e||{};let o=(t.protocol||Xy).replace(":",""),s=(t.host||Qy).split(":")[0],i=t.port||Zy;r=new URL(`${o}://${s}:${i}`)}if(t.apiPath?r.pathname=t.apiPath:(r.pathname==="/"||r.pathname===void 0)&&(r.pathname="api/v0"),Ce.isNode){let o=Rc(r);n=t.agent||new o({keepAlive:!0,maxSockets:6})}return{...t,host:r.host,protocol:r.protocol.replace(":",""),port:Number(r.port),apiPath:r.pathname,url:r,agent:n}},eb=async e=>{let r;try{if((e.headers.get("Content-Type")||"").startsWith("application/json")){let n=await e.json();$c(n),r=n.Message||n.message}else r=await e.text()}catch(n){$c("Failed to parse error response",n),r=n.message}let t=new We.default.HTTPError(e);throw r&&(r.includes("deadline has elapsed")&&(t=new We.default.TimeoutError),r&&r.includes("context deadline exceeded")&&(t=new We.default.TimeoutError)),r&&r.includes("request timed out")&&(t=new We.default.TimeoutError),r&&(t.message=r),t},rb=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,zc=e=>e.replace(rb,function(r){return"-"+r.toLowerCase()}),tb=e=>typeof e=="string"?Va(e):e,Je=class extends We.default{constructor(r={}){let t=Yy(r);super({timeout:tb(t.timeout||0)||void 0,headers:t.headers,base:`${t.url}`,handleError:eb,transformSearchParams:o=>{let s=new URLSearchParams;for(let[i,a]of o)a!=="undefined"&&a!=="null"&&i!=="signal"&&s.append(zc(i),a),i==="timeout"&&!isNaN(a)&&s.append(zc(i),a);return s},agent:t.agent});delete this.get,delete this.put,delete this.delete,delete this.options;let n=this.fetch;this.fetch=(o,s={})=>(typeof o=="string"&&!o.startsWith("/")&&(o=`${t.url}/${o}`),n.call(this,o,Ky(s,{method:"POST"})))}},Hj=We.default.HTTPError;var u=e=>r=>e(new Je(r),r);function $t(e){if(e!=null)return typeof e=="string"?e:e.toString(8).padStart(4,"0")}var qc=y(Ke());function zt(e){if(e==null)return;let r;if(e.secs!=null&&(r={secs:e.secs,nsecs:e.nsecs}),e.Seconds!=null&&(r={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(r={secs:e[0],nsecs:e[1]}),e instanceof Date){let t=e.getTime(),n=Math.floor(t/1e3);r={secs:n,nsecs:(t-n*1e3)*1e3}}if(!!Object.prototype.hasOwnProperty.call(r,"secs")){if(r!=null&&r.nsecs!=null&&(r.nsecs<0||r.nsecs>999999999))throw(0,qc.default)(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return r}}function l({arg:e,searchParams:r,hashAlg:t,mtime:n,mode:o,...s}={}){r&&(s={...s,...r}),t&&(s.hash=t),n!=null&&(n=zt(n),s.mtime=n.secs,s.mtimeNsecs=n.nsecs),o!=null&&(s.mode=$t(o)),s.timeout&&!isNaN(s.timeout)&&(s.timeout=`${s.timeout}ms`),e==null?e=[]:Array.isArray(e)||(e=[e]);let i=new URLSearchParams(s);return e.forEach(a=>i.append("arg",a)),i}var Hc=u(e=>{async function r(t={}){return((await(await e.post("bitswap/wantlist",{signal:t.signal,searchParams:l(t),headers:t.headers})).json()).Keys||[]).map(o=>p.parse(o["/"]))}return r});T();var Vc=u(e=>{async function r(t,n={}){return((await(await e.post("bitswap/wantlist",{signal:n.signal,searchParams:l({...n,peer:t.toString()}),headers:n.headers})).json()).Keys||[]).map(s=>p.parse(s["/"]))}return r});T();var Ft=u(e=>{async function r(t={}){let n=await e.post("bitswap/stat",{searchParams:l(t),signal:t.signal,headers:t.headers});return ob(await n.json())}return r});function ob(e){return{provideBufLen:e.ProvideBufLen,wantlist:(e.Wantlist||[]).map(r=>p.parse(r["/"])),peers:e.Peers||[],blocksReceived:BigInt(e.BlocksReceived),dataReceived:BigInt(e.DataReceived),blocksSent:BigInt(e.BlocksSent),dataSent:BigInt(e.DataSent),dupBlksReceived:BigInt(e.DupBlksReceived),dupDataReceived:BigInt(e.DupDataReceived)}}var Gc=u(e=>{async function r(t,n={}){return(await e.post("bitswap/unwant",{signal:n.signal,searchParams:l({arg:t.toString(),...n}),headers:n.headers})).json()}return r});function Wc(e){return{wantlist:Hc(e),wantlistForPeer:Vc(e),unwant:Gc(e),stat:Ft(e)}}var Mt=u(e=>{async function r(t,n={}){let o=await e.post("block/get",{signal:n.signal,searchParams:l({arg:t.toString(),...n}),headers:n.headers});return new Uint8Array(await o.arrayBuffer())}return r});T();var Yc=y(yr()),eu=y(Gr()),ru=y(br()),tu=y(Po());function me(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function ke(e){return e.constructor&&(e.constructor.name==="Blob"||e.constructor.name==="File")&&typeof e.stream=="function"}function Wr(e){return typeof e=="object"&&(e.path||e.content)}var Ne=e=>e&&typeof e.getReader=="function";async function nu(e){if(me(e))return new Blob([e]);if(typeof e=="string"||e instanceof String)return new Blob([e.toString()]);if(ke(e))return e;if(Ne(e)&&(e=(0,ru.default)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let r=(0,eu.default)(e),{value:t,done:n}=await r.peek();if(n)return ou(r);if(r.push(t),Number.isInteger(t))return new Blob([Uint8Array.from(await(0,tu.default)(r))]);if(me(t)||typeof t=="string"||t instanceof String)return ou(r)}throw(0,Yc.default)(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}async function ou(e){let r=[];for await(let t of e)r.push(t);return new Blob(r)}var Qr=y(yr()),al=y(br()),cl=y(Gr()),zo=y(To());var il=y(cu());var Ie=y(sl()),jr=Ie.default.Reader,$o=Ie.default.Writer,x=Ie.default.util,V=Ie.default.roots["ipfs-unixfs"]||(Ie.default.roots["ipfs-unixfs"]={}),jb=V.Data=(()=>{function e(r){if(this.blocksizes=[],r)for(var t=Object.keys(r),n=0;n<t.length;++n)r[t[n]]!=null&&(this[t[n]]=r[t[n]])}return e.prototype.Type=0,e.prototype.Data=x.newBuffer([]),e.prototype.filesize=x.Long?x.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=x.emptyArray,e.prototype.hashType=x.Long?x.Long.fromBits(0,0,!0):0,e.prototype.fanout=x.Long?x.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(t,n){if(n||(n=$o.create()),n.uint32(8).int32(t.Type),t.Data!=null&&Object.hasOwnProperty.call(t,"Data")&&n.uint32(18).bytes(t.Data),t.filesize!=null&&Object.hasOwnProperty.call(t,"filesize")&&n.uint32(24).uint64(t.filesize),t.blocksizes!=null&&t.blocksizes.length)for(var o=0;o<t.blocksizes.length;++o)n.uint32(32).uint64(t.blocksizes[o]);return t.hashType!=null&&Object.hasOwnProperty.call(t,"hashType")&&n.uint32(40).uint64(t.hashType),t.fanout!=null&&Object.hasOwnProperty.call(t,"fanout")&&n.uint32(48).uint64(t.fanout),t.mode!=null&&Object.hasOwnProperty.call(t,"mode")&&n.uint32(56).uint32(t.mode),t.mtime!=null&&Object.hasOwnProperty.call(t,"mtime")&&V.UnixTime.encode(t.mtime,n.uint32(66).fork()).ldelim(),n},e.decode=function(t,n){t instanceof jr||(t=jr.create(t));for(var o=n===void 0?t.len:t.pos+n,s=new V.Data;t.pos<o;){var i=t.uint32();switch(i>>>3){case 1:s.Type=t.int32();break;case 2:s.Data=t.bytes();break;case 3:s.filesize=t.uint64();break;case 4:if(s.blocksizes&&s.blocksizes.length||(s.blocksizes=[]),(i&7)==2)for(var a=t.uint32()+t.pos;t.pos<a;)s.blocksizes.push(t.uint64());else s.blocksizes.push(t.uint64());break;case 5:s.hashType=t.uint64();break;case 6:s.fanout=t.uint64();break;case 7:s.mode=t.uint32();break;case 8:s.mtime=V.UnixTime.decode(t,t.uint32());break;default:t.skipType(i&7);break}}if(!s.hasOwnProperty("Type"))throw x.ProtocolError("missing required 'Type'",{instance:s});return s},e.fromObject=function(t){if(t instanceof V.Data)return t;var n=new V.Data;switch(t.Type){case"Raw":case 0:n.Type=0;break;case"Directory":case 1:n.Type=1;break;case"File":case 2:n.Type=2;break;case"Metadata":case 3:n.Type=3;break;case"Symlink":case 4:n.Type=4;break;case"HAMTShard":case 5:n.Type=5;break}if(t.Data!=null&&(typeof t.Data=="string"?x.base64.decode(t.Data,n.Data=x.newBuffer(x.base64.length(t.Data)),0):t.Data.length&&(n.Data=t.Data)),t.filesize!=null&&(x.Long?(n.filesize=x.Long.fromValue(t.filesize)).unsigned=!0:typeof t.filesize=="string"?n.filesize=parseInt(t.filesize,10):typeof t.filesize=="number"?n.filesize=t.filesize:typeof t.filesize=="object"&&(n.filesize=new x.LongBits(t.filesize.low>>>0,t.filesize.high>>>0).toNumber(!0))),t.blocksizes){if(!Array.isArray(t.blocksizes))throw TypeError(".Data.blocksizes: array expected");n.blocksizes=[];for(var o=0;o<t.blocksizes.length;++o)x.Long?(n.blocksizes[o]=x.Long.fromValue(t.blocksizes[o])).unsigned=!0:typeof t.blocksizes[o]=="string"?n.blocksizes[o]=parseInt(t.blocksizes[o],10):typeof t.blocksizes[o]=="number"?n.blocksizes[o]=t.blocksizes[o]:typeof t.blocksizes[o]=="object"&&(n.blocksizes[o]=new x.LongBits(t.blocksizes[o].low>>>0,t.blocksizes[o].high>>>0).toNumber(!0))}if(t.hashType!=null&&(x.Long?(n.hashType=x.Long.fromValue(t.hashType)).unsigned=!0:typeof t.hashType=="string"?n.hashType=parseInt(t.hashType,10):typeof t.hashType=="number"?n.hashType=t.hashType:typeof t.hashType=="object"&&(n.hashType=new x.LongBits(t.hashType.low>>>0,t.hashType.high>>>0).toNumber(!0))),t.fanout!=null&&(x.Long?(n.fanout=x.Long.fromValue(t.fanout)).unsigned=!0:typeof t.fanout=="string"?n.fanout=parseInt(t.fanout,10):typeof t.fanout=="number"?n.fanout=t.fanout:typeof t.fanout=="object"&&(n.fanout=new x.LongBits(t.fanout.low>>>0,t.fanout.high>>>0).toNumber(!0))),t.mode!=null&&(n.mode=t.mode>>>0),t.mtime!=null){if(typeof t.mtime!="object")throw TypeError(".Data.mtime: object expected");n.mtime=V.UnixTime.fromObject(t.mtime)}return n},e.toObject=function(t,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.blocksizes=[]),n.defaults){if(o.Type=n.enums===String?"Raw":0,n.bytes===String?o.Data="":(o.Data=[],n.bytes!==Array&&(o.Data=x.newBuffer(o.Data))),x.Long){var s=new x.Long(0,0,!0);o.filesize=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.filesize=n.longs===String?"0":0;if(x.Long){var s=new x.Long(0,0,!0);o.hashType=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.hashType=n.longs===String?"0":0;if(x.Long){var s=new x.Long(0,0,!0);o.fanout=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.fanout=n.longs===String?"0":0;o.mode=0,o.mtime=null}if(t.Type!=null&&t.hasOwnProperty("Type")&&(o.Type=n.enums===String?V.Data.DataType[t.Type]:t.Type),t.Data!=null&&t.hasOwnProperty("Data")&&(o.Data=n.bytes===String?x.base64.encode(t.Data,0,t.Data.length):n.bytes===Array?Array.prototype.slice.call(t.Data):t.Data),t.filesize!=null&&t.hasOwnProperty("filesize")&&(typeof t.filesize=="number"?o.filesize=n.longs===String?String(t.filesize):t.filesize:o.filesize=n.longs===String?x.Long.prototype.toString.call(t.filesize):n.longs===Number?new x.LongBits(t.filesize.low>>>0,t.filesize.high>>>0).toNumber(!0):t.filesize),t.blocksizes&&t.blocksizes.length){o.blocksizes=[];for(var i=0;i<t.blocksizes.length;++i)typeof t.blocksizes[i]=="number"?o.blocksizes[i]=n.longs===String?String(t.blocksizes[i]):t.blocksizes[i]:o.blocksizes[i]=n.longs===String?x.Long.prototype.toString.call(t.blocksizes[i]):n.longs===Number?new x.LongBits(t.blocksizes[i].low>>>0,t.blocksizes[i].high>>>0).toNumber(!0):t.blocksizes[i]}return t.hashType!=null&&t.hasOwnProperty("hashType")&&(typeof t.hashType=="number"?o.hashType=n.longs===String?String(t.hashType):t.hashType:o.hashType=n.longs===String?x.Long.prototype.toString.call(t.hashType):n.longs===Number?new x.LongBits(t.hashType.low>>>0,t.hashType.high>>>0).toNumber(!0):t.hashType),t.fanout!=null&&t.hasOwnProperty("fanout")&&(typeof t.fanout=="number"?o.fanout=n.longs===String?String(t.fanout):t.fanout:o.fanout=n.longs===String?x.Long.prototype.toString.call(t.fanout):n.longs===Number?new x.LongBits(t.fanout.low>>>0,t.fanout.high>>>0).toNumber(!0):t.fanout),t.mode!=null&&t.hasOwnProperty("mode")&&(o.mode=t.mode),t.mtime!=null&&t.hasOwnProperty("mtime")&&(o.mtime=V.UnixTime.toObject(t.mtime,n)),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ie.default.util.toJSONOptions)},e.DataType=function(){let r={},t=Object.create(r);return t[r[0]="Raw"]=0,t[r[1]="Directory"]=1,t[r[2]="File"]=2,t[r[3]="Metadata"]=3,t[r[4]="Symlink"]=4,t[r[5]="HAMTShard"]=5,t}(),e})(),K1=V.UnixTime=(()=>{function e(r){if(r)for(var t=Object.keys(r),n=0;n<t.length;++n)r[t[n]]!=null&&(this[t[n]]=r[t[n]])}return e.prototype.Seconds=x.Long?x.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(t,n){return n||(n=$o.create()),n.uint32(8).int64(t.Seconds),t.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(t,"FractionalNanoseconds")&&n.uint32(21).fixed32(t.FractionalNanoseconds),n},e.decode=function(t,n){t instanceof jr||(t=jr.create(t));for(var o=n===void 0?t.len:t.pos+n,s=new V.UnixTime;t.pos<o;){var i=t.uint32();switch(i>>>3){case 1:s.Seconds=t.int64();break;case 2:s.FractionalNanoseconds=t.fixed32();break;default:t.skipType(i&7);break}}if(!s.hasOwnProperty("Seconds"))throw x.ProtocolError("missing required 'Seconds'",{instance:s});return s},e.fromObject=function(t){if(t instanceof V.UnixTime)return t;var n=new V.UnixTime;return t.Seconds!=null&&(x.Long?(n.Seconds=x.Long.fromValue(t.Seconds)).unsigned=!1:typeof t.Seconds=="string"?n.Seconds=parseInt(t.Seconds,10):typeof t.Seconds=="number"?n.Seconds=t.Seconds:typeof t.Seconds=="object"&&(n.Seconds=new x.LongBits(t.Seconds.low>>>0,t.Seconds.high>>>0).toNumber())),t.FractionalNanoseconds!=null&&(n.FractionalNanoseconds=t.FractionalNanoseconds>>>0),n},e.toObject=function(t,n){n||(n={});var o={};if(n.defaults){if(x.Long){var s=new x.Long(0,0,!1);o.Seconds=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.Seconds=n.longs===String?"0":0;o.FractionalNanoseconds=0}return t.Seconds!=null&&t.hasOwnProperty("Seconds")&&(typeof t.Seconds=="number"?o.Seconds=n.longs===String?String(t.Seconds):t.Seconds:o.Seconds=n.longs===String?x.Long.prototype.toString.call(t.Seconds):n.longs===Number?new x.LongBits(t.Seconds.low>>>0,t.Seconds.high>>>0).toNumber():t.Seconds),t.FractionalNanoseconds!=null&&t.hasOwnProperty("FractionalNanoseconds")&&(o.FractionalNanoseconds=t.FractionalNanoseconds),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ie.default.util.toJSONOptions)},e})(),X1=V.Metadata=(()=>{function e(r){if(r)for(var t=Object.keys(r),n=0;n<t.length;++n)r[t[n]]!=null&&(this[t[n]]=r[t[n]])}return e.prototype.MimeType="",e.encode=function(t,n){return n||(n=$o.create()),t.MimeType!=null&&Object.hasOwnProperty.call(t,"MimeType")&&n.uint32(10).string(t.MimeType),n},e.decode=function(t,n){t instanceof jr||(t=jr.create(t));for(var o=n===void 0?t.len:t.pos+n,s=new V.Metadata;t.pos<o;){var i=t.uint32();switch(i>>>3){case 1:s.MimeType=t.string();break;default:t.skipType(i&7);break}}return s},e.fromObject=function(t){if(t instanceof V.Metadata)return t;var n=new V.Metadata;return t.MimeType!=null&&(n.MimeType=String(t.MimeType)),n},e.toObject=function(t,n){n||(n={});var o={};return n.defaults&&(o.MimeType=""),t.MimeType!=null&&t.hasOwnProperty("MimeType")&&(o.MimeType=t.MimeType),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ie.default.util.toJSONOptions)},e})();var Y1=parseInt("0644",8),e2=parseInt("0755",8);function Wt(e){if(e!=null)return typeof e=="number"?e&4095:(e=e.toString(),e.substring(0,1)==="0"?parseInt(e,8)&4095:parseInt(e,10)&4095)}function Jt(e){if(e==null)return;let r;if(e.secs!=null&&(r={secs:e.secs,nsecs:e.nsecs}),e.Seconds!=null&&(r={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(r={secs:e[0],nsecs:e[1]}),e instanceof Date){let t=e.getTime(),n=Math.floor(t/1e3);r={secs:n,nsecs:(t-n*1e3)*1e3}}if(!!Object.prototype.hasOwnProperty.call(r,"secs")){if(r!=null&&r.nsecs!=null&&(r.nsecs<0||r.nsecs>999999999))throw(0,il.default)(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return r}}async function*ul(e,r){if(typeof e=="string"||e instanceof String||me(e)||ke(e)||e._readableState)throw(0,Qr.default)(new Error("Unexpected input: single item passed - if you are using ipfs.allAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(Ne(e)&&(e=(0,al.default)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let t=(0,cl.default)(e),{value:n,done:o}=await t.peek();if(o){yield*[];return}if(t.push(n),Number.isInteger(n))throw(0,Qr.default)(new Error("Unexpected input: single item passed - if you are using ipfs.allAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(n._readableState){yield*(0,zo.default)(t,s=>Fo({content:s},r));return}if(me(n)){yield Fo({content:t},r);return}if(Wr(n)||n[Symbol.iterator]||n[Symbol.asyncIterator]||Ne(n)||ke(n)){yield*(0,zo.default)(t,s=>Fo(s,r));return}}throw Wr(e)?(0,Qr.default)(new Error("Unexpected input: single item passed - if you are using ipfs.allAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT"):(0,Qr.default)(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}async function Fo(e,r){let{path:t,mode:n,mtime:o,content:s}=e,i={path:t||"",mode:Wt(n),mtime:Jt(o)};return s?i.content=await r(s):t||(i.content=await r(e)),i}function ll(e){return ul(e,nu,!0)}function fl(e){if(e!=null)return typeof e=="string"?e:e.toString(8).padStart(4,"0")}async function L(e,r,t={}){let n=[],o=new FormData,s=0,i=0;for await(let{content:a,path:c,mode:f,mtime:m}of ll(e)){let h="",S=a?"file":"dir";s>0&&(h=`-${s}`);let k=S+h,C=[];if(f!=null&&C.push(`mode=${fl(f)}`),m!=null){let{secs:U,nsecs:N}=m;C.push(`mtime=${U}`),N!=null&&C.push(`mtime-nsecs=${N}`)}if(C.length&&(k=`${k}?${C.join("&")}`),a){o.set(k,a,c!=null?encodeURIComponent(c):void 0);let U=i+a.size;n.push({name:c,start:i,end:U}),i=U}else if(c!=null)o.set(k,new File([""],encodeURIComponent(c),{type:"application/x-directory"}));else throw new Error("path or content or both must be set");s++}return{total:i,parts:n,headers:t,body:o}}var ml=y(wo());function xb(e){return e.filter(Boolean)}function $(...e){return(0,ml.anySignal)(xb(e))}var dl=y(Q()),pl=u(e=>{async function r(t,n={}){let o=new dl.AbortController,s=$(o.signal,n.signal),i;try{i=await(await e.post("block/put",{signal:s,searchParams:l(n),...await L([t],o,n.headers)})).json()}catch(a){if(n.format==="dag-pb")return r(t,{...n,format:"protobuf"});if(n.format==="dag-cbor")return r(t,{...n,format:"cbor"});throw a}return p.parse(i.Key)}return r});T();var hl=u(e=>{async function*r(t,n={}){Array.isArray(t)||(t=[t]);let o=await e.post("block/rm",{signal:n.signal,searchParams:l({arg:t.map(s=>s.toString()),"stream-channels":!0,...n}),headers:n.headers});for await(let s of o.ndjson())yield Sb(s)}return r});function Sb(e){let r={cid:p.parse(e.Hash)};return e.Error&&(r.error=new Error(e.Error)),r}T();var gl=u(e=>{async function r(t,n={}){let s=await(await e.post("block/stat",{signal:n.signal,searchParams:l({arg:t.toString(),...n}),headers:n.headers})).json();return{cid:p.parse(s.Key),size:s.Size}}return r});function yl(e){return{get:Mt(e),put:pl(e),rm:hl(e),stat:gl(e)}}var bl=y(F()),wl=u(e=>{async function r(t,n={}){let o=await e.post("bootstrap/add",{signal:n.signal,searchParams:l({arg:t,...n}),headers:n.headers}),{Peers:s}=await o.json();return{Peers:s.map(i=>new bl.Multiaddr(i))}}return r});var jl=y(F()),xl=u(e=>{async function r(t={}){let n=await e.post("bootstrap/rm",{signal:t.signal,searchParams:l({...t,all:!0}),headers:t.headers}),{Peers:o}=await n.json();return{Peers:o.map(s=>new jl.Multiaddr(s))}}return r});var Sl=y(F()),El=u(e=>{async function r(t={}){let n=await e.post("bootstrap/list",{signal:t.signal,searchParams:l(t),headers:t.headers}),{Peers:o}=await n.json();return{Peers:o.map(s=>new Sl.Multiaddr(s))}}return r});var Pl=y(F()),Tl=u(e=>{async function r(t={}){let n=await e.post("bootstrap/add",{signal:t.signal,searchParams:l({...t,default:!0}),headers:t.headers}),{Peers:o}=await n.json();return{Peers:o.map(s=>new Pl.Multiaddr(s))}}return r});var vl=y(F()),Cl=u(e=>{async function r(t,n={}){let o=await e.post("bootstrap/rm",{signal:n.signal,searchParams:l({arg:t,...n}),headers:n.headers}),{Peers:s}=await o.json();return{Peers:s.map(i=>new vl.Multiaddr(i))}}return r});function Al(e){return{add:wl(e),clear:xl(e),list:El(e),reset:Tl(e),rm:Cl(e)}}var Bl=u(e=>{async function r(t,n={}){let s=await(await e.post("config/profile/apply",{signal:n.signal,searchParams:l({arg:t,...n}),headers:n.headers})).json();return{original:s.OldCfg,updated:s.NewCfg}}return r});function P(e){if(e==null)return e;let r=/^[A-Z]+$/,t={};return Object.keys(e).reduce((n,o)=>(r.test(o)?n[o.toLowerCase()]=e[o]:r.test(o[0])?n[o[0].toLowerCase()+o.slice(1)]=e[o]:n[o]=e[o],n),t)}var Ul=u(e=>{async function r(t={}){return(await(await e.post("config/profile/list",{signal:t.signal,searchParams:l(t),headers:t.headers})).json()).map(s=>P(s))}return r});function _l(e){return{apply:Bl(e),list:Ul(e)}}var kl=u(e=>async(t,n={})=>{if(!t)throw new Error("key argument is required");return(await(await e.post("config",{signal:n.signal,searchParams:l({arg:t,...n}),headers:n.headers})).json()).Value});var Nl=u(e=>async(t={})=>await(await e.post("config/show",{signal:t.signal,searchParams:l({...t}),headers:t.headers})).json());Ve();var Il=y(Q()),Dl=u(e=>async(t,n={})=>{let o=new Il.AbortController,s=$(o.signal,n.signal);await(await e.post("config/replace",{signal:s,searchParams:l(n),...await L([oe(JSON.stringify(t))],o,n.headers)})).text()});var Ol=u(e=>async(t,n,o={})=>{if(typeof t!="string")throw new Error("Invalid key type");let s={...o,...Eb(t,n)};await(await e.post("config",{signal:o.signal,searchParams:l(s),headers:o.headers})).text()}),Eb=(e,r)=>{switch(typeof r){case"boolean":return{arg:[e,r.toString()],bool:!0};case"string":return{arg:[e,r]};default:return{arg:[e,JSON.stringify(r)],json:!0}}};function Rl(e){return{getAll:Nl(e),get:kl(e),set:Ol(e),replace:Dl(e),profiles:_l(e)}}var Ll=u(e=>{async function*r(t,n={}){yield*(await e.post("dag/export",{signal:n.signal,searchParams:l({arg:t.toString()}),headers:n.headers})).iterator()}return r});T();var Mo=y(Ke());async function*qo(e,r,t,n,o){let s=async f=>{let m=await t.getCodec(f.code),h=await n(f,o);return m.decode(h)},i=r.split("/").filter(Boolean),a=await s(e),c=e;for(i.length||(yield{value:a,remainderPath:""});i.length;){let f=i.shift();if(!f)throw(0,Mo.default)(new Error(`Could not resolve path "${r}"`),"ERR_INVALID_PATH");if(Object.prototype.hasOwnProperty.call(a,f))a=a[f],yield{value:a,remainderPath:i.join("/")};else throw(0,Mo.default)(new Error(`no link named "${f}" under ${c}`),"ERR_NO_LINK");let m=p.asCID(a);m&&(c=m,a=await s(a))}}var Ml=y(zl()),ql=y(Zr()),Hl=y(Ke());var Vl=(e,r)=>u((n,o)=>{let s=Mt(o);return async(a,c={})=>{if(c.path){let k=c.localResolve?await(0,Ml.default)(qo(a,c.path,e,s,c)):await(0,ql.default)(qo(a,c.path,e,s,c));if(!k)throw(0,Hl.default)(new Error("Not found"),"ERR_NOT_FOUND");return k}let f=await e.getCodec(a.code),m=await s(a,c);return{value:f.decode(m),remainderPath:""}}})(r);var Gl=y(Q());T();var Wl=u(e=>{async function*r(t,n={}){let o=new Gl.AbortController,s=$(o.signal,n.signal),{headers:i,body:a}=await L(t,o,n.headers),c=await e.post("dag/import",{signal:s,headers:i,body:a,searchParams:l({"pin-roots":n.pinRoots})});for await(let{Root:f}of c.ndjson())if(f!==void 0){let{Cid:{"/":m},PinErrorMsg:h}=f;yield{root:{cid:p.parse(m),pinErrorMsg:h}}}}return r});T();var Jl=y(Q()),Kt=(e,r)=>u(n=>async(s,i={})=>{let a={format:"dag-cbor",hashAlg:"sha2-256",inputEnc:"raw",...i},f=(await e.getCodec(a.format)).encode(s),m=new Jl.AbortController,h=$(m.signal,a.signal),k=await(await n.post("dag/put",{timeout:a.timeout,signal:h,searchParams:l(a),...await L([f],m,a.headers)})).json();return p.parse(k.Cid["/"])})(r);T();var Kl=u(e=>async(t,n={})=>{let s=await(await e.post("dag/resolve",{signal:n.signal,searchParams:l({arg:`${t}${n.path?`/${n.path}`.replace(/\/[/]+/g,"/"):""}`,...n}),headers:n.headers})).json();return{cid:p.parse(s.Cid["/"]),remainderPath:s.RemPath}});function Xl(e,r){return{export:Ll(r),get:Vl(e,r),import:Wl(r),put:Kt(e,r),resolve:Kl(r)}}var ef=y(F());var Ql=2;var Zl=4,Yl=5;var rf=u(e=>{async function r(t,n={}){let o=await e.post("dht/findpeer",{signal:n.signal,searchParams:l({arg:t,...n}),headers:n.headers});for await(let s of o.ndjson())if(s.Type===Ql&&s.Responses){let{ID:i,Addrs:a}=s.Responses[0];return{id:i,addrs:(a||[]).map(c=>new ef.Multiaddr(c))}}throw new Error("not found")}return r});var tf=y(F());var nf=u(e=>{async function*r(t,n={}){let o=await e.post("dht/findprovs",{signal:n.signal,searchParams:l({arg:t.toString(),...n}),headers:n.headers});for await(let s of o.ndjson())if(s.Type===Zl&&s.Responses)for(let{ID:i,Addrs:a}of s.Responses)yield{id:i,addrs:(a||[]).map(c=>new tf.Multiaddr(c))}}return r});Ve();ze();var of=u(e=>{async function r(t,n={}){let o=await e.post("dht/get",{signal:n.signal,searchParams:l({arg:t instanceof Uint8Array?He(t):t,...n}),headers:n.headers});for await(let s of o.ndjson())if(s.Type===Yl)return oe(s.Extra,"base64pad");throw new Error("not found")}return r});var sf=y(F());var af=u(e=>{async function*r(t,n={recursive:!1}){let o=Array.isArray(t)?t:[t],s=await e.post("dht/provide",{signal:n.signal,searchParams:l({arg:o.map(i=>i.toString()),...n}),headers:n.headers});for await(let i of s.ndjson())i=P(i),i.responses?i.responses=i.responses.map(({ID:a,Addrs:c})=>({id:a,addrs:(c||[]).map(f=>new sf.Multiaddr(f))})):i.responses=[],yield i}return r});var cf=y(F());var uf=y(Q());ze();var lf=u(e=>{async function*r(t,n,o={}){let s=new uf.AbortController,i=$(s.signal,o.signal),a=await e.post("dht/put",{signal:i,searchParams:l({arg:He(t),...o}),...await L([n],s,o.headers)});for await(let c of a.ndjson())c=P(c),c.responses&&(c.responses=c.responses.map(({ID:f,Addrs:m})=>({id:f,addrs:(m||[]).map(h=>new cf.Multiaddr(h))}))),yield c}return r});var ff=y(F());var mf=u(e=>{async function*r(t,n={}){let o=await e.post("dht/query",{signal:n.signal,searchParams:l({arg:t.toString(),...n}),headers:n.headers});for await(let s of o.ndjson())s=P(s),s.responses=(s.responses||[]).map(({ID:i,Addrs:a})=>({id:i,addrs:(a||[]).map(c=>new ff.Multiaddr(c))})),yield s}return r});function df(e){return{findPeer:rf(e),findProvs:nf(e),get:of(e),provide:af(e),put:lf(e),query:mf(e)}}var pf=u(e=>{async function r(t={}){return(await e.post("diag/cmds",{signal:t.signal,searchParams:l(t),headers:t.headers})).json()}return r});var hf=u(e=>{async function r(t={}){return(await e.post("diag/net",{signal:t.signal,searchParams:l(t),headers:t.headers})).json()}return r});var gf=u(e=>{async function r(t={}){return(await e.post("diag/sys",{signal:t.signal,searchParams:l(t),headers:t.headers})).json()}return r});function yf(e){return{cmds:pf(e),net:hf(e),sys:gf(e)}}var bf=u(e=>{async function r(t,n,o={}){await(await e.post("files/chmod",{signal:o.signal,searchParams:l({arg:t,mode:n,...o}),headers:o.headers})).text()}return r});T();var wf=u(e=>{async function r(t,n,o={}){let s=Array.isArray(t)?t:[t];await(await e.post("files/cp",{signal:o.signal,searchParams:l({arg:s.concat(n).map(a=>p.asCID(a)?`/ipfs/${a}`:a),...o}),headers:o.headers})).text()}return r});T();var jf=u(e=>{async function r(t,n={}){if(!t||typeof t!="string")throw new Error("ipfs.files.flush requires a path");let s=await(await e.post("files/flush",{signal:n.signal,searchParams:l({arg:t,...n}),headers:n.headers})).json();return p.parse(s.Cid)}return r});T();function Yr(e){let r=P(e);return Object.prototype.hasOwnProperty.call(r,"mode")&&(r.mode=parseInt(r.mode,8)),Object.prototype.hasOwnProperty.call(r,"mtime")&&(r.mtime={secs:r.mtime,nsecs:r.mtimeNsecs||0},delete r.mtimeNsecs),r}var xf=u(e=>{async function*r(t,n={}){if(!t)throw new Error("ipfs.files.ls requires a path");let o=await e.post("files/ls",{signal:n.signal,searchParams:l({arg:p.asCID(t)?`/ipfs/${t}`:t,long:!0,...n,stream:!0}),headers:n.headers});for await(let s of o.ndjson())if("Entries"in s)for(let i of s.Entries||[])yield Sf(Yr(i));else yield Sf(Yr(s))}return r});function Sf(e){return e.hash&&(e.cid=p.parse(e.hash)),delete e.hash,e.type=e.type===1?"directory":"file",e}var Ef=u(e=>{async function r(t,n={}){await(await e.post("files/mkdir",{signal:n.signal,searchParams:l({arg:t,...n}),headers:n.headers})).text()}return r});var Pf=u(e=>{async function r(t,n,o={}){Array.isArray(t)||(t=[t]),await(await e.post("files/mv",{signal:o.signal,searchParams:l({arg:t.concat(n),...o}),headers:o.headers})).text()}return r});var Cf=y(vf()),Af=u(e=>{async function*r(t,n={}){let o=await e.post("files/read",{signal:n.signal,searchParams:l({arg:t,count:n.length,...n}),headers:n.headers});yield*(0,Cf.default)(o.body)}return r});var Bf=u(e=>{async function r(t,n={}){await(await e.post("files/rm",{signal:n.signal,searchParams:l({arg:t,...n}),headers:n.headers})).text()}return r});T();var Xt=u(e=>{async function r(t,n={}){let s=await(await e.post("files/stat",{signal:n.signal,searchParams:l({arg:t,...n}),headers:n.headers})).json();return s.WithLocality=s.WithLocality||!1,vb(Yr(s))}return r});function vb(e){return e.cid=p.parse(e.hash),delete e.hash,e}var Uf=u(e=>{async function r(t,n={}){await(await e.post("files/touch",{signal:n.signal,searchParams:l({arg:t,...n}),headers:n.headers})).text()}return r});var _f=y(Q()),kf=u(e=>{async function r(t,n,o={}){let s=new _f.AbortController,i=$(s.signal,o.signal);await(await e.post("files/write",{signal:i,searchParams:l({arg:t,streamChannels:!0,count:o.length,...o}),...await L([{content:n,path:"arg",mode:$t(o.mode),mtime:zt(o.mtime)}],s,o.headers)})).text()}return r});function Nf(e){return{chmod:bf(e),cp:wf(e),flush:jf(e),ls:xf(e),mkdir:Ef(e),mv:Pf(e),read:Af(e),rm:Bf(e),stat:Xt(e),touch:Uf(e),write:kf(e)}}var If=y(Ke()),Df=u(e=>async(t,n,o={})=>{throw(0,If.default)(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")});var Of=u(e=>{async function r(t,n={type:"rsa",size:2048}){let s=await(await e.post("key/gen",{signal:n.signal,searchParams:l({arg:t,...n}),headers:n.headers})).json();return P(s)}return r});var Rf=u(e=>{async function r(t,n,o,s={}){let a=await(await e.post("key/import",{signal:s.signal,searchParams:l({arg:t,pem:n,password:o,...s}),headers:s.headers})).json();return P(a)}return r});var Lf=y(Ke()),$f=u(e=>async(t,n={})=>{throw(0,Lf.default)(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")});var zf=u(e=>{async function r(t={}){return((await(await e.post("key/list",{signal:t.signal,searchParams:l(t),headers:t.headers})).json()).Keys||[]).map(s=>P(s))}return r});var Ff=u(e=>{async function r(t,n,o={}){let s=await e.post("key/rename",{signal:o.signal,searchParams:l({arg:[t,n],...o}),headers:o.headers});return P(await s.json())}return r});var Mf=u(e=>{async function r(t,n={}){let s=await(await e.post("key/rm",{signal:n.signal,searchParams:l({arg:t,...n}),headers:n.headers})).json();return P(s.Keys[0])}return r});function qf(e){return{export:Df(e),gen:Of(e),import:Rf(e),info:$f(e),list:zf(e),rename:Ff(e),rm:Mf(e)}}var Hf=u(e=>{async function r(t,n,o={}){let s=await e.post("log/level",{signal:o.signal,searchParams:l({arg:[t,n],...o}),headers:o.headers});return P(await s.json())}return r});var Vf=u(e=>{async function r(t={}){return(await(await e.post("log/ls",{signal:t.signal,searchParams:l(t),headers:t.headers})).json()).Strings}return r});var Gf=u(e=>{async function*r(t={}){yield*(await e.post("log/tail",{signal:t.signal,searchParams:l(t),headers:t.headers})).ndjson()}return r});function Wf(e){return{level:Hf(e),ls:Vf(e),tail:Gf(e)}}var Jf=u(e=>{async function r(t,n={}){let o=await e.post("name/publish",{signal:n.signal,searchParams:l({arg:`${t}`,...n}),headers:n.headers});return P(await o.json())}return r});var Kf=u(e=>{async function*r(t,n={}){let o=await e.post("name/resolve",{signal:n.signal,searchParams:l({arg:t,stream:!0,...n}),headers:n.headers});for await(let s of o.ndjson())yield s.Path}return r});var Xf=u(e=>{async function r(t,n={}){let o=await e.post("name/pubsub/cancel",{signal:n.signal,searchParams:l({arg:t,...n}),headers:n.headers});return P(await o.json())}return r});var Qf=u(e=>{async function r(t={}){let n=await e.post("name/pubsub/state",{signal:t.signal,searchParams:l(t),headers:t.headers});return P(await n.json())}return r});var Zf=u(e=>{async function r(t={}){return(await(await e.post("name/pubsub/subs",{signal:t.signal,searchParams:l(t),headers:t.headers})).json()).Strings||[]}return r});function Yf(e){return{cancel:Xf(e),state:Qf(e),subs:Zf(e)}}function em(e){return{publish:Jf(e),resolve:Kf(e),pubsub:Yf(e)}}T();var rm=u(e=>{async function r(t,n={}){let s=await(await e.post("object/data",{signal:n.signal,searchParams:l({arg:`${t instanceof Uint8Array?p.decode(t):t}`,...n}),headers:n.headers})).arrayBuffer();return new Uint8Array(s,0,s.byteLength)}return r});T();Ve();var tm=u(e=>{async function r(t,n={}){let s=await(await e.post("object/get",{signal:n.signal,searchParams:l({arg:`${t instanceof Uint8Array?p.decode(t):t}`,dataEncoding:"base64",...n}),headers:n.headers})).json();return{Data:oe(s.Data,"base64pad"),Links:(s.Links||[]).map(i=>({Name:i.Name,Hash:p.parse(i.Hash),Tsize:i.Size}))}}return r});T();var nm=u(e=>{async function r(t,n={}){return((await(await e.post("object/links",{signal:n.signal,searchParams:l({arg:`${t instanceof Uint8Array?p.decode(t):t}`,...n}),headers:n.headers})).json()).Links||[]).map(i=>({Name:i.Name,Tsize:i.Size,Hash:p.parse(i.Hash)}))}return r});T();var om=u(e=>{async function r(t={}){let n=await e.post("object/new",{signal:t.signal,searchParams:l({arg:t.template,...t}),headers:t.headers}),{Hash:o}=await n.json();return p.parse(o)}return r});var sm=(e,r)=>u(n=>{let o=Kt(e,r);async function s(i,a={}){return o(i,{...a,format:"dag-pb",hashAlg:"sha2-256",version:0})}return s})(r);T();var im=u(e=>{async function r(t,n={}){let s=await(await e.post("object/stat",{signal:n.signal,searchParams:l({arg:`${t}`,...n}),headers:n.headers})).json();return{...s,Hash:p.parse(s.Hash)}}return r});T();var am=u(e=>{async function r(t,n,o={}){let s=await e.post("object/patch/add-link",{signal:o.signal,searchParams:l({arg:[`${t}`,n.Name||n.name||"",(n.Hash||n.cid||"").toString()||null],...o}),headers:o.headers}),{Hash:i}=await s.json();return p.parse(i)}return r});T();var cm=y(Q()),um=u(e=>{async function r(t,n,o={}){let s=new cm.AbortController,i=$(s.signal,o.signal),a=await e.post("object/patch/append-data",{signal:i,searchParams:l({arg:`${t}`,...o}),...await L([n],s,o.headers)}),{Hash:c}=await a.json();return p.parse(c)}return r});T();var lm=u(e=>{async function r(t,n,o={}){let s=await e.post("object/patch/rm-link",{signal:o.signal,searchParams:l({arg:[`${t}`,n.Name||n.name||null],...o}),headers:o.headers}),{Hash:i}=await s.json();return p.parse(i)}return r});T();var fm=y(Q()),mm=u(e=>{async function r(t,n,o={}){let s=new fm.AbortController,i=$(s.signal,o.signal),a=await e.post("object/patch/set-data",{signal:i,searchParams:l({arg:[`${t}`],...o}),...await L([n],s,o.headers)}),{Hash:c}=await a.json();return p.parse(c)}return r});function dm(e){return{addLink:am(e),appendData:um(e),rmLink:lm(e),setData:mm(e)}}function pm(e,r){return{data:rm(r),get:tm(r),links:nm(r),new:om(r),put:sm(e,r),stat:im(r),patch:dm(r)}}T();var xr=y(yr());T();async function*Qt(e){if(e==null)throw(0,xr.default)(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");let r=p.asCID(e);if(r){yield Se({cid:r});return}if(e instanceof String||typeof e=="string"){yield Se({path:e});return}if(e.cid!=null||e.path!=null)return yield Se(e);if(Symbol.iterator in e){let t=e[Symbol.iterator](),n=t.next();if(n.done)return t;if(p.asCID(n.value)||n.value instanceof String||typeof n.value=="string"){yield Se({cid:n.value});for(let o of t)yield Se({cid:o});return}if(n.value.cid!=null||n.value.path!=null){yield Se(n.value);for(let o of t)yield Se(o);return}throw(0,xr.default)(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}if(Symbol.asyncIterator in e){let t=e[Symbol.asyncIterator](),n=await t.next();if(n.done)return t;if(p.asCID(n.value)||n.value instanceof String||typeof n.value=="string"){yield Se({cid:n.value});for await(let o of t)yield Se({cid:o});return}if(n.value.cid!=null||n.value.path!=null){yield Se(n.value);for await(let o of t)yield Se(o);return}throw(0,xr.default)(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}throw(0,xr.default)(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}function Se(e){let r=e.cid||`${e.path}`;if(!r)throw(0,xr.default)(new Error("Unexpected input: Please path either a CID or an IPFS path"),"ERR_UNEXPECTED_INPUT");let t={path:r,recursive:e.recursive!==!1};return e.metadata!=null&&(t.metadata=e.metadata),t}var Zt=u(e=>{async function*r(t,n={}){for await(let{path:o,recursive:s,metadata:i}of Qt(t)){let a=await e.post("pin/add",{signal:n.signal,searchParams:l({...n,arg:o,recursive:s,metadata:i?JSON.stringify(i):void 0,stream:!0}),headers:n.headers});for await(let c of a.ndjson()){if(c.Pins){for(let f of c.Pins)yield p.parse(f);continue}yield p.parse(c)}}}return r});var hm=y(Zr());function gm(e){let r=Zt(e);return u(()=>{async function t(n,o={}){return(0,hm.default)(r([{path:n,...o}],o))}return t})(e)}T();function ym(e,r,t){let n={type:e,cid:p.parse(r)};return t&&(n.metadata=t),n}var bm=u(e=>{async function*r(t={}){let n=[];t.paths&&(n=Array.isArray(t.paths)?t.paths:[t.paths]);let o=await e.post("pin/ls",{signal:t.signal,searchParams:l({...t,arg:n.map(s=>`${s}`),stream:!0}),headers:t.headers});for await(let s of o.ndjson()){if(s.Keys){for(let i of Object.keys(s.Keys))yield ym(s.Keys[i].Type,i,s.Keys[i].Metadata);return}yield ym(s.Type,s.Cid,s.Metadata)}}return r});T();var Yt=u(e=>{async function*r(t,n={}){for await(let{path:o,recursive:s}of Qt(t)){let i=new URLSearchParams(n.searchParams);i.append("arg",`${o}`),s!=null&&i.set("recursive",String(s));let a=await e.post("pin/rm",{signal:n.signal,headers:n.headers,searchParams:l({...n,arg:`${o}`,recursive:s})});for await(let c of a.ndjson()){if(c.Pins){yield*c.Pins.map(f=>p.parse(f));continue}yield p.parse(c)}}}return r});var wm=y(Zr());var jm=e=>{let r=Yt(e);return u(()=>{async function t(n,o={}){return(0,wm.default)(r([{path:n,...o}],o))}return t})(e)};T();var en=({Name:e,Status:r,Cid:t})=>({cid:p.parse(t),name:e,status:r}),xm=e=>{if(typeof e=="string"&&e!=="")return e;throw new TypeError("service name must be passed")},Sm=e=>{if(p.asCID(e))return e.toString();throw new TypeError(`CID instance expected instead of ${typeof e}`)},Sr=({service:e,cid:r,name:t,status:n,all:o})=>{let s=l({service:xm(e),name:t,force:o?!0:void 0});if(r)for(let i of r)s.append("cid",Sm(i));if(n)for(let i of n)s.append("status",i);return s},Em=({cid:e,service:r,background:t,name:n,origins:o})=>{let s=l({arg:Sm(e),service:xm(r),name:n,background:t?!0:void 0});if(o)for(let i of o)s.append("origin",i.toString());return s};function Pm(e){async function r(t,{timeout:n,signal:o,headers:s,...i}){let a=await e.post("pin/remote/add",{timeout:n,signal:o,headers:s,searchParams:Em({cid:t,...i})});return en(await a.json())}return r}function Tm(e){async function*r({timeout:t,signal:n,headers:o,...s}){let i=await e.post("pin/remote/ls",{timeout:t,signal:n,headers:o,searchParams:Sr(s)});for await(let a of i.ndjson())yield en(a)}return r}function vm(e){async function r({timeout:t,signal:n,headers:o,...s}){await e.post("pin/remote/rm",{timeout:t,signal:n,headers:o,searchParams:Sr({...s,all:!1})})}return r}function Cm(e){async function r({timeout:t,signal:n,headers:o,...s}){await e.post("pin/remote/rm",{timeout:t,signal:n,headers:o,searchParams:Sr({...s,all:!0})})}return r}function Am(e){let r=String(e);if(r==="undefined")throw Error("endpoint is required");return r[r.length-1]==="/"?r.slice(0,-1):r}function Bm(e){return{service:e.Service,endpoint:new URL(e.ApiEndpoint),...e.Stat&&{stat:Cb(e.Stat)}}}function Cb(e){switch(e.Status){case"valid":{let{Pinning:r,Pinned:t,Queued:n,Failed:o}=e.PinCount;return{status:"valid",pinCount:{queued:n,pinning:r,pinned:t,failed:o}}}case"invalid":return{status:"invalid"};default:return{status:e.Status}}}function Um(e){async function r(t,n){let{endpoint:o,key:s,headers:i,timeout:a,signal:c}=n;await e.post("pin/remote/service/add",{timeout:a,signal:c,searchParams:l({arg:[t,Am(o),s]}),headers:i})}return r}function _m(e){async function r(t={}){let{stat:n,headers:o,timeout:s,signal:i}=t,a=await e.post("pin/remote/service/ls",{timeout:s,signal:i,headers:o,searchParams:n===!0?l({stat:n}):void 0}),{RemoteServices:c}=await a.json();return c.map(Bm)}return r}function km(e){async function r(t,n={}){await e.post("pin/remote/service/rm",{signal:n.signal,headers:n.headers,searchParams:l({arg:t})})}return r}function Nm(e){let r=new Je(e);return{add:Um(r),ls:_m(r),rm:km(r)}}function Im(e){let r=new Je(e);return{add:Pm(r),ls:Tm(r),rm:vm(r),rmAll:Cm(r),service:Nm(e)}}function Dm(e){return{addAll:Zt(e),add:gm(e),ls:bm(e),rmAll:Yt(e),rm:jm(e),remote:Im(e)}}var Om=u(e=>{async function r(t={}){let{Strings:n}=await(await e.post("pubsub/ls",{signal:t.signal,searchParams:l(t),headers:t.headers})).json();return n||[]}return r});var Rm=u(e=>{async function r(t,n={}){let o=await e.post("pubsub/peers",{signal:n.signal,searchParams:l({arg:t,...n}),headers:n.headers}),{Strings:s}=await o.json();return s||[]}return r});var Lm=y(Q()),$m=u(e=>{async function r(t,n,o={}){let s=l({arg:t,...o}),i=new Lm.AbortController,a=$(i.signal,o.signal);await(await e.post("pubsub/pub",{signal:a,searchParams:s,...await L([n],i,o.headers)})).text()}return r});Ve();ze();var zm=y(co());var Ab=(0,zm.default)("ipfs-http-client:pubsub:subscribe"),Fm=(e,r)=>u(t=>{async function n(o,s,i={}){i.signal=r.subscribe(o,s,i.signal);let a,c,f=new Promise((h,S)=>{a=h,c=S}),m=setTimeout(()=>a(),1e3);return t.post("pubsub/sub",{signal:i.signal,searchParams:l({arg:o,...i}),headers:i.headers}).catch(h=>{r.unsubscribe(o,s),c(h)}).then(h=>{clearTimeout(m),!!h&&(Bb(h,{onMessage:s,onEnd:()=>r.unsubscribe(o,s),onError:i.onError}),a())}),f}return n})(e);async function Bb(e,{onMessage:r,onEnd:t,onError:n}){n=n||Ab;try{for await(let o of e.ndjson())try{if(!o.from)continue;r({from:He(oe(o.from,"base64pad"),"base58btc"),data:oe(o.data,"base64pad"),seqno:oe(o.seqno,"base64pad"),topicIDs:o.topicIDs})}catch(s){s.message=`Failed to parse pubsub message: ${s.message}`,n(s,!1,o)}}catch(o){Ub(o)||n(o,!0)}finally{t()}}var Ub=e=>{switch(e.type){case"aborted":return!0;case"abort":return!0;default:return e.name==="AbortError"}};var Mm=(e,r)=>{async function t(n,o){r.unsubscribe(n,o)}return t};var qm=y(Q()),Ho=class{constructor(){this._subs=new Map}subscribe(r,t,n){let o=this._subs.get(r)||[];if(o.find(i=>i.handler===t))throw new Error(`Already subscribed to ${r} with this handler`);let s=new qm.AbortController;return this._subs.set(r,[{handler:t,controller:s}].concat(o)),n&&n.addEventListener("abort",()=>this.unsubscribe(r,t)),s.signal}unsubscribe(r,t){let n=this._subs.get(r)||[],o;t?(this._subs.set(r,n.filter(s=>s.handler!==t)),o=n.filter(s=>s.handler===t)):(this._subs.set(r,[]),o=n),(this._subs.get(r)||[]).length||this._subs.delete(r),o.forEach(s=>s.controller.abort())}};function Hm(e){let r=new Ho;return{ls:Om(e),peers:Rm(e),publish:$m(e),subscribe:Fm(e,r),unsubscribe:Mm(e,r)}}T();var Vm=u(e=>{async function*r(t={}){yield*(await e.post("refs/local",{signal:t.signal,transform:P,searchParams:l(t),headers:t.headers})).ndjson()}return r});var Gm=u((e,r)=>Object.assign(async function*(n,o={}){let s=Array.isArray(n)?n:[n];yield*(await e.post("refs",{signal:o.signal,searchParams:l({arg:s.map(a=>`${a instanceof Uint8Array?p.decode(a):a}`),...o}),headers:o.headers,transform:P})).ndjson()},{local:Vm(r)}));T();var Wm=u(e=>{async function*r(t={}){yield*(await e.post("repo/gc",{signal:t.signal,searchParams:l(t),headers:t.headers,transform:o=>({err:o.Error?new Error(o.Error):null,cid:(o.Key||{})["/"]?p.parse(o.Key["/"]):null})})).ndjson()}return r});var rn=u(e=>{async function r(t={}){let o=await(await e.post("repo/stat",{signal:t.signal,searchParams:l(t),headers:t.headers})).json();return{numObjects:BigInt(o.NumObjects),repoSize:BigInt(o.RepoSize),repoPath:o.RepoPath,version:o.Version,storageMax:BigInt(o.StorageMax)}}return r});var Jm=u(e=>{async function r(t={}){return(await(await e.post("repo/version",{signal:t.signal,searchParams:l(t),headers:t.headers})).json()).Version}return r});function Km(e){return{gc:Wm(e),stat:rn(e),version:Jm(e)}}var Xm=u(e=>{async function*r(t={}){yield*(await e.post("stats/bw",{signal:t.signal,searchParams:l(t),headers:t.headers,transform:o=>({totalIn:BigInt(o.TotalIn),totalOut:BigInt(o.TotalOut),rateIn:parseFloat(o.RateIn),rateOut:parseFloat(o.RateOut)})})).ndjson()}return r});function Qm(e){return{bitswap:Ft(e),repo:rn(e),bw:Xm(e)}}var Zm=y(F());var Ym=u(e=>{async function r(t={}){let n=await e.post("swarm/addrs",{signal:t.signal,searchParams:l(t),headers:t.headers}),{Addrs:o}=await n.json();return Object.keys(o).map(s=>({id:s,addrs:(o[s]||[]).map(i=>new Zm.Multiaddr(i))}))}return r});var ed=u(e=>{async function r(t,n={}){let o=await e.post("swarm/connect",{signal:n.signal,searchParams:l({arg:t,...n}),headers:n.headers}),{Strings:s}=await o.json();return s||[]}return r});var rd=u(e=>{async function r(t,n={}){let o=await e.post("swarm/disconnect",{signal:n.signal,searchParams:l({arg:t,...n}),headers:n.headers}),{Strings:s}=await o.json();return s||[]}return r});var td=y(F());var nd=u(e=>{async function r(t={}){let n=await e.post("swarm/addrs/local",{signal:t.signal,searchParams:l(t),headers:t.headers}),{Strings:o}=await n.json();return(o||[]).map(s=>new td.Multiaddr(s))}return r});var od=y(F());var sd=u(e=>{async function r(t={}){let n=await e.post("swarm/peers",{signal:t.signal,searchParams:l(t),headers:t.headers}),{Peers:o}=await n.json();return(o||[]).map(s=>({addr:new od.Multiaddr(s.Addr),peer:s.Peer,muxer:s.Muxer,latency:s.Latency,streams:s.Streams,direction:s.Direction==null?void 0:s.Direction===0?"inbound":"outbound"}))}return r});function id(e){return{addrs:Ym(e),connect:ed(e),disconnect:rd(e),localAddrs:nd(e),peers:sd(e)}}T();var ad=y(Q()),tn=u(e=>{async function*r(t,n={}){let o=new ad.AbortController,s=$(o.signal,n.signal),{headers:i,body:a,total:c,parts:f}=await L(t,o,n.headers),[m,h]=typeof n.progress=="function"?_b(c,f,n.progress):[void 0,void 0],S=await e.post("add",{searchParams:l({"stream-channels":!0,...n,progress:Boolean(m)}),onUploadProgress:h,signal:s,headers:i,body:a});for await(let k of S.ndjson())k=P(k),k.hash!==void 0?yield Nb(k):m&&m(k.bytes||0,k.name)}return r}),_b=(e,r,t)=>r?[void 0,kb(e,r,t)]:[t,void 0],kb=(e,r,t)=>{let n=0,o=r.length;return({loaded:s,total:i})=>{let a=Math.floor(s/i*e);for(;n<o;){let{start:c,end:f,name:m}=r[n];if(a<f){t(a-c,m);break}else t(f-c,m),n+=1}}};function Nb({name:e,hash:r,size:t,mode:n,mtime:o,mtimeNsecs:s}){let i={path:e,cid:p.parse(r),size:parseInt(t)};return n!=null&&(i.mode=parseInt(n,8)),o!=null&&(i.mtime={secs:o,nsecs:s||0}),i}var Sd=y(Zr());var fd=y(yr());Ve();var md=y(br()),dd=y(ld()),pd=y(Gr()),hd=y(Po()),gd=y(To());async function*nn(e){yield e}async function yd(e){if(me(e))return nn(Vo(e));if(typeof e=="string"||e instanceof String)return nn(Vo(e.toString()));if(ke(e))return(0,dd.default)(e);if(Ne(e)&&(e=(0,md.default)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let r=(0,pd.default)(e),{value:t,done:n}=await r.peek();if(n)return nn(new Uint8Array(0));if(r.push(t),Number.isInteger(t))return nn(Uint8Array.from(await(0,hd.default)(r)));if(me(t)||typeof t=="string"||t instanceof String)return(0,gd.default)(r,Vo)}throw(0,fd.default)(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}function Vo(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):oe(e.toString())}var on=y(yr()),bd=y(br()),wd=y(Gr());async function*jd(e,r){if(e==null)throw(0,on.default)(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if(typeof e=="string"||e instanceof String){yield sn(e.toString(),r);return}if(me(e)||ke(e)){yield sn(e,r);return}if(Ne(e)&&(e=(0,bd.default)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let t=(0,wd.default)(e),{value:n,done:o}=await t.peek();if(o){yield{content:[]};return}if(t.push(n),Number.isInteger(n)||me(n)||typeof n=="string"||n instanceof String){yield sn(t,r);return}throw(0,on.default)(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(Wr(e)){yield sn(e,r);return}throw(0,on.default)(new Error('Unexpected input: cannot convert "'+typeof e+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function sn(e,r){let{path:t,mode:n,mtime:o,content:s}=e,i={path:t||"",mode:Wt(n),mtime:Jt(o)};return s?i.content=await r(s):t||(i.content=await r(e)),i}function xd(e){return jd(e,yd)}function Ed(e){let r=tn(e);return u(()=>{async function t(n,o={}){return await(0,Sd.default)(r(xd(n),o))}return t})(e)}var Pd=u(e=>{async function*r(t,n={}){yield*(await e.post("cat",{signal:n.signal,searchParams:l({arg:t.toString(),...n}),headers:n.headers})).iterator()}return r});var Td=u(e=>async(t={})=>(await e.post("commands",{signal:t.signal,searchParams:l(t),headers:t.headers})).json());var vd=u(e=>async(t,n={})=>(await(await e.post("dns",{signal:n.signal,searchParams:l({arg:t,...n}),headers:n.headers})).json()).Path);var Cd=u(e=>()=>{let r=new URL(e.opts.base||"");return{host:r.hostname,port:r.port,protocol:r.protocol,pathname:r.pathname,"api-path":r.pathname}});T();var Ad=u(e=>{async function*r(t,n={}){let o={arg:`${t instanceof Uint8Array?p.decode(t):t}`,...n};o.compressionLevel&&(o["compression-level"]=o.compressionLevel,delete o.compressionLevel),yield*(await e.post("get",{signal:n.signal,searchParams:l(o),headers:n.headers})).iterator()}return r});var Bd=y(F());var an=u(e=>{async function r(t={}){let o=await(await e.post("id",{signal:t.signal,searchParams:l({arg:t.peerId?t.peerId.toString():void 0,...t}),headers:t.headers})).json(),s={...P(o)};return s.addresses&&(s.addresses=s.addresses.map(i=>new Bd.Multiaddr(i))),s}return r});var Ud=e=>{let r=an(e);async function t(n={}){let o=await r(n);return Boolean(o&&o.addresses&&o.addresses.length)}return t};T();var _d=u((e,r)=>{async function*t(n,o={}){let s=`${n instanceof Uint8Array?p.decode(n):n}`;async function i(c){let f=c.Hash;if(f.includes("/")){let h=f.startsWith("/ipfs/")?f:`/ipfs/${f}`;f=(await Xt(r)(h)).cid}else f=p.parse(f);let m={name:c.Name,path:s+(c.Name?`/${c.Name}`:""),size:c.Size,cid:f,type:Db(c)};return c.Mode&&(m.mode=parseInt(c.Mode,8)),c.Mtime!==void 0&&c.Mtime!==null&&(m.mtime={secs:c.Mtime},c.MtimeNsecs!==void 0&&c.MtimeNsecs!==null&&(m.mtime.nsecs=c.MtimeNsecs)),m}let a=await e.post("ls",{signal:o.signal,searchParams:l({arg:s,...o}),headers:o.headers});for await(let c of a.ndjson()){if(c=c.Objects,!c)throw new Error("expected .Objects in results");if(c=c[0],!c)throw new Error("expected one array in results.Objects");let f=c.Links;if(!Array.isArray(f))throw new Error("expected one array in results.Objects[0].Links");if(!f.length){yield i(c);return}yield*f.map(i)}}return t});function Db(e){switch(e.Type){case 1:case 5:return"dir";case 2:return"file";default:return"file"}}var kd=u(e=>{async function r(t={}){let n=await e.post("dns",{signal:t.signal,searchParams:l(t),headers:t.headers});return P(await n.json())}return r});var Nd=u(e=>{async function*r(t,n={}){yield*(await e.post("ping",{signal:n.signal,searchParams:l({arg:`${t}`,...n}),headers:n.headers,transform:P})).ndjson()}return r});var Id=u(e=>{async function r(t,n={}){let o=await e.post("resolve",{signal:n.signal,searchParams:l({arg:t,...n}),headers:n.headers}),{Path:s}=await o.json();return s}return r});var Dd=y(Ke()),Od=u(e=>async(t={})=>{throw(0,Dd.default)(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")});var Rd=u(e=>{async function r(t={}){await(await e.post("shutdown",{signal:t.signal,searchParams:l(t),headers:t.headers})).text()}return r});var Ld=u(e=>{async function r(t={}){let n=await e.post("version",{signal:t.signal,searchParams:l(t),headers:t.headers});return{...P(await n.json()),"ipfs-http-client":"1.0.0"}}return r});var Md=y($d());T();var qd=y(F()),Hd=y(Fd());function $b(e={}){let r={name:jt.name,code:jt.code,encode:f=>f,decode:f=>f},t=Object.values(Lr);(e.ipld&&e.ipld.bases?e.ipld.bases:[]).forEach(f=>t.push(f));let n=new cn({bases:t,loadBase:e.ipld&&e.ipld.loadBase}),o=Object.values(Mi);[wn,_n,r].concat(e.ipld&&e.ipld.codecs||[]).forEach(f=>o.push(f));let s=new un({codecs:o,loadCodec:e.ipld&&e.ipld.loadCodec}),i=Object.values(Fi);(e.ipld&&e.ipld.hashers?e.ipld.hashers:[]).forEach(f=>i.push(f));let a=new ln({hashers:i,loadHasher:e.ipld&&e.ipld.loadHasher});return{add:Ed(e),addAll:tn(e),bitswap:Wc(e),block:yl(e),bootstrap:Al(e),cat:Pd(e),commands:Td(e),config:Rl(e),dag:Xl(s,e),dht:df(e),diag:yf(e),dns:vd(e),files:Nf(e),get:Ad(e),getEndpointConfig:Cd(e),id:an(e),isOnline:Ud(e),key:qf(e),log:Wf(e),ls:_d(e),mount:kd(e),name:em(e),object:pm(s,e),pin:Dm(e),ping:Nd(e),pubsub:Hm(e),refs:Gm(e),repo:Km(e),resolve:Id(e),start:Od(e),stats:Qm(e),stop:Rd(e),swarm:id(e),version:Ld(e),bases:n,codecs:s,hashers:a}}var zb=Md.default;return Fb;})();
return IpfsHttpClient}));
